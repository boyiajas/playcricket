/**
* @vue/shared v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ni(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const se={},Xt=[],ot=()=>{},Al=()=>!1,Eo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Di=t=>t.startsWith("onUpdate:"),Ae=Object.assign,ki=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Pu=Object.prototype.hasOwnProperty,ee=(t,e)=>Pu.call(t,e),O=Array.isArray,Qt=t=>Fn(t)==="[object Map]",Co=t=>Fn(t)==="[object Set]",ds=t=>Fn(t)==="[object Date]",Y=t=>typeof t=="function",he=t=>typeof t=="string",it=t=>typeof t=="symbol",de=t=>t!==null&&typeof t=="object",wl=t=>(de(t)||Y(t))&&Y(t.then)&&Y(t.catch),Rl=Object.prototype.toString,Fn=t=>Rl.call(t),Nu=t=>Fn(t).slice(8,-1),Ml=t=>Fn(t)==="[object Object]",Ui=t=>he(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,En=Ni(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),So=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Du=/-\w/g,It=So(t=>t.replace(Du,e=>e.slice(1).toUpperCase())),ku=/\B([A-Z])/g,At=So(t=>t.replace(ku,"-$1").toLowerCase()),bl=So(t=>t.charAt(0).toUpperCase()+t.slice(1)),qo=So(t=>t?`on${bl(t)}`:""),St=(t,e)=>!Object.is(t,e),Xn=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Pl=(t,e,n,o=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:o,value:n})},Io=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let fs;const xo=()=>fs||(fs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function bn(t){if(O(t)){const e={};for(let n=0;n<t.length;n++){const o=t[n],i=he(o)?Vu(o):bn(o);if(i)for(const s in i)e[s]=i[s]}return e}else if(he(t)||de(t))return t}const Uu=/;(?![^(]*\))/g,Fu=/:([^]+)/,Lu=/\/\*[^]*?\*\//g;function Vu(t){const e={};return t.replace(Lu,"").split(Uu).forEach(n=>{if(n){const o=n.split(Fu);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e}function ue(t){let e="";if(he(t))e=t;else if(O(t))for(let n=0;n<t.length;n++){const o=ue(t[n]);o&&(e+=o+" ")}else if(de(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Gu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Hu=Ni(Gu);function Nl(t){return!!t||t===""}function $u(t,e){if(t.length!==e.length)return!1;let n=!0;for(let o=0;n&&o<t.length;o++)n=Ao(t[o],e[o]);return n}function Ao(t,e){if(t===e)return!0;let n=ds(t),o=ds(e);if(n||o)return n&&o?t.getTime()===e.getTime():!1;if(n=it(t),o=it(e),n||o)return t===e;if(n=O(t),o=O(e),n||o)return n&&o?$u(t,e):!1;if(n=de(t),o=de(e),n||o){if(!n||!o)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const l in t){const u=t.hasOwnProperty(l),d=e.hasOwnProperty(l);if(u&&!d||!u&&d||!Ao(t[l],e[l]))return!1}}return String(t)===String(e)}function qu(t,e){return t.findIndex(n=>Ao(n,e))}const Dl=t=>!!(t&&t.__v_isRef===!0),J=t=>he(t)?t:t==null?"":O(t)||de(t)&&(t.toString===Rl||!Y(t.toString))?Dl(t)?J(t.value):JSON.stringify(t,kl,2):String(t),kl=(t,e)=>Dl(e)?kl(t,e.value):Qt(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[o,i],s)=>(n[Bo(o,s)+" =>"]=i,n),{})}:Co(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Bo(n))}:it(e)?Bo(e):de(e)&&!O(e)&&!Ml(e)?String(e):e,Bo=(t,e="")=>{var n;return it(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pe;class Bu{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Pe,!e&&Pe&&(this.index=(Pe.scopes||(Pe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Pe;try{return Pe=this,e()}finally{Pe=n}}}on(){++this._on===1&&(this.prevScope=Pe,Pe=this)}off(){this._on>0&&--this._on===0&&(Pe=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Ju(){return Pe}let ae;const Jo=new WeakSet;class Ul{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Pe&&Pe.active&&Pe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Jo.has(this)&&(Jo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ll(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ps(this),Vl(this);const e=ae,n=Je;ae=this,Je=!0;try{return this.fn()}finally{Gl(this),ae=e,Je=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Vi(e);this.deps=this.depsTail=void 0,ps(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Jo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ni(this)&&this.run()}get dirty(){return ni(this)}}let Fl=0,Cn,Sn;function Ll(t,e=!1){if(t.flags|=8,e){t.next=Sn,Sn=t;return}t.next=Cn,Cn=t}function Fi(){Fl++}function Li(){if(--Fl>0)return;if(Sn){let e=Sn;for(Sn=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Cn;){let e=Cn;for(Cn=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(o){t||(t=o)}e=n}}if(t)throw t}function Vl(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Gl(t){let e,n=t.depsTail,o=n;for(;o;){const i=o.prevDep;o.version===-1?(o===n&&(n=i),Vi(o),Ou(o)):e=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=i}t.deps=e,t.depsTail=n}function ni(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Hl(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Hl(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Pn)||(t.globalVersion=Pn,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!ni(t))))return;t.flags|=2;const e=t.dep,n=ae,o=Je;ae=t,Je=!0;try{Vl(t);const i=t.fn(t._value);(e.version===0||St(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{ae=n,Je=o,Gl(t),t.flags&=-3}}function Vi(t,e=!1){const{dep:n,prevSub:o,nextSub:i}=t;if(o&&(o.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=o,t.nextSub=void 0),n.subs===t&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Vi(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ou(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Je=!0;const $l=[];function ft(){$l.push(Je),Je=!1}function pt(){const t=$l.pop();Je=t===void 0?!0:t}function ps(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=ae;ae=void 0;try{e()}finally{ae=n}}}let Pn=0;class Ku{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Gi{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!ae||!Je||ae===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ae)n=this.activeLink=new Ku(ae,this),ae.deps?(n.prevDep=ae.depsTail,ae.depsTail.nextDep=n,ae.depsTail=n):ae.deps=ae.depsTail=n,ql(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=ae.depsTail,n.nextDep=void 0,ae.depsTail.nextDep=n,ae.depsTail=n,ae.deps===n&&(ae.deps=o)}return n}trigger(e){this.version++,Pn++,this.notify(e)}notify(e){Fi();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Li()}}}function ql(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let o=e.deps;o;o=o.nextDep)ql(o)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const oi=new WeakMap,Gt=Symbol(""),ii=Symbol(""),Nn=Symbol("");function ve(t,e,n){if(Je&&ae){let o=oi.get(t);o||oi.set(t,o=new Map);let i=o.get(n);i||(o.set(n,i=new Gi),i.map=o,i.key=n),i.track()}}function ut(t,e,n,o,i,s){const l=oi.get(t);if(!l){Pn++;return}const u=d=>{d&&d.trigger()};if(Fi(),e==="clear")l.forEach(u);else{const d=O(t),c=d&&Ui(n);if(d&&n==="length"){const f=Number(o);l.forEach((p,h)=>{(h==="length"||h===Nn||!it(h)&&h>=f)&&u(p)})}else switch((n!==void 0||l.has(void 0))&&u(l.get(n)),c&&u(l.get(Nn)),e){case"add":d?c&&u(l.get("length")):(u(l.get(Gt)),Qt(t)&&u(l.get(ii)));break;case"delete":d||(u(l.get(Gt)),Qt(t)&&u(l.get(ii)));break;case"set":Qt(t)&&u(l.get(Gt));break}}Li()}function Jt(t){const e=j(t);return e===t?e:(ve(e,"iterate",Nn),He(t)?e:e.map(We))}function wo(t){return ve(t=j(t),"iterate",Nn),t}function _t(t,e){return ht(t)?Ht(t)?sn(We(e)):sn(e):We(e)}const Wu={__proto__:null,[Symbol.iterator](){return Oo(this,Symbol.iterator,t=>_t(this,t))},concat(...t){return Jt(this).concat(...t.map(e=>O(e)?Jt(e):e))},entries(){return Oo(this,"entries",t=>(t[1]=_t(this,t[1]),t))},every(t,e){return rt(this,"every",t,e,void 0,arguments)},filter(t,e){return rt(this,"filter",t,e,n=>n.map(o=>_t(this,o)),arguments)},find(t,e){return rt(this,"find",t,e,n=>_t(this,n),arguments)},findIndex(t,e){return rt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return rt(this,"findLast",t,e,n=>_t(this,n),arguments)},findLastIndex(t,e){return rt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return rt(this,"forEach",t,e,void 0,arguments)},includes(...t){return Ko(this,"includes",t)},indexOf(...t){return Ko(this,"indexOf",t)},join(t){return Jt(this).join(t)},lastIndexOf(...t){return Ko(this,"lastIndexOf",t)},map(t,e){return rt(this,"map",t,e,void 0,arguments)},pop(){return mn(this,"pop")},push(...t){return mn(this,"push",t)},reduce(t,...e){return hs(this,"reduce",t,e)},reduceRight(t,...e){return hs(this,"reduceRight",t,e)},shift(){return mn(this,"shift")},some(t,e){return rt(this,"some",t,e,void 0,arguments)},splice(...t){return mn(this,"splice",t)},toReversed(){return Jt(this).toReversed()},toSorted(t){return Jt(this).toSorted(t)},toSpliced(...t){return Jt(this).toSpliced(...t)},unshift(...t){return mn(this,"unshift",t)},values(){return Oo(this,"values",t=>_t(this,t))}};function Oo(t,e,n){const o=wo(t),i=o[e]();return o!==t&&!He(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.done||(s.value=n(s.value)),s}),i}const Yu=Array.prototype;function rt(t,e,n,o,i,s){const l=wo(t),u=l!==t&&!He(t),d=l[e];if(d!==Yu[e]){const p=d.apply(t,s);return u?We(p):p}let c=n;l!==t&&(u?c=function(p,h){return n.call(this,_t(t,p),h,t)}:n.length>2&&(c=function(p,h){return n.call(this,p,h,t)}));const f=d.call(l,c,o);return u&&i?i(f):f}function hs(t,e,n,o){const i=wo(t);let s=n;return i!==t&&(He(t)?n.length>3&&(s=function(l,u,d){return n.call(this,l,u,d,t)}):s=function(l,u,d){return n.call(this,l,_t(t,u),d,t)}),i[e](s,...o)}function Ko(t,e,n){const o=j(t);ve(o,"iterate",Nn);const i=o[e](...n);return(i===-1||i===!1)&&Bi(n[0])?(n[0]=j(n[0]),o[e](...n)):i}function mn(t,e,n=[]){ft(),Fi();const o=j(t)[e].apply(t,n);return Li(),pt(),o}const zu=Ni("__proto__,__v_isRef,__isVue"),Bl=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(it));function Xu(t){it(t)||(t=String(t));const e=j(this);return ve(e,"has",t),e.hasOwnProperty(t)}class Jl{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,o){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return o===(i?s?rc:Yl:s?Wl:Kl).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(o)?e:void 0;const l=O(e);if(!i){let d;if(l&&(d=Wu[n]))return d;if(n==="hasOwnProperty")return Xu}const u=Reflect.get(e,n,Te(e)?e:o);if((it(n)?Bl.has(n):zu(n))||(i||ve(e,"get",n),s))return u;if(Te(u)){const d=l&&Ui(n)?u:u.value;return i&&de(d)?ri(d):d}return de(u)?i?ri(u):$i(u):u}}class Ol extends Jl{constructor(e=!1){super(!1,e)}set(e,n,o,i){let s=e[n];const l=O(e)&&Ui(n);if(!this._isShallow){const c=ht(s);if(!He(o)&&!ht(o)&&(s=j(s),o=j(o)),!l&&Te(s)&&!Te(o))return c||(s.value=o),!0}const u=l?Number(n)<e.length:ee(e,n),d=Reflect.set(e,n,o,Te(e)?e:i);return e===j(i)&&(u?St(o,s)&&ut(e,"set",n,o):ut(e,"add",n,o)),d}deleteProperty(e,n){const o=ee(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&o&&ut(e,"delete",n,void 0),i}has(e,n){const o=Reflect.has(e,n);return(!it(n)||!Bl.has(n))&&ve(e,"has",n),o}ownKeys(e){return ve(e,"iterate",O(e)?"length":Gt),Reflect.ownKeys(e)}}class Qu extends Jl{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Zu=new Ol,ju=new Qu,ec=new Ol(!0);const si=t=>t,$n=t=>Reflect.getPrototypeOf(t);function tc(t,e,n){return function(...o){const i=this.__v_raw,s=j(i),l=Qt(s),u=t==="entries"||t===Symbol.iterator&&l,d=t==="keys"&&l,c=i[t](...o),f=n?si:e?sn:We;return!e&&ve(s,"iterate",d?ii:Gt),{next(){const{value:p,done:h}=c.next();return h?{value:p,done:h}:{value:u?[f(p[0]),f(p[1])]:f(p),done:h}},[Symbol.iterator](){return this}}}}function qn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function nc(t,e){const n={get(i){const s=this.__v_raw,l=j(s),u=j(i);t||(St(i,u)&&ve(l,"get",i),ve(l,"get",u));const{has:d}=$n(l),c=e?si:t?sn:We;if(d.call(l,i))return c(s.get(i));if(d.call(l,u))return c(s.get(u));s!==l&&s.get(i)},get size(){const i=this.__v_raw;return!t&&ve(j(i),"iterate",Gt),i.size},has(i){const s=this.__v_raw,l=j(s),u=j(i);return t||(St(i,u)&&ve(l,"has",i),ve(l,"has",u)),i===u?s.has(i):s.has(i)||s.has(u)},forEach(i,s){const l=this,u=l.__v_raw,d=j(u),c=e?si:t?sn:We;return!t&&ve(d,"iterate",Gt),u.forEach((f,p)=>i.call(s,c(f),c(p),l))}};return Ae(n,t?{add:qn("add"),set:qn("set"),delete:qn("delete"),clear:qn("clear")}:{add(i){!e&&!He(i)&&!ht(i)&&(i=j(i));const s=j(this);return $n(s).has.call(s,i)||(s.add(i),ut(s,"add",i,i)),this},set(i,s){!e&&!He(s)&&!ht(s)&&(s=j(s));const l=j(this),{has:u,get:d}=$n(l);let c=u.call(l,i);c||(i=j(i),c=u.call(l,i));const f=d.call(l,i);return l.set(i,s),c?St(s,f)&&ut(l,"set",i,s):ut(l,"add",i,s),this},delete(i){const s=j(this),{has:l,get:u}=$n(s);let d=l.call(s,i);d||(i=j(i),d=l.call(s,i)),u&&u.call(s,i);const c=s.delete(i);return d&&ut(s,"delete",i,void 0),c},clear(){const i=j(this),s=i.size!==0,l=i.clear();return s&&ut(i,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=tc(i,t,e)}),n}function Hi(t,e){const n=nc(t,e);return(o,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?o:Reflect.get(ee(n,i)&&i in o?n:o,i,s)}const oc={get:Hi(!1,!1)},ic={get:Hi(!1,!0)},sc={get:Hi(!0,!1)};const Kl=new WeakMap,Wl=new WeakMap,Yl=new WeakMap,rc=new WeakMap;function lc(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ac(t){return t.__v_skip||!Object.isExtensible(t)?0:lc(Nu(t))}function $i(t){return ht(t)?t:qi(t,!1,Zu,oc,Kl)}function uc(t){return qi(t,!1,ec,ic,Wl)}function ri(t){return qi(t,!0,ju,sc,Yl)}function qi(t,e,n,o,i){if(!de(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=ac(t);if(s===0)return t;const l=i.get(t);if(l)return l;const u=new Proxy(t,s===2?o:n);return i.set(t,u),u}function Ht(t){return ht(t)?Ht(t.__v_raw):!!(t&&t.__v_isReactive)}function ht(t){return!!(t&&t.__v_isReadonly)}function He(t){return!!(t&&t.__v_isShallow)}function Bi(t){return t?!!t.__v_raw:!1}function j(t){const e=t&&t.__v_raw;return e?j(e):t}function cc(t){return!ee(t,"__v_skip")&&Object.isExtensible(t)&&Pl(t,"__v_skip",!0),t}const We=t=>de(t)?$i(t):t,sn=t=>de(t)?ri(t):t;function Te(t){return t?t.__v_isRef===!0:!1}function pe(t){return dc(t,!1)}function dc(t,e){return Te(t)?t:new fc(t,e)}class fc{constructor(e,n){this.dep=new Gi,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:j(e),this._value=n?e:We(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,o=this.__v_isShallow||He(e)||ht(e);e=o?e:j(e),St(e,n)&&(this._rawValue=e,this._value=o?e:We(e),this.dep.trigger())}}function dt(t){return Te(t)?t.value:t}const pc={get:(t,e,n)=>e==="__v_raw"?t:dt(Reflect.get(t,e,n)),set:(t,e,n,o)=>{const i=t[e];return Te(i)&&!Te(n)?(i.value=n,!0):Reflect.set(t,e,n,o)}};function zl(t){return Ht(t)?t:new Proxy(t,pc)}class hc{constructor(e,n,o){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Gi(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Pn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&ae!==this)return Ll(this,!0),!0}get value(){const e=this.dep.track();return Hl(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function mc(t,e,n=!1){let o,i;return Y(t)?o=t:(o=t.get,i=t.set),new hc(o,i,n)}const Bn={},io=new WeakMap;let Dt;function gc(t,e=!1,n=Dt){if(n){let o=io.get(n);o||io.set(n,o=[]),o.push(t)}}function yc(t,e,n=se){const{immediate:o,deep:i,once:s,scheduler:l,augmentJob:u,call:d}=n,c=I=>i?I:He(I)||i===!1||i===0?ct(I,1):ct(I);let f,p,h,m,y=!1,T=!1;if(Te(t)?(p=()=>t.value,y=He(t)):Ht(t)?(p=()=>c(t),y=!0):O(t)?(T=!0,y=t.some(I=>Ht(I)||He(I)),p=()=>t.map(I=>{if(Te(I))return I.value;if(Ht(I))return c(I);if(Y(I))return d?d(I,2):I()})):Y(t)?e?p=d?()=>d(t,2):t:p=()=>{if(h){ft();try{h()}finally{pt()}}const I=Dt;Dt=f;try{return d?d(t,3,[m]):t(m)}finally{Dt=I}}:p=ot,e&&i){const I=p,F=i===!0?1/0:i;p=()=>ct(I(),F)}const E=Ju(),S=()=>{f.stop(),E&&E.active&&ki(E.effects,f)};if(s&&e){const I=e;e=(...F)=>{I(...F),S()}}let M=T?new Array(t.length).fill(Bn):Bn;const A=I=>{if(!(!(f.flags&1)||!f.dirty&&!I))if(e){const F=f.run();if(i||y||(T?F.some((B,G)=>St(B,M[G])):St(F,M))){h&&h();const B=Dt;Dt=f;try{const G=[F,M===Bn?void 0:T&&M[0]===Bn?[]:M,m];M=F,d?d(e,3,G):e(...G)}finally{Dt=B}}}else f.run()};return u&&u(A),f=new Ul(p),f.scheduler=l?()=>l(A,!1):A,m=I=>gc(I,!1,f),h=f.onStop=()=>{const I=io.get(f);if(I){if(d)d(I,4);else for(const F of I)F();io.delete(f)}},e?o?A(!0):M=f.run():l?l(A.bind(null,!0),!0):f.run(),S.pause=f.pause.bind(f),S.resume=f.resume.bind(f),S.stop=S,S}function ct(t,e=1/0,n){if(e<=0||!de(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,Te(t))ct(t.value,e,n);else if(O(t))for(let o=0;o<t.length;o++)ct(t[o],e,n);else if(Co(t)||Qt(t))t.forEach(o=>{ct(o,e,n)});else if(Ml(t)){for(const o in t)ct(t[o],e,n);for(const o of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,o)&&ct(t[o],e,n)}return t}/**
* @vue/runtime-core v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ln(t,e,n,o){try{return o?t(...o):t()}catch(i){Ro(i,e,n)}}function st(t,e,n,o){if(Y(t)){const i=Ln(t,e,n,o);return i&&wl(i)&&i.catch(s=>{Ro(s,e,n)}),i}if(O(t)){const i=[];for(let s=0;s<t.length;s++)i.push(st(t[s],e,n,o));return i}}function Ro(t,e,n,o=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:l}=e&&e.appContext.config||se;if(e){let u=e.parent;const d=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;u;){const f=u.ec;if(f){for(let p=0;p<f.length;p++)if(f[p](t,d,c)===!1)return}u=u.parent}if(s){ft(),Ln(s,null,10,[t,d,c]),pt();return}}vc(t,n,i,o,l)}function vc(t,e,n,o=!0,i=!1){if(i)throw t;console.error(t)}const Se=[];let tt=-1;const Zt=[];let Tt=null,Kt=0;const Xl=Promise.resolve();let so=null;function Ql(t){const e=so||Xl;return t?e.then(this?t.bind(this):t):e}function _c(t){let e=tt+1,n=Se.length;for(;e<n;){const o=e+n>>>1,i=Se[o],s=Dn(i);s<t||s===t&&i.flags&2?e=o+1:n=o}return e}function Ji(t){if(!(t.flags&1)){const e=Dn(t),n=Se[Se.length-1];!n||!(t.flags&2)&&e>=Dn(n)?Se.push(t):Se.splice(_c(e),0,t),t.flags|=1,Zl()}}function Zl(){so||(so=Xl.then(ea))}function Tc(t){O(t)?Zt.push(...t):Tt&&t.id===-1?Tt.splice(Kt+1,0,t):t.flags&1||(Zt.push(t),t.flags|=1),Zl()}function ms(t,e,n=tt+1){for(;n<Se.length;n++){const o=Se[n];if(o&&o.flags&2){if(t&&o.id!==t.uid)continue;Se.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function jl(t){if(Zt.length){const e=[...new Set(Zt)].sort((n,o)=>Dn(n)-Dn(o));if(Zt.length=0,Tt){Tt.push(...e);return}for(Tt=e,Kt=0;Kt<Tt.length;Kt++){const n=Tt[Kt];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Tt=null,Kt=0}}const Dn=t=>t.id==null?t.flags&2?-1:1/0:t.id;function ea(t){try{for(tt=0;tt<Se.length;tt++){const e=Se[tt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ln(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;tt<Se.length;tt++){const e=Se[tt];e&&(e.flags&=-2)}tt=-1,Se.length=0,jl(),so=null,(Se.length||Zt.length)&&ea()}}let Ge=null,ta=null;function ro(t){const e=Ge;return Ge=t,ta=t&&t.type.__scopeId||null,e}function Ec(t,e=Ge,n){if(!e||t._n)return t;const o=(...i)=>{o._d&&xs(-1);const s=ro(e);let l;try{l=t(...i)}finally{ro(s),o._d&&xs(1)}return l};return o._n=!0,o._c=!0,o._d=!0,o}function Lt(t,e){if(Ge===null)return t;const n=Do(Ge),o=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,l,u,d=se]=e[i];s&&(Y(s)&&(s={mounted:s,updated:s}),s.deep&&ct(l),o.push({dir:s,instance:n,value:l,oldValue:void 0,arg:u,modifiers:d}))}return t}function bt(t,e,n,o){const i=t.dirs,s=e&&e.dirs;for(let l=0;l<i.length;l++){const u=i[l];s&&(u.oldValue=s[l].value);let d=u.dir[o];d&&(ft(),st(d,n,8,[t.el,u,t,e]),pt())}}function Cc(t,e){if(Ie){let n=Ie.provides;const o=Ie.parent&&Ie.parent.provides;o===n&&(n=Ie.provides=Object.create(o)),n[t]=e}}function Qn(t,e,n=!1){const o=_d();if(o||jt){let i=jt?jt._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Y(e)?e.call(o&&o.proxy):e}}const Sc=Symbol.for("v-scx"),Ic=()=>Qn(Sc);function In(t,e,n){return na(t,e,n)}function na(t,e,n=se){const{immediate:o,deep:i,flush:s,once:l}=n,u=Ae({},n),d=e&&o||!e&&s!=="post";let c;if(Un){if(s==="sync"){const m=Ic();c=m.__watcherHandles||(m.__watcherHandles=[])}else if(!d){const m=()=>{};return m.stop=ot,m.resume=ot,m.pause=ot,m}}const f=Ie;u.call=(m,y,T)=>st(m,f,y,T);let p=!1;s==="post"?u.scheduler=m=>{Fe(m,f&&f.suspense)}:s!=="sync"&&(p=!0,u.scheduler=(m,y)=>{y?m():Ji(m)}),u.augmentJob=m=>{e&&(m.flags|=4),p&&(m.flags|=2,f&&(m.id=f.uid,m.i=f))};const h=yc(t,e,u);return Un&&(c?c.push(h):d&&h()),h}function xc(t,e,n){const o=this.proxy,i=he(t)?t.includes(".")?oa(o,t):()=>o[t]:t.bind(o,o);let s;Y(e)?s=e:(s=e.handler,n=e);const l=Vn(this),u=na(i,s.bind(o),n);return l(),u}function oa(t,e){const n=e.split(".");return()=>{let o=t;for(let i=0;i<n.length&&o;i++)o=o[n[i]];return o}}const Ac=Symbol("_vte"),wc=t=>t.__isTeleport,Rc=Symbol("_leaveCb");function Oi(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Oi(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ia(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const lo=new WeakMap;function xn(t,e,n,o,i=!1){if(O(t)){t.forEach((y,T)=>xn(y,e&&(O(e)?e[T]:e),n,o,i));return}if(An(o)&&!i){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&xn(t,e,n,o.component.subTree);return}const s=o.shapeFlag&4?Do(o.component):o.el,l=i?null:s,{i:u,r:d}=t,c=e&&e.r,f=u.refs===se?u.refs={}:u.refs,p=u.setupState,h=j(p),m=p===se?Al:y=>ee(h,y);if(c!=null&&c!==d){if(gs(e),he(c))f[c]=null,m(c)&&(p[c]=null);else if(Te(c)){c.value=null;const y=e;y.k&&(f[y.k]=null)}}if(Y(d))Ln(d,u,12,[l,f]);else{const y=he(d),T=Te(d);if(y||T){const E=()=>{if(t.f){const S=y?m(d)?p[d]:f[d]:d.value;if(i)O(S)&&ki(S,s);else if(O(S))S.includes(s)||S.push(s);else if(y)f[d]=[s],m(d)&&(p[d]=f[d]);else{const M=[s];d.value=M,t.k&&(f[t.k]=M)}}else y?(f[d]=l,m(d)&&(p[d]=l)):T&&(d.value=l,t.k&&(f[t.k]=l))};if(l){const S=()=>{E(),lo.delete(t)};S.id=-1,lo.set(t,S),Fe(S,n)}else gs(t),E()}}}function gs(t){const e=lo.get(t);e&&(e.flags|=8,lo.delete(t))}xo().requestIdleCallback;xo().cancelIdleCallback;const An=t=>!!t.type.__asyncLoader,sa=t=>t.type.__isKeepAlive;function Mc(t,e){ra(t,"a",e)}function bc(t,e){ra(t,"da",e)}function ra(t,e,n=Ie){const o=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Mo(e,o,n),n){let i=n.parent;for(;i&&i.parent;)sa(i.parent.vnode)&&Pc(o,e,n,i),i=i.parent}}function Pc(t,e,n,o){const i=Mo(e,t,o,!0);ua(()=>{ki(o[e],i)},n)}function Mo(t,e,n=Ie,o=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...l)=>{ft();const u=Vn(n),d=st(e,n,t,l);return u(),pt(),d});return o?i.unshift(s):i.push(s),s}}const gt=t=>(e,n=Ie)=>{(!Un||t==="sp")&&Mo(t,(...o)=>e(...o),n)},Nc=gt("bm"),la=gt("m"),Dc=gt("bu"),kc=gt("u"),aa=gt("bum"),ua=gt("um"),Uc=gt("sp"),Fc=gt("rtg"),Lc=gt("rtc");function Vc(t,e=Ie){Mo("ec",t,e)}const Gc=Symbol.for("v-ndc");function Ne(t,e,n,o){let i;const s=n,l=O(t);if(l||he(t)){const u=l&&Ht(t);let d=!1,c=!1;u&&(d=!He(t),c=ht(t),t=wo(t)),i=new Array(t.length);for(let f=0,p=t.length;f<p;f++)i[f]=e(d?c?sn(We(t[f])):We(t[f]):t[f],f,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let u=0;u<t;u++)i[u]=e(u+1,u,void 0,s)}else if(de(t))if(t[Symbol.iterator])i=Array.from(t,(u,d)=>e(u,d,void 0,s));else{const u=Object.keys(t);i=new Array(u.length);for(let d=0,c=u.length;d<c;d++){const f=u[d];i[d]=e(t[f],f,d,s)}}else i=[];return i}const li=t=>t?Ma(t)?Do(t):li(t.parent):null,wn=Ae(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>li(t.parent),$root:t=>li(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>da(t),$forceUpdate:t=>t.f||(t.f=()=>{Ji(t.update)}),$nextTick:t=>t.n||(t.n=Ql.bind(t.proxy)),$watch:t=>xc.bind(t)}),Wo=(t,e)=>t!==se&&!t.__isScriptSetup&&ee(t,e),Hc={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:o,data:i,props:s,accessCache:l,type:u,appContext:d}=t;if(e[0]!=="$"){const h=l[e];if(h!==void 0)switch(h){case 1:return o[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Wo(o,e))return l[e]=1,o[e];if(i!==se&&ee(i,e))return l[e]=2,i[e];if(ee(s,e))return l[e]=3,s[e];if(n!==se&&ee(n,e))return l[e]=4,n[e];ai&&(l[e]=0)}}const c=wn[e];let f,p;if(c)return e==="$attrs"&&ve(t.attrs,"get",""),c(t);if((f=u.__cssModules)&&(f=f[e]))return f;if(n!==se&&ee(n,e))return l[e]=4,n[e];if(p=d.config.globalProperties,ee(p,e))return p[e]},set({_:t},e,n){const{data:o,setupState:i,ctx:s}=t;return Wo(i,e)?(i[e]=n,!0):o!==se&&ee(o,e)?(o[e]=n,!0):ee(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:o,appContext:i,props:s,type:l}},u){let d;return!!(n[u]||t!==se&&u[0]!=="$"&&ee(t,u)||Wo(e,u)||ee(s,u)||ee(o,u)||ee(wn,u)||ee(i.config.globalProperties,u)||(d=l.__cssModules)&&d[u])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ee(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function ys(t){return O(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let ai=!0;function $c(t){const e=da(t),n=t.proxy,o=t.ctx;ai=!1,e.beforeCreate&&vs(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:l,watch:u,provide:d,inject:c,created:f,beforeMount:p,mounted:h,beforeUpdate:m,updated:y,activated:T,deactivated:E,beforeDestroy:S,beforeUnmount:M,destroyed:A,unmounted:I,render:F,renderTracked:B,renderTriggered:G,errorCaptured:X,serverPrefetch:V,expose:z,inheritAttrs:ne,components:ke,directives:oe,filters:Re}=e;if(c&&qc(c,o,null),l)for(const ie in l){const re=l[ie];Y(re)&&(o[ie]=re.bind(n))}if(i){const ie=i.call(n,n);de(ie)&&(t.data=$i(ie))}if(ai=!0,s)for(const ie in s){const re=s[ie],Rt=Y(re)?re.bind(n,n):Y(re.get)?re.get.bind(n,n):ot,Gn=!Y(re)&&Y(re.set)?re.set.bind(n):ot,Mt=De({get:Rt,set:Gn});Object.defineProperty(o,ie,{enumerable:!0,configurable:!0,get:()=>Mt.value,set:ze=>Mt.value=ze})}if(u)for(const ie in u)ca(u[ie],o,n,ie);if(d){const ie=Y(d)?d.call(n):d;Reflect.ownKeys(ie).forEach(re=>{Cc(re,ie[re])})}f&&vs(f,t,"c");function fe(ie,re){O(re)?re.forEach(Rt=>ie(Rt.bind(n))):re&&ie(re.bind(n))}if(fe(Nc,p),fe(la,h),fe(Dc,m),fe(kc,y),fe(Mc,T),fe(bc,E),fe(Vc,X),fe(Lc,B),fe(Fc,G),fe(aa,M),fe(ua,I),fe(Uc,V),O(z))if(z.length){const ie=t.exposed||(t.exposed={});z.forEach(re=>{Object.defineProperty(ie,re,{get:()=>n[re],set:Rt=>n[re]=Rt,enumerable:!0})})}else t.exposed||(t.exposed={});F&&t.render===ot&&(t.render=F),ne!=null&&(t.inheritAttrs=ne),ke&&(t.components=ke),oe&&(t.directives=oe),V&&ia(t)}function qc(t,e,n=ot){O(t)&&(t=ui(t));for(const o in t){const i=t[o];let s;de(i)?"default"in i?s=Qn(i.from||o,i.default,!0):s=Qn(i.from||o):s=Qn(i),Te(s)?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:l=>s.value=l}):e[o]=s}}function vs(t,e,n){st(O(t)?t.map(o=>o.bind(e.proxy)):t.bind(e.proxy),e,n)}function ca(t,e,n,o){let i=o.includes(".")?oa(n,o):()=>n[o];if(he(t)){const s=e[t];Y(s)&&In(i,s)}else if(Y(t))In(i,t.bind(n));else if(de(t))if(O(t))t.forEach(s=>ca(s,e,n,o));else{const s=Y(t.handler)?t.handler.bind(n):e[t.handler];Y(s)&&In(i,s,t)}}function da(t){const e=t.type,{mixins:n,extends:o}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:l}}=t.appContext,u=s.get(e);let d;return u?d=u:!i.length&&!n&&!o?d=e:(d={},i.length&&i.forEach(c=>ao(d,c,l,!0)),ao(d,e,l)),de(e)&&s.set(e,d),d}function ao(t,e,n,o=!1){const{mixins:i,extends:s}=e;s&&ao(t,s,n,!0),i&&i.forEach(l=>ao(t,l,n,!0));for(const l in e)if(!(o&&l==="expose")){const u=Bc[l]||n&&n[l];t[l]=u?u(t[l],e[l]):e[l]}return t}const Bc={data:_s,props:Ts,emits:Ts,methods:_n,computed:_n,beforeCreate:Ee,created:Ee,beforeMount:Ee,mounted:Ee,beforeUpdate:Ee,updated:Ee,beforeDestroy:Ee,beforeUnmount:Ee,destroyed:Ee,unmounted:Ee,activated:Ee,deactivated:Ee,errorCaptured:Ee,serverPrefetch:Ee,components:_n,directives:_n,watch:Oc,provide:_s,inject:Jc};function _s(t,e){return e?t?function(){return Ae(Y(t)?t.call(this,this):t,Y(e)?e.call(this,this):e)}:e:t}function Jc(t,e){return _n(ui(t),ui(e))}function ui(t){if(O(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ee(t,e){return t?[...new Set([].concat(t,e))]:e}function _n(t,e){return t?Ae(Object.create(null),t,e):e}function Ts(t,e){return t?O(t)&&O(e)?[...new Set([...t,...e])]:Ae(Object.create(null),ys(t),ys(e??{})):e}function Oc(t,e){if(!t)return e;if(!e)return t;const n=Ae(Object.create(null),t);for(const o in e)n[o]=Ee(t[o],e[o]);return n}function fa(){return{app:null,config:{isNativeTag:Al,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Kc=0;function Wc(t,e){return function(o,i=null){Y(o)||(o=Ae({},o)),i!=null&&!de(i)&&(i=null);const s=fa(),l=new WeakSet,u=[];let d=!1;const c=s.app={_uid:Kc++,_component:o,_props:i,_container:null,_context:s,_instance:null,version:xd,get config(){return s.config},set config(f){},use(f,...p){return l.has(f)||(f&&Y(f.install)?(l.add(f),f.install(c,...p)):Y(f)&&(l.add(f),f(c,...p))),c},mixin(f){return s.mixins.includes(f)||s.mixins.push(f),c},component(f,p){return p?(s.components[f]=p,c):s.components[f]},directive(f,p){return p?(s.directives[f]=p,c):s.directives[f]},mount(f,p,h){if(!d){const m=c._ceVNode||xe(o,i);return m.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),t(m,f,h),d=!0,c._container=f,f.__vue_app__=c,Do(m.component)}},onUnmount(f){u.push(f)},unmount(){d&&(st(u,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(f,p){return s.provides[f]=p,c},runWithContext(f){const p=jt;jt=c;try{return f()}finally{jt=p}}};return c}}let jt=null;const Yc=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${It(e)}Modifiers`]||t[`${At(e)}Modifiers`];function zc(t,e,...n){if(t.isUnmounted)return;const o=t.vnode.props||se;let i=n;const s=e.startsWith("update:"),l=s&&Yc(o,e.slice(7));l&&(l.trim&&(i=n.map(f=>he(f)?f.trim():f)),l.number&&(i=n.map(Io)));let u,d=o[u=qo(e)]||o[u=qo(It(e))];!d&&s&&(d=o[u=qo(At(e))]),d&&st(d,t,6,i);const c=o[u+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[u])return;t.emitted[u]=!0,st(c,t,6,i)}}const Xc=new WeakMap;function pa(t,e,n=!1){const o=n?Xc:e.emitsCache,i=o.get(t);if(i!==void 0)return i;const s=t.emits;let l={},u=!1;if(!Y(t)){const d=c=>{const f=pa(c,e,!0);f&&(u=!0,Ae(l,f))};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}return!s&&!u?(de(t)&&o.set(t,null),null):(O(s)?s.forEach(d=>l[d]=null):Ae(l,s),de(t)&&o.set(t,l),l)}function bo(t,e){return!t||!Eo(e)?!1:(e=e.slice(2).replace(/Once$/,""),ee(t,e[0].toLowerCase()+e.slice(1))||ee(t,At(e))||ee(t,e))}function Es(t){const{type:e,vnode:n,proxy:o,withProxy:i,propsOptions:[s],slots:l,attrs:u,emit:d,render:c,renderCache:f,props:p,data:h,setupState:m,ctx:y,inheritAttrs:T}=t,E=ro(t);let S,M;try{if(n.shapeFlag&4){const I=i||o,F=I;S=nt(c.call(F,I,f,p,m,h,y)),M=u}else{const I=e;S=nt(I.length>1?I(p,{attrs:u,slots:l,emit:d}):I(p,null)),M=e.props?u:Qc(u)}}catch(I){Rn.length=0,Ro(I,t,1),S=xe(xt)}let A=S;if(M&&T!==!1){const I=Object.keys(M),{shapeFlag:F}=A;I.length&&F&7&&(s&&I.some(Di)&&(M=Zc(M,s)),A=rn(A,M,!1,!0))}return n.dirs&&(A=rn(A,null,!1,!0),A.dirs=A.dirs?A.dirs.concat(n.dirs):n.dirs),n.transition&&Oi(A,n.transition),S=A,ro(E),S}const Qc=t=>{let e;for(const n in t)(n==="class"||n==="style"||Eo(n))&&((e||(e={}))[n]=t[n]);return e},Zc=(t,e)=>{const n={};for(const o in t)(!Di(o)||!(o.slice(9)in e))&&(n[o]=t[o]);return n};function jc(t,e,n){const{props:o,children:i,component:s}=t,{props:l,children:u,patchFlag:d}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&d>=0){if(d&1024)return!0;if(d&16)return o?Cs(o,l,c):!!l;if(d&8){const f=e.dynamicProps;for(let p=0;p<f.length;p++){const h=f[p];if(l[h]!==o[h]&&!bo(c,h))return!0}}}else return(i||u)&&(!u||!u.$stable)?!0:o===l?!1:o?l?Cs(o,l,c):!0:!!l;return!1}function Cs(t,e,n){const o=Object.keys(e);if(o.length!==Object.keys(t).length)return!0;for(let i=0;i<o.length;i++){const s=o[i];if(e[s]!==t[s]&&!bo(n,s))return!0}return!1}function ed({vnode:t,parent:e},n){for(;e;){const o=e.subTree;if(o.suspense&&o.suspense.activeBranch===t&&(o.el=t.el),o===t)(t=e.vnode).el=n,e=e.parent;else break}}const ha={},ma=()=>Object.create(ha),ga=t=>Object.getPrototypeOf(t)===ha;function td(t,e,n,o=!1){const i={},s=ma();t.propsDefaults=Object.create(null),ya(t,e,i,s);for(const l in t.propsOptions[0])l in i||(i[l]=void 0);n?t.props=o?i:uc(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function nd(t,e,n,o){const{props:i,attrs:s,vnode:{patchFlag:l}}=t,u=j(i),[d]=t.propsOptions;let c=!1;if((o||l>0)&&!(l&16)){if(l&8){const f=t.vnode.dynamicProps;for(let p=0;p<f.length;p++){let h=f[p];if(bo(t.emitsOptions,h))continue;const m=e[h];if(d)if(ee(s,h))m!==s[h]&&(s[h]=m,c=!0);else{const y=It(h);i[y]=ci(d,u,y,m,t,!1)}else m!==s[h]&&(s[h]=m,c=!0)}}}else{ya(t,e,i,s)&&(c=!0);let f;for(const p in u)(!e||!ee(e,p)&&((f=At(p))===p||!ee(e,f)))&&(d?n&&(n[p]!==void 0||n[f]!==void 0)&&(i[p]=ci(d,u,p,void 0,t,!0)):delete i[p]);if(s!==u)for(const p in s)(!e||!ee(e,p))&&(delete s[p],c=!0)}c&&ut(t.attrs,"set","")}function ya(t,e,n,o){const[i,s]=t.propsOptions;let l=!1,u;if(e)for(let d in e){if(En(d))continue;const c=e[d];let f;i&&ee(i,f=It(d))?!s||!s.includes(f)?n[f]=c:(u||(u={}))[f]=c:bo(t.emitsOptions,d)||(!(d in o)||c!==o[d])&&(o[d]=c,l=!0)}if(s){const d=j(n),c=u||se;for(let f=0;f<s.length;f++){const p=s[f];n[p]=ci(i,d,p,c[p],t,!ee(c,p))}}return l}function ci(t,e,n,o,i,s){const l=t[n];if(l!=null){const u=ee(l,"default");if(u&&o===void 0){const d=l.default;if(l.type!==Function&&!l.skipFactory&&Y(d)){const{propsDefaults:c}=i;if(n in c)o=c[n];else{const f=Vn(i);o=c[n]=d.call(null,e),f()}}else o=d;i.ce&&i.ce._setProp(n,o)}l[0]&&(s&&!u?o=!1:l[1]&&(o===""||o===At(n))&&(o=!0))}return o}const od=new WeakMap;function va(t,e,n=!1){const o=n?od:e.propsCache,i=o.get(t);if(i)return i;const s=t.props,l={},u=[];let d=!1;if(!Y(t)){const f=p=>{d=!0;const[h,m]=va(p,e,!0);Ae(l,h),m&&u.push(...m)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!s&&!d)return de(t)&&o.set(t,Xt),Xt;if(O(s))for(let f=0;f<s.length;f++){const p=It(s[f]);Ss(p)&&(l[p]=se)}else if(s)for(const f in s){const p=It(f);if(Ss(p)){const h=s[f],m=l[p]=O(h)||Y(h)?{type:h}:Ae({},h),y=m.type;let T=!1,E=!0;if(O(y))for(let S=0;S<y.length;++S){const M=y[S],A=Y(M)&&M.name;if(A==="Boolean"){T=!0;break}else A==="String"&&(E=!1)}else T=Y(y)&&y.name==="Boolean";m[0]=T,m[1]=E,(T||ee(m,"default"))&&u.push(p)}}const c=[l,u];return de(t)&&o.set(t,c),c}function Ss(t){return t[0]!=="$"&&!En(t)}const Ki=t=>t==="_"||t==="_ctx"||t==="$stable",Wi=t=>O(t)?t.map(nt):[nt(t)],id=(t,e,n)=>{if(e._n)return e;const o=Ec((...i)=>Wi(e(...i)),n);return o._c=!1,o},_a=(t,e,n)=>{const o=t._ctx;for(const i in t){if(Ki(i))continue;const s=t[i];if(Y(s))e[i]=id(i,s,o);else if(s!=null){const l=Wi(s);e[i]=()=>l}}},Ta=(t,e)=>{const n=Wi(e);t.slots.default=()=>n},Ea=(t,e,n)=>{for(const o in e)(n||!Ki(o))&&(t[o]=e[o])},sd=(t,e,n)=>{const o=t.slots=ma();if(t.vnode.shapeFlag&32){const i=e._;i?(Ea(o,e,n),n&&Pl(o,"_",i,!0)):_a(e,o)}else e&&Ta(t,e)},rd=(t,e,n)=>{const{vnode:o,slots:i}=t;let s=!0,l=se;if(o.shapeFlag&32){const u=e._;u?n&&u===1?s=!1:Ea(i,e,n):(s=!e.$stable,_a(e,i)),l=e}else e&&(Ta(t,e),l={default:1});if(s)for(const u in i)!Ki(u)&&l[u]==null&&delete i[u]},Fe=dd;function ld(t){return ad(t)}function ad(t,e){const n=xo();n.__VUE__=!0;const{insert:o,remove:i,patchProp:s,createElement:l,createText:u,createComment:d,setText:c,setElementText:f,parentNode:p,nextSibling:h,setScopeId:m=ot,insertStaticContent:y}=t,T=(v,_,C,b=null,x=null,w=null,D=void 0,N=null,P=!!_.dynamicChildren)=>{if(v===_)return;v&&!gn(v,_)&&(b=Hn(v),ze(v,x,w,!0),v=null),_.patchFlag===-2&&(P=!1,_.dynamicChildren=null);const{type:R,ref:q,shapeFlag:U}=_;switch(R){case Po:E(v,_,C,b);break;case xt:S(v,_,C,b);break;case Zn:v==null&&M(_,C,b,D);break;case ce:ke(v,_,C,b,x,w,D,N,P);break;default:U&1?F(v,_,C,b,x,w,D,N,P):U&6?oe(v,_,C,b,x,w,D,N,P):(U&64||U&128)&&R.process(v,_,C,b,x,w,D,N,P,pn)}q!=null&&x?xn(q,v&&v.ref,w,_||v,!_):q==null&&v&&v.ref!=null&&xn(v.ref,null,w,v,!0)},E=(v,_,C,b)=>{if(v==null)o(_.el=u(_.children),C,b);else{const x=_.el=v.el;_.children!==v.children&&c(x,_.children)}},S=(v,_,C,b)=>{v==null?o(_.el=d(_.children||""),C,b):_.el=v.el},M=(v,_,C,b)=>{[v.el,v.anchor]=y(v.children,_,C,b,v.el,v.anchor)},A=({el:v,anchor:_},C,b)=>{let x;for(;v&&v!==_;)x=h(v),o(v,C,b),v=x;o(_,C,b)},I=({el:v,anchor:_})=>{let C;for(;v&&v!==_;)C=h(v),i(v),v=C;i(_)},F=(v,_,C,b,x,w,D,N,P)=>{if(_.type==="svg"?D="svg":_.type==="math"&&(D="mathml"),v==null)B(_,C,b,x,w,D,N,P);else{const R=v.el&&v.el._isVueCE?v.el:null;try{R&&R._beginPatch(),V(v,_,x,w,D,N,P)}finally{R&&R._endPatch()}}},B=(v,_,C,b,x,w,D,N)=>{let P,R;const{props:q,shapeFlag:U,transition:H,dirs:K}=v;if(P=v.el=l(v.type,w,q&&q.is,q),U&8?f(P,v.children):U&16&&X(v.children,P,null,b,x,Yo(v,w),D,N),K&&bt(v,null,b,"created"),G(P,v,v.scopeId,D,b),q){for(const le in q)le!=="value"&&!En(le)&&s(P,le,null,q[le],w,b);"value"in q&&s(P,"value",null,q.value,w),(R=q.onVnodeBeforeMount)&&je(R,b,v)}K&&bt(v,null,b,"beforeMount");const Q=ud(x,H);Q&&H.beforeEnter(P),o(P,_,C),((R=q&&q.onVnodeMounted)||Q||K)&&Fe(()=>{R&&je(R,b,v),Q&&H.enter(P),K&&bt(v,null,b,"mounted")},x)},G=(v,_,C,b,x)=>{if(C&&m(v,C),b)for(let w=0;w<b.length;w++)m(v,b[w]);if(x){let w=x.subTree;if(_===w||xa(w.type)&&(w.ssContent===_||w.ssFallback===_)){const D=x.vnode;G(v,D,D.scopeId,D.slotScopeIds,x.parent)}}},X=(v,_,C,b,x,w,D,N,P=0)=>{for(let R=P;R<v.length;R++){const q=v[R]=N?Et(v[R]):nt(v[R]);T(null,q,_,C,b,x,w,D,N)}},V=(v,_,C,b,x,w,D)=>{const N=_.el=v.el;let{patchFlag:P,dynamicChildren:R,dirs:q}=_;P|=v.patchFlag&16;const U=v.props||se,H=_.props||se;let K;if(C&&Pt(C,!1),(K=H.onVnodeBeforeUpdate)&&je(K,C,_,v),q&&bt(_,v,C,"beforeUpdate"),C&&Pt(C,!0),(U.innerHTML&&H.innerHTML==null||U.textContent&&H.textContent==null)&&f(N,""),R?z(v.dynamicChildren,R,N,C,b,Yo(_,x),w):D||re(v,_,N,null,C,b,Yo(_,x),w,!1),P>0){if(P&16)ne(N,U,H,C,x);else if(P&2&&U.class!==H.class&&s(N,"class",null,H.class,x),P&4&&s(N,"style",U.style,H.style,x),P&8){const Q=_.dynamicProps;for(let le=0;le<Q.length;le++){const te=Q[le],Me=U[te],be=H[te];(be!==Me||te==="value")&&s(N,te,Me,be,x,C)}}P&1&&v.children!==_.children&&f(N,_.children)}else!D&&R==null&&ne(N,U,H,C,x);((K=H.onVnodeUpdated)||q)&&Fe(()=>{K&&je(K,C,_,v),q&&bt(_,v,C,"updated")},b)},z=(v,_,C,b,x,w,D)=>{for(let N=0;N<_.length;N++){const P=v[N],R=_[N],q=P.el&&(P.type===ce||!gn(P,R)||P.shapeFlag&198)?p(P.el):C;T(P,R,q,null,b,x,w,D,!0)}},ne=(v,_,C,b,x)=>{if(_!==C){if(_!==se)for(const w in _)!En(w)&&!(w in C)&&s(v,w,_[w],null,x,b);for(const w in C){if(En(w))continue;const D=C[w],N=_[w];D!==N&&w!=="value"&&s(v,w,N,D,x,b)}"value"in C&&s(v,"value",_.value,C.value,x)}},ke=(v,_,C,b,x,w,D,N,P)=>{const R=_.el=v?v.el:u(""),q=_.anchor=v?v.anchor:u("");let{patchFlag:U,dynamicChildren:H,slotScopeIds:K}=_;K&&(N=N?N.concat(K):K),v==null?(o(R,C,b),o(q,C,b),X(_.children||[],C,q,x,w,D,N,P)):U>0&&U&64&&H&&v.dynamicChildren&&v.dynamicChildren.length===H.length?(z(v.dynamicChildren,H,C,x,w,D,N),(_.key!=null||x&&_===x.subTree)&&Ca(v,_,!0)):re(v,_,C,q,x,w,D,N,P)},oe=(v,_,C,b,x,w,D,N,P)=>{_.slotScopeIds=N,v==null?_.shapeFlag&512?x.ctx.activate(_,C,b,D,P):Re(_,C,b,x,w,D,P):dn(v,_,P)},Re=(v,_,C,b,x,w,D)=>{const N=v.component=vd(v,b,x);if(sa(v)&&(N.ctx.renderer=pn),Td(N,!1,D),N.asyncDep){if(x&&x.registerDep(N,fe,D),!v.el){const P=N.subTree=xe(xt);S(null,P,_,C),v.placeholder=P.el}}else fe(N,v,_,C,x,w,D)},dn=(v,_,C)=>{const b=_.component=v.component;if(jc(v,_,C))if(b.asyncDep&&!b.asyncResolved){ie(b,_,C);return}else b.next=_,b.update();else _.el=v.el,b.vnode=_},fe=(v,_,C,b,x,w,D)=>{const N=()=>{if(v.isMounted){let{next:U,bu:H,u:K,parent:Q,vnode:le}=v;{const Qe=Sa(v);if(Qe){U&&(U.el=le.el,ie(v,U,D)),Qe.asyncDep.then(()=>{v.isUnmounted||N()});return}}let te=U,Me;Pt(v,!1),U?(U.el=le.el,ie(v,U,D)):U=le,H&&Xn(H),(Me=U.props&&U.props.onVnodeBeforeUpdate)&&je(Me,Q,U,le),Pt(v,!0);const be=Es(v),Xe=v.subTree;v.subTree=be,T(Xe,be,p(Xe.el),Hn(Xe),v,x,w),U.el=be.el,te===null&&ed(v,be.el),K&&Fe(K,x),(Me=U.props&&U.props.onVnodeUpdated)&&Fe(()=>je(Me,Q,U,le),x)}else{let U;const{el:H,props:K}=_,{bm:Q,m:le,parent:te,root:Me,type:be}=v,Xe=An(_);Pt(v,!1),Q&&Xn(Q),!Xe&&(U=K&&K.onVnodeBeforeMount)&&je(U,te,_),Pt(v,!0);{Me.ce&&Me.ce._def.shadowRoot!==!1&&Me.ce._injectChildStyle(be);const Qe=v.subTree=Es(v);T(null,Qe,C,b,v,x,w),_.el=Qe.el}if(le&&Fe(le,x),!Xe&&(U=K&&K.onVnodeMounted)){const Qe=_;Fe(()=>je(U,te,Qe),x)}(_.shapeFlag&256||te&&An(te.vnode)&&te.vnode.shapeFlag&256)&&v.a&&Fe(v.a,x),v.isMounted=!0,_=C=b=null}};v.scope.on();const P=v.effect=new Ul(N);v.scope.off();const R=v.update=P.run.bind(P),q=v.job=P.runIfDirty.bind(P);q.i=v,q.id=v.uid,P.scheduler=()=>Ji(q),Pt(v,!0),R()},ie=(v,_,C)=>{_.component=v;const b=v.vnode.props;v.vnode=_,v.next=null,nd(v,_.props,b,C),rd(v,_.children,C),ft(),ms(v),pt()},re=(v,_,C,b,x,w,D,N,P=!1)=>{const R=v&&v.children,q=v?v.shapeFlag:0,U=_.children,{patchFlag:H,shapeFlag:K}=_;if(H>0){if(H&128){Gn(R,U,C,b,x,w,D,N,P);return}else if(H&256){Rt(R,U,C,b,x,w,D,N,P);return}}K&8?(q&16&&fn(R,x,w),U!==R&&f(C,U)):q&16?K&16?Gn(R,U,C,b,x,w,D,N,P):fn(R,x,w,!0):(q&8&&f(C,""),K&16&&X(U,C,b,x,w,D,N,P))},Rt=(v,_,C,b,x,w,D,N,P)=>{v=v||Xt,_=_||Xt;const R=v.length,q=_.length,U=Math.min(R,q);let H;for(H=0;H<U;H++){const K=_[H]=P?Et(_[H]):nt(_[H]);T(v[H],K,C,null,x,w,D,N,P)}R>q?fn(v,x,w,!0,!1,U):X(_,C,b,x,w,D,N,P,U)},Gn=(v,_,C,b,x,w,D,N,P)=>{let R=0;const q=_.length;let U=v.length-1,H=q-1;for(;R<=U&&R<=H;){const K=v[R],Q=_[R]=P?Et(_[R]):nt(_[R]);if(gn(K,Q))T(K,Q,C,null,x,w,D,N,P);else break;R++}for(;R<=U&&R<=H;){const K=v[U],Q=_[H]=P?Et(_[H]):nt(_[H]);if(gn(K,Q))T(K,Q,C,null,x,w,D,N,P);else break;U--,H--}if(R>U){if(R<=H){const K=H+1,Q=K<q?_[K].el:b;for(;R<=H;)T(null,_[R]=P?Et(_[R]):nt(_[R]),C,Q,x,w,D,N,P),R++}}else if(R>H)for(;R<=U;)ze(v[R],x,w,!0),R++;else{const K=R,Q=R,le=new Map;for(R=Q;R<=H;R++){const Ue=_[R]=P?Et(_[R]):nt(_[R]);Ue.key!=null&&le.set(Ue.key,R)}let te,Me=0;const be=H-Q+1;let Xe=!1,Qe=0;const hn=new Array(be);for(R=0;R<be;R++)hn[R]=0;for(R=K;R<=U;R++){const Ue=v[R];if(Me>=be){ze(Ue,x,w,!0);continue}let Ze;if(Ue.key!=null)Ze=le.get(Ue.key);else for(te=Q;te<=H;te++)if(hn[te-Q]===0&&gn(Ue,_[te])){Ze=te;break}Ze===void 0?ze(Ue,x,w,!0):(hn[Ze-Q]=R+1,Ze>=Qe?Qe=Ze:Xe=!0,T(Ue,_[Ze],C,null,x,w,D,N,P),Me++)}const as=Xe?cd(hn):Xt;for(te=as.length-1,R=be-1;R>=0;R--){const Ue=Q+R,Ze=_[Ue],us=_[Ue+1],cs=Ue+1<q?us.el||Ia(us):b;hn[R]===0?T(null,Ze,C,cs,x,w,D,N,P):Xe&&(te<0||R!==as[te]?Mt(Ze,C,cs,2):te--)}}},Mt=(v,_,C,b,x=null)=>{const{el:w,type:D,transition:N,children:P,shapeFlag:R}=v;if(R&6){Mt(v.component.subTree,_,C,b);return}if(R&128){v.suspense.move(_,C,b);return}if(R&64){D.move(v,_,C,pn);return}if(D===ce){o(w,_,C);for(let U=0;U<P.length;U++)Mt(P[U],_,C,b);o(v.anchor,_,C);return}if(D===Zn){A(v,_,C);return}if(b!==2&&R&1&&N)if(b===0)N.beforeEnter(w),o(w,_,C),Fe(()=>N.enter(w),x);else{const{leave:U,delayLeave:H,afterLeave:K}=N,Q=()=>{v.ctx.isUnmounted?i(w):o(w,_,C)},le=()=>{w._isLeaving&&w[Rc](!0),U(w,()=>{Q(),K&&K()})};H?H(w,Q,le):le()}else o(w,_,C)},ze=(v,_,C,b=!1,x=!1)=>{const{type:w,props:D,ref:N,children:P,dynamicChildren:R,shapeFlag:q,patchFlag:U,dirs:H,cacheIndex:K}=v;if(U===-2&&(x=!1),N!=null&&(ft(),xn(N,null,C,v,!0),pt()),K!=null&&(_.renderCache[K]=void 0),q&256){_.ctx.deactivate(v);return}const Q=q&1&&H,le=!An(v);let te;if(le&&(te=D&&D.onVnodeBeforeUnmount)&&je(te,_,v),q&6)bu(v.component,C,b);else{if(q&128){v.suspense.unmount(C,b);return}Q&&bt(v,null,_,"beforeUnmount"),q&64?v.type.remove(v,_,C,pn,b):R&&!R.hasOnce&&(w!==ce||U>0&&U&64)?fn(R,_,C,!1,!0):(w===ce&&U&384||!x&&q&16)&&fn(P,_,C),b&&rs(v)}(le&&(te=D&&D.onVnodeUnmounted)||Q)&&Fe(()=>{te&&je(te,_,v),Q&&bt(v,null,_,"unmounted")},C)},rs=v=>{const{type:_,el:C,anchor:b,transition:x}=v;if(_===ce){Mu(C,b);return}if(_===Zn){I(v);return}const w=()=>{i(C),x&&!x.persisted&&x.afterLeave&&x.afterLeave()};if(v.shapeFlag&1&&x&&!x.persisted){const{leave:D,delayLeave:N}=x,P=()=>D(C,w);N?N(v.el,w,P):P()}else w()},Mu=(v,_)=>{let C;for(;v!==_;)C=h(v),i(v),v=C;i(_)},bu=(v,_,C)=>{const{bum:b,scope:x,job:w,subTree:D,um:N,m:P,a:R}=v;Is(P),Is(R),b&&Xn(b),x.stop(),w&&(w.flags|=8,ze(D,v,_,C)),N&&Fe(N,_),Fe(()=>{v.isUnmounted=!0},_)},fn=(v,_,C,b=!1,x=!1,w=0)=>{for(let D=w;D<v.length;D++)ze(v[D],_,C,b,x)},Hn=v=>{if(v.shapeFlag&6)return Hn(v.component.subTree);if(v.shapeFlag&128)return v.suspense.next();const _=h(v.anchor||v.el),C=_&&_[Ac];return C?h(C):_};let $o=!1;const ls=(v,_,C)=>{let b;v==null?_._vnode&&(ze(_._vnode,null,null,!0),b=_._vnode.component):T(_._vnode||null,v,_,null,null,null,C),_._vnode=v,$o||($o=!0,ms(b),jl(),$o=!1)},pn={p:T,um:ze,m:Mt,r:rs,mt:Re,mc:X,pc:re,pbc:z,n:Hn,o:t};return{render:ls,hydrate:void 0,createApp:Wc(ls)}}function Yo({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Pt({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function ud(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ca(t,e,n=!1){const o=t.children,i=e.children;if(O(o)&&O(i))for(let s=0;s<o.length;s++){const l=o[s];let u=i[s];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=i[s]=Et(i[s]),u.el=l.el),!n&&u.patchFlag!==-2&&Ca(l,u)),u.type===Po&&(u.patchFlag!==-1?u.el=l.el:u.__elIndex=s+(t.type===ce?1:0)),u.type===xt&&!u.el&&(u.el=l.el)}}function cd(t){const e=t.slice(),n=[0];let o,i,s,l,u;const d=t.length;for(o=0;o<d;o++){const c=t[o];if(c!==0){if(i=n[n.length-1],t[i]<c){e[o]=i,n.push(o);continue}for(s=0,l=n.length-1;s<l;)u=s+l>>1,t[n[u]]<c?s=u+1:l=u;c<t[n[s]]&&(s>0&&(e[o]=n[s-1]),n[s]=o)}}for(s=n.length,l=n[s-1];s-- >0;)n[s]=l,l=e[l];return n}function Sa(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Sa(e)}function Is(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function Ia(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?Ia(e.subTree):null}const xa=t=>t.__isSuspense;function dd(t,e){e&&e.pendingBranch?O(t)?e.effects.push(...t):e.effects.push(t):Tc(t)}const ce=Symbol.for("v-fgt"),Po=Symbol.for("v-txt"),xt=Symbol.for("v-cmt"),Zn=Symbol.for("v-stc"),Rn=[];let Ve=null;function L(t=!1){Rn.push(Ve=t?null:[])}function fd(){Rn.pop(),Ve=Rn[Rn.length-1]||null}let kn=1;function xs(t,e=!1){kn+=t,t<0&&Ve&&e&&(Ve.hasOnce=!0)}function Aa(t){return t.dynamicChildren=kn>0?Ve||Xt:null,fd(),kn>0&&Ve&&Ve.push(t),t}function $(t,e,n,o,i,s){return Aa(g(t,e,n,o,i,s,!0))}function lt(t,e,n,o,i){return Aa(xe(t,e,n,o,i,!0))}function wa(t){return t?t.__v_isVNode===!0:!1}function gn(t,e){return t.type===e.type&&t.key===e.key}const Ra=({key:t})=>t??null,jn=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?he(t)||Te(t)||Y(t)?{i:Ge,r:t,k:e,f:!!n}:t:null);function g(t,e=null,n=null,o=0,i=null,s=t===ce?0:1,l=!1,u=!1){const d={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ra(e),ref:e&&jn(e),scopeId:ta,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:o,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ge};return u?(Yi(d,n),s&128&&t.normalize(d)):n&&(d.shapeFlag|=he(n)?8:16),kn>0&&!l&&Ve&&(d.patchFlag>0||s&6)&&d.patchFlag!==32&&Ve.push(d),d}const xe=pd;function pd(t,e=null,n=null,o=0,i=null,s=!1){if((!t||t===Gc)&&(t=xt),wa(t)){const u=rn(t,e,!0);return n&&Yi(u,n),kn>0&&!s&&Ve&&(u.shapeFlag&6?Ve[Ve.indexOf(t)]=u:Ve.push(u)),u.patchFlag=-2,u}if(Id(t)&&(t=t.__vccOpts),e){e=hd(e);let{class:u,style:d}=e;u&&!he(u)&&(e.class=ue(u)),de(d)&&(Bi(d)&&!O(d)&&(d=Ae({},d)),e.style=bn(d))}const l=he(t)?1:xa(t)?128:wc(t)?64:de(t)?4:Y(t)?2:0;return g(t,e,n,o,i,l,s,!0)}function hd(t){return t?Bi(t)||ga(t)?Ae({},t):t:null}function rn(t,e,n=!1,o=!1){const{props:i,ref:s,patchFlag:l,children:u,transition:d}=t,c=e?md(i||{},e):i,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Ra(c),ref:e&&e.ref?n&&s?O(s)?s.concat(jn(e)):[s,jn(e)]:jn(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:u,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ce?l===-1?16:l|16:l,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:d,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&rn(t.ssContent),ssFallback:t.ssFallback&&rn(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return d&&o&&Oi(f,d.clone(f)),f}function No(t=" ",e=0){return xe(Po,null,t,e)}function di(t,e){const n=xe(Zn,null,t);return n.staticCount=e,n}function $t(t="",e=!1){return e?(L(),lt(xt,null,t)):xe(xt,null,t)}function nt(t){return t==null||typeof t=="boolean"?xe(xt):O(t)?xe(ce,null,t.slice()):wa(t)?Et(t):xe(Po,null,String(t))}function Et(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:rn(t)}function Yi(t,e){let n=0;const{shapeFlag:o}=t;if(e==null)e=null;else if(O(e))n=16;else if(typeof e=="object")if(o&65){const i=e.default;i&&(i._c&&(i._d=!1),Yi(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!ga(e)?e._ctx=Ge:i===3&&Ge&&(Ge.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Y(e)?(e={default:e,_ctx:Ge},n=32):(e=String(e),o&64?(n=16,e=[No(e)]):n=8);t.children=e,t.shapeFlag|=n}function md(...t){const e={};for(let n=0;n<t.length;n++){const o=t[n];for(const i in o)if(i==="class")e.class!==o.class&&(e.class=ue([e.class,o.class]));else if(i==="style")e.style=bn([e.style,o.style]);else if(Eo(i)){const s=e[i],l=o[i];l&&s!==l&&!(O(s)&&s.includes(l))&&(e[i]=s?[].concat(s,l):l)}else i!==""&&(e[i]=o[i])}return e}function je(t,e,n,o=null){st(t,e,7,[n,o])}const gd=fa();let yd=0;function vd(t,e,n){const o=t.type,i=(e?e.appContext:t.appContext)||gd,s={uid:yd++,vnode:t,type:o,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Bu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:va(o,i),emitsOptions:pa(o,i),emit:null,emitted:null,propsDefaults:se,inheritAttrs:o.inheritAttrs,ctx:se,data:se,props:se,attrs:se,slots:se,refs:se,setupState:se,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=zc.bind(null,s),t.ce&&t.ce(s),s}let Ie=null;const _d=()=>Ie||Ge;let uo,fi;{const t=xo(),e=(n,o)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(o),s=>{i.length>1?i.forEach(l=>l(s)):i[0](s)}};uo=e("__VUE_INSTANCE_SETTERS__",n=>Ie=n),fi=e("__VUE_SSR_SETTERS__",n=>Un=n)}const Vn=t=>{const e=Ie;return uo(t),t.scope.on(),()=>{t.scope.off(),uo(e)}},As=()=>{Ie&&Ie.scope.off(),uo(null)};function Ma(t){return t.vnode.shapeFlag&4}let Un=!1;function Td(t,e=!1,n=!1){e&&fi(e);const{props:o,children:i}=t.vnode,s=Ma(t);td(t,o,s,e),sd(t,i,n||e);const l=s?Ed(t,e):void 0;return e&&fi(!1),l}function Ed(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Hc);const{setup:o}=n;if(o){ft();const i=t.setupContext=o.length>1?Sd(t):null,s=Vn(t),l=Ln(o,t,0,[t.props,i]),u=wl(l);if(pt(),s(),(u||t.sp)&&!An(t)&&ia(t),u){if(l.then(As,As),e)return l.then(d=>{ws(t,d)}).catch(d=>{Ro(d,t,0)});t.asyncDep=l}else ws(t,l)}else ba(t)}function ws(t,e,n){Y(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:de(e)&&(t.setupState=zl(e)),ba(t)}function ba(t,e,n){const o=t.type;t.render||(t.render=o.render||ot);{const i=Vn(t);ft();try{$c(t)}finally{pt(),i()}}}const Cd={get(t,e){return ve(t,"get",""),t[e]}};function Sd(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Cd),slots:t.slots,emit:t.emit,expose:e}}function Do(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(zl(cc(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in wn)return wn[n](t)},has(e,n){return n in e||n in wn}})):t.proxy}function Id(t){return Y(t)&&"__vccOpts"in t}const De=(t,e)=>mc(t,e,Un),xd="3.5.26";/**
* @vue/runtime-dom v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let pi;const Rs=typeof window<"u"&&window.trustedTypes;if(Rs)try{pi=Rs.createPolicy("vue",{createHTML:t=>t})}catch{}const Pa=pi?t=>pi.createHTML(t):t=>t,Ad="http://www.w3.org/2000/svg",wd="http://www.w3.org/1998/Math/MathML",at=typeof document<"u"?document:null,Ms=at&&at.createElement("template"),Rd={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,o)=>{const i=e==="svg"?at.createElementNS(Ad,t):e==="mathml"?at.createElementNS(wd,t):n?at.createElement(t,{is:n}):at.createElement(t);return t==="select"&&o&&o.multiple!=null&&i.setAttribute("multiple",o.multiple),i},createText:t=>at.createTextNode(t),createComment:t=>at.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>at.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,o,i,s){const l=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Ms.innerHTML=Pa(o==="svg"?`<svg>${t}</svg>`:o==="mathml"?`<math>${t}</math>`:t);const u=Ms.content;if(o==="svg"||o==="mathml"){const d=u.firstChild;for(;d.firstChild;)u.appendChild(d.firstChild);u.removeChild(d)}e.insertBefore(u,n)}return[l?l.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Md=Symbol("_vtc");function bd(t,e,n){const o=t[Md];o&&(e=(e?[e,...o]:[...o]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const bs=Symbol("_vod"),Pd=Symbol("_vsh"),Nd=Symbol(""),Dd=/(?:^|;)\s*display\s*:/;function kd(t,e,n){const o=t.style,i=he(n);let s=!1;if(n&&!i){if(e)if(he(e))for(const l of e.split(";")){const u=l.slice(0,l.indexOf(":")).trim();n[u]==null&&eo(o,u,"")}else for(const l in e)n[l]==null&&eo(o,l,"");for(const l in n)l==="display"&&(s=!0),eo(o,l,n[l])}else if(i){if(e!==n){const l=o[Nd];l&&(n+=";"+l),o.cssText=n,s=Dd.test(n)}}else e&&t.removeAttribute("style");bs in t&&(t[bs]=s?o.display:"",t[Pd]&&(o.display="none"))}const Ps=/\s*!important$/;function eo(t,e,n){if(O(n))n.forEach(o=>eo(t,e,o));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const o=Ud(t,e);Ps.test(n)?t.setProperty(At(o),n.replace(Ps,""),"important"):t[o]=n}}const Ns=["Webkit","Moz","ms"],zo={};function Ud(t,e){const n=zo[e];if(n)return n;let o=It(e);if(o!=="filter"&&o in t)return zo[e]=o;o=bl(o);for(let i=0;i<Ns.length;i++){const s=Ns[i]+o;if(s in t)return zo[e]=s}return e}const Ds="http://www.w3.org/1999/xlink";function ks(t,e,n,o,i,s=Hu(e)){o&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Ds,e.slice(6,e.length)):t.setAttributeNS(Ds,e,n):n==null||s&&!Nl(n)?t.removeAttribute(e):t.setAttribute(e,s?"":it(n)?String(n):n)}function Us(t,e,n,o,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Pa(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const u=s==="OPTION"?t.getAttribute("value")||"":t.value,d=n==null?t.type==="checkbox"?"on":"":String(n);(u!==d||!("_value"in t))&&(t.value=d),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=Nl(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(i||e)}function Ut(t,e,n,o){t.addEventListener(e,n,o)}function Fd(t,e,n,o){t.removeEventListener(e,n,o)}const Fs=Symbol("_vei");function Ld(t,e,n,o,i=null){const s=t[Fs]||(t[Fs]={}),l=s[e];if(o&&l)l.value=o;else{const[u,d]=Vd(e);if(o){const c=s[e]=$d(o,i);Ut(t,u,c,d)}else l&&(Fd(t,u,l,d),s[e]=void 0)}}const Ls=/(?:Once|Passive|Capture)$/;function Vd(t){let e;if(Ls.test(t)){e={};let o;for(;o=t.match(Ls);)t=t.slice(0,t.length-o[0].length),e[o[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):At(t.slice(2)),e]}let Xo=0;const Gd=Promise.resolve(),Hd=()=>Xo||(Gd.then(()=>Xo=0),Xo=Date.now());function $d(t,e){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;st(qd(o,n.value),e,5,[o])};return n.value=t,n.attached=Hd(),n}function qd(t,e){if(O(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(o=>i=>!i._stopped&&o&&o(i))}else return e}const Vs=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Bd=(t,e,n,o,i,s)=>{const l=i==="svg";e==="class"?bd(t,o,l):e==="style"?kd(t,n,o):Eo(e)?Di(e)||Ld(t,e,n,o,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Jd(t,e,o,l))?(Us(t,e,o),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&ks(t,e,o,l,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!he(o))?Us(t,It(e),o,s,e):(e==="true-value"?t._trueValue=o:e==="false-value"&&(t._falseValue=o),ks(t,e,o,l))};function Jd(t,e,n,o){if(o)return!!(e==="innerHTML"||e==="textContent"||e in t&&Vs(e)&&Y(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Vs(e)&&he(n)?!1:e in t}const co=t=>{const e=t.props["onUpdate:modelValue"]||!1;return O(e)?n=>Xn(e,n):e};function Od(t){t.target.composing=!0}function Gs(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const en=Symbol("_assign");function Hs(t,e,n){return e&&(t=t.trim()),n&&(t=Io(t)),t}const tn={created(t,{modifiers:{lazy:e,trim:n,number:o}},i){t[en]=co(i);const s=o||i.props&&i.props.type==="number";Ut(t,e?"change":"input",l=>{l.target.composing||t[en](Hs(t.value,n,s))}),(n||s)&&Ut(t,"change",()=>{t.value=Hs(t.value,n,s)}),e||(Ut(t,"compositionstart",Od),Ut(t,"compositionend",Gs),Ut(t,"change",Gs))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:o,trim:i,number:s}},l){if(t[en]=co(l),t.composing)return;const u=(s||t.type==="number")&&!/^0\d/.test(t.value)?Io(t.value):t.value,d=e??"";u!==d&&(document.activeElement===t&&t.type!=="range"&&(o&&e===n||i&&t.value.trim()===d)||(t.value=d))}},Kd={deep:!0,created(t,{value:e,modifiers:{number:n}},o){const i=Co(e);Ut(t,"change",()=>{const s=Array.prototype.filter.call(t.options,l=>l.selected).map(l=>n?Io(fo(l)):fo(l));t[en](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,Ql(()=>{t._assigning=!1})}),t[en]=co(o)},mounted(t,{value:e}){$s(t,e)},beforeUpdate(t,e,n){t[en]=co(n)},updated(t,{value:e}){t._assigning||$s(t,e)}};function $s(t,e){const n=t.multiple,o=O(e);if(!(n&&!o&&!Co(e))){for(let i=0,s=t.options.length;i<s;i++){const l=t.options[i],u=fo(l);if(n)if(o){const d=typeof u;d==="string"||d==="number"?l.selected=e.some(c=>String(c)===String(u)):l.selected=qu(e,u)>-1}else l.selected=e.has(u);else if(Ao(fo(l),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function fo(t){return"_value"in t?t._value:t.value}const Wd=["ctrl","shift","alt","meta"],Yd={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Wd.some(n=>t[`${n}Key`]&&!e.includes(n))},zd=(t,e)=>{const n=t._withMods||(t._withMods={}),o=e.join(".");return n[o]||(n[o]=(i,...s)=>{for(let l=0;l<e.length;l++){const u=Yd[e[l]];if(u&&u(i,e))return}return t(i,...s)})},Xd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Qd=(t,e)=>{const n=t._withKeys||(t._withKeys={}),o=e.join(".");return n[o]||(n[o]=i=>{if(!("key"in i))return;const s=At(i.key);if(e.some(l=>l===s||Xd[l]===s))return t(i)})},Zd=Ae({patchProp:Bd},Rd);let qs;function jd(){return qs||(qs=ld(Zd))}const ef=(...t)=>{const e=jd().createApp(...t),{mount:n}=e;return e.mount=o=>{const i=nf(o);if(!i)return;const s=e._component;!Y(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const l=n(i,!1,tf(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),l},e};function tf(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function nf(t){return he(t)?document.querySelector(t):t}var of=String.prototype.replace,sf=/%20/g,Qo={RFC1738:"RFC1738",RFC3986:"RFC3986"},zi={default:Qo.RFC3986,formatters:{RFC1738:function(t){return of.call(t,sf,"+")},RFC3986:function(t){return String(t)}},RFC1738:Qo.RFC1738,RFC3986:Qo.RFC3986},rf=zi,Zo=Object.prototype.hasOwnProperty,Ft=Array.isArray,et=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),lf=function(e){for(;e.length>1;){var n=e.pop(),o=n.obj[n.prop];if(Ft(o)){for(var i=[],s=0;s<o.length;++s)typeof o[s]<"u"&&i.push(o[s]);n.obj[n.prop]=i}}},Na=function(e,n){for(var o=n&&n.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(o[i]=e[i]);return o},af=function t(e,n,o){if(!n)return e;if(typeof n!="object"){if(Ft(e))e.push(n);else if(e&&typeof e=="object")(o&&(o.plainObjects||o.allowPrototypes)||!Zo.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var i=e;return Ft(e)&&!Ft(n)&&(i=Na(e,o)),Ft(e)&&Ft(n)?(n.forEach(function(s,l){if(Zo.call(e,l)){var u=e[l];u&&typeof u=="object"&&s&&typeof s=="object"?e[l]=t(u,s,o):e.push(s)}else e[l]=s}),e):Object.keys(n).reduce(function(s,l){var u=n[l];return Zo.call(s,l)?s[l]=t(s[l],u,o):s[l]=u,s},i)},uf=function(e,n){return Object.keys(n).reduce(function(o,i){return o[i]=n[i],o},e)},cf=function(t,e,n){var o=t.replace(/\+/g," ");if(n==="iso-8859-1")return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch{return o}},df=function(e,n,o,i,s){if(e.length===0)return e;var l=e;if(typeof e=="symbol"?l=Symbol.prototype.toString.call(e):typeof e!="string"&&(l=String(e)),o==="iso-8859-1")return escape(l).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var u="",d=0;d<l.length;++d){var c=l.charCodeAt(d);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||s===rf.RFC1738&&(c===40||c===41)){u+=l.charAt(d);continue}if(c<128){u=u+et[c];continue}if(c<2048){u=u+(et[192|c>>6]+et[128|c&63]);continue}if(c<55296||c>=57344){u=u+(et[224|c>>12]+et[128|c>>6&63]+et[128|c&63]);continue}d+=1,c=65536+((c&1023)<<10|l.charCodeAt(d)&1023),u+=et[240|c>>18]+et[128|c>>12&63]+et[128|c>>6&63]+et[128|c&63]}return u},ff=function(e){for(var n=[{obj:{o:e},prop:"o"}],o=[],i=0;i<n.length;++i)for(var s=n[i],l=s.obj[s.prop],u=Object.keys(l),d=0;d<u.length;++d){var c=u[d],f=l[c];typeof f=="object"&&f!==null&&o.indexOf(f)===-1&&(n.push({obj:l,prop:c}),o.push(f))}return lf(n),e},pf=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},hf=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},mf=function(e,n){return[].concat(e,n)},gf=function(e,n){if(Ft(e)){for(var o=[],i=0;i<e.length;i+=1)o.push(n(e[i]));return o}return n(e)},Da={arrayToObject:Na,assign:uf,combine:mf,compact:ff,decode:cf,encode:df,isBuffer:hf,isRegExp:pf,maybeMap:gf,merge:af},hi=Da,Mn=zi,yf=Object.prototype.hasOwnProperty,Bs={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},Vt=Array.isArray,vf=String.prototype.split,_f=Array.prototype.push,ka=function(t,e){_f.apply(t,Vt(e)?e:[e])},Tf=Date.prototype.toISOString,Js=Mn.default,ye={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:hi.encode,encodeValuesOnly:!1,format:Js,formatter:Mn.formatters[Js],indices:!1,serializeDate:function(e){return Tf.call(e)},skipNulls:!1,strictNullHandling:!1},Ef=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Cf=function t(e,n,o,i,s,l,u,d,c,f,p,h,m,y){var T=e;if(typeof u=="function"?T=u(n,T):T instanceof Date?T=f(T):o==="comma"&&Vt(T)&&(T=hi.maybeMap(T,function(ne){return ne instanceof Date?f(ne):ne})),T===null){if(i)return l&&!m?l(n,ye.encoder,y,"key",p):n;T=""}if(Ef(T)||hi.isBuffer(T)){if(l){var E=m?n:l(n,ye.encoder,y,"key",p);if(o==="comma"&&m){for(var S=vf.call(String(T),","),M="",A=0;A<S.length;++A)M+=(A===0?"":",")+h(l(S[A],ye.encoder,y,"value",p));return[h(E)+"="+M]}return[h(E)+"="+h(l(T,ye.encoder,y,"value",p))]}return[h(n)+"="+h(String(T))]}var I=[];if(typeof T>"u")return I;var F;if(o==="comma"&&Vt(T))F=[{value:T.length>0?T.join(",")||null:void 0}];else if(Vt(u))F=u;else{var B=Object.keys(T);F=d?B.sort(d):B}for(var G=0;G<F.length;++G){var X=F[G],V=typeof X=="object"&&typeof X.value<"u"?X.value:T[X];if(!(s&&V===null)){var z=Vt(T)?typeof o=="function"?o(n,X):n:n+(c?"."+X:"["+X+"]");ka(I,t(V,z,o,i,s,l,u,d,c,f,p,h,m,y))}}return I},Sf=function(e){if(!e)return ye;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||ye.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var o=Mn.default;if(typeof e.format<"u"){if(!yf.call(Mn.formatters,e.format))throw new TypeError("Unknown format option provided.");o=e.format}var i=Mn.formatters[o],s=ye.filter;return(typeof e.filter=="function"||Vt(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:ye.addQueryPrefix,allowDots:typeof e.allowDots>"u"?ye.allowDots:!!e.allowDots,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ye.charsetSentinel,delimiter:typeof e.delimiter>"u"?ye.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:ye.encode,encoder:typeof e.encoder=="function"?e.encoder:ye.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:ye.encodeValuesOnly,filter:s,format:o,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:ye.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:ye.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ye.strictNullHandling}},If=function(t,e){var n=t,o=Sf(e),i,s;typeof o.filter=="function"?(s=o.filter,n=s("",n)):Vt(o.filter)&&(s=o.filter,i=s);var l=[];if(typeof n!="object"||n===null)return"";var u;e&&e.arrayFormat in Bs?u=e.arrayFormat:e&&"indices"in e?u=e.indices?"indices":"repeat":u="indices";var d=Bs[u];i||(i=Object.keys(n)),o.sort&&i.sort(o.sort);for(var c=0;c<i.length;++c){var f=i[c];o.skipNulls&&n[f]===null||ka(l,Cf(n[f],f,d,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset))}var p=l.join(o.delimiter),h=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),p.length>0?h+p:""},ln=Da,mi=Object.prototype.hasOwnProperty,xf=Array.isArray,ge={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:ln.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Af=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},Ua=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},wf="utf8=%26%2310003%3B",Rf="utf8=%E2%9C%93",Mf=function(e,n){var o={},i=n.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=n.parameterLimit===1/0?void 0:n.parameterLimit,l=i.split(n.delimiter,s),u=-1,d,c=n.charset;if(n.charsetSentinel)for(d=0;d<l.length;++d)l[d].indexOf("utf8=")===0&&(l[d]===Rf?c="utf-8":l[d]===wf&&(c="iso-8859-1"),u=d,d=l.length);for(d=0;d<l.length;++d)if(d!==u){var f=l[d],p=f.indexOf("]="),h=p===-1?f.indexOf("="):p+1,m,y;h===-1?(m=n.decoder(f,ge.decoder,c,"key"),y=n.strictNullHandling?null:""):(m=n.decoder(f.slice(0,h),ge.decoder,c,"key"),y=ln.maybeMap(Ua(f.slice(h+1),n),function(T){return n.decoder(T,ge.decoder,c,"value")})),y&&n.interpretNumericEntities&&c==="iso-8859-1"&&(y=Af(y)),f.indexOf("[]=")>-1&&(y=xf(y)?[y]:y),mi.call(o,m)?o[m]=ln.combine(o[m],y):o[m]=y}return o},bf=function(t,e,n,o){for(var i=o?e:Ua(e,n),s=t.length-1;s>=0;--s){var l,u=t[s];if(u==="[]"&&n.parseArrays)l=[].concat(i);else{l=n.plainObjects?Object.create(null):{};var d=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,c=parseInt(d,10);!n.parseArrays&&d===""?l={0:i}:!isNaN(c)&&u!==d&&String(c)===d&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(l=[],l[c]=i):d!=="__proto__"&&(l[d]=i)}i=l}return i},Pf=function(e,n,o,i){if(e){var s=o.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,l=/(\[[^[\]]*])/,u=/(\[[^[\]]*])/g,d=o.depth>0&&l.exec(s),c=d?s.slice(0,d.index):s,f=[];if(c){if(!o.plainObjects&&mi.call(Object.prototype,c)&&!o.allowPrototypes)return;f.push(c)}for(var p=0;o.depth>0&&(d=u.exec(s))!==null&&p<o.depth;){if(p+=1,!o.plainObjects&&mi.call(Object.prototype,d[1].slice(1,-1))&&!o.allowPrototypes)return;f.push(d[1])}return d&&f.push("["+s.slice(d.index)+"]"),bf(f,n,o,i)}},Nf=function(e){if(!e)return ge;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?ge.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?ge.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ge.allowPrototypes,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ge.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ge.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ge.comma,decoder:typeof e.decoder=="function"?e.decoder:ge.decoder,delimiter:typeof e.delimiter=="string"||ln.isRegExp(e.delimiter)?e.delimiter:ge.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ge.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ge.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ge.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ge.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ge.strictNullHandling}},Df=function(t,e){var n=Nf(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?Object.create(null):{};for(var o=typeof t=="string"?Mf(t,n):t,i=n.plainObjects?Object.create(null):{},s=Object.keys(o),l=0;l<s.length;++l){var u=s[l],d=Pf(u,o[u],n,typeof t=="string");i=ln.merge(i,d,n)}return ln.compact(i)},kf=If,Uf=Df,Ff=zi,Fa={formats:Ff,parse:Uf,stringify:kf};function Le(){return Le=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Le.apply(this,arguments)}class jo{constructor(e,n,o){var i,s;this.name=e,this.definition=n,this.bindings=(i=n.bindings)!=null?i:{},this.wheres=(s=n.wheres)!=null?s:{},this.config=o}get template(){const e=`${this.origin}/${this.definition.uri}`.replace(/\/+$/,"");return e===""?"/":e}get origin(){return this.config.absolute?this.definition.domain?`${this.config.url.match(/^\w+:\/\//)[0]}${this.definition.domain}${this.config.port?`:${this.config.port}`:""}`:this.config.url:""}get parameterSegments(){var e,n;return(e=(n=this.template.match(/{[^}?]+\??}/g))==null?void 0:n.map(o=>({name:o.replace(/{|\??}/g,""),required:!/\?}$/.test(o)})))!=null?e:[]}matchesUrl(e){if(!this.definition.methods.includes("GET"))return!1;const n=this.template.replace(/(\/?){([^}?]*)(\??)}/g,(l,u,d,c)=>{var f;const p=`(?<${d}>${((f=this.wheres[d])==null?void 0:f.replace(/(^\^)|(\$$)/g,""))||"[^/?]+"})`;return c?`(${u}${p})?`:`${u}${p}`}).replace(/^\w+:\/\//,""),[o,i]=e.replace(/^\w+:\/\//,"").split("?"),s=new RegExp(`^${n}/?$`).exec(decodeURI(o));if(s){for(const l in s.groups)s.groups[l]=typeof s.groups[l]=="string"?decodeURIComponent(s.groups[l]):s.groups[l];return{params:s.groups,query:Fa.parse(i)}}return!1}compile(e){return this.parameterSegments.length?this.template.replace(/{([^}?]+)(\??)}/g,(n,o,i)=>{var s,l;if(!i&&[null,void 0].includes(e[o]))throw new Error(`Ziggy error: '${o}' parameter is required for route '${this.name}'.`);if(this.wheres[o]&&!new RegExp(`^${i?`(${this.wheres[o]})?`:this.wheres[o]}$`).test((l=e[o])!=null?l:""))throw new Error(`Ziggy error: '${o}' parameter does not match required format '${this.wheres[o]}' for route '${this.name}'.`);return encodeURI((s=e[o])!=null?s:"").replace(/%7C/g,"|").replace(/%25/g,"%").replace(/\$/g,"%24")}).replace(`${this.origin}//`,`${this.origin}/`).replace(/\/+$/,""):this.template}}class Lf extends String{constructor(e,n,o=!0,i){if(super(),this.t=i??(typeof Ziggy<"u"?Ziggy:globalThis==null?void 0:globalThis.Ziggy),this.t=Le({},this.t,{absolute:o}),e){if(!this.t.routes[e])throw new Error(`Ziggy error: route '${e}' is not in the route list.`);this.i=new jo(e,this.t.routes[e],this.t),this.o=this.h(n)}}toString(){const e=Object.keys(this.o).filter(n=>!this.i.parameterSegments.some(({name:o})=>o===n)).filter(n=>n!=="_query").reduce((n,o)=>Le({},n,{[o]:this.o[o]}),{});return this.i.compile(this.o)+Fa.stringify(Le({},e,this.o._query),{addQueryPrefix:!0,arrayFormat:"indices",encodeValuesOnly:!0,skipNulls:!0,encoder:(n,o)=>typeof n=="boolean"?Number(n):o(n)})}u(e){e?this.t.absolute&&e.startsWith("/")&&(e=this.l().host+e):e=this.g();let n={};const[o,i]=Object.entries(this.t.routes).find(([s,l])=>n=new jo(s,l,this.t).matchesUrl(e))||[void 0,void 0];return Le({name:o},n,{route:i})}g(){const{host:e,pathname:n,search:o}=this.l();return(this.t.absolute?e+n:n.replace(this.t.url.replace(/^\w*:\/\/[^/]+/,""),"").replace(/^\/+/,"/"))+o}current(e,n){const{name:o,params:i,query:s,route:l}=this.u();if(!e)return o;const u=new RegExp(`^${e.replace(/\./g,"\\.").replace(/\*/g,".*")}$`).test(o);if([null,void 0].includes(n)||!u)return u;const d=new jo(o,l,this.t);n=this.h(n,d);const c=Le({},i,s);if(Object.values(n).every(p=>!p)&&!Object.values(c).some(p=>p!==void 0))return!0;const f=(p,h)=>Object.entries(p).every(([m,y])=>Array.isArray(y)&&Array.isArray(h[m])?y.every(T=>h[m].includes(T)):typeof y=="object"&&typeof h[m]=="object"&&y!==null&&h[m]!==null?f(y,h[m]):h[m]==y);return f(n,c)}l(){var e,n,o,i,s,l;const{host:u="",pathname:d="",search:c=""}=typeof window<"u"?window.location:{};return{host:(e=(n=this.t.location)==null?void 0:n.host)!=null?e:u,pathname:(o=(i=this.t.location)==null?void 0:i.pathname)!=null?o:d,search:(s=(l=this.t.location)==null?void 0:l.search)!=null?s:c}}get params(){const{params:e,query:n}=this.u();return Le({},e,n)}has(e){return Object.keys(this.t.routes).includes(e)}h(e={},n=this.i){e!=null||(e={}),e=["string","number"].includes(typeof e)?[e]:e;const o=n.parameterSegments.filter(({name:i})=>!this.t.defaults[i]);return Array.isArray(e)?e=e.reduce((i,s,l)=>Le({},i,o[l]?{[o[l].name]:s}:typeof s=="object"?s:{[s]:""}),{}):o.length!==1||e[o[0].name]||!e.hasOwnProperty(Object.values(n.bindings)[0])&&!e.hasOwnProperty("id")||(e={[o[0].name]:e}),Le({},this.m(n),this.$(e,n))}m(e){return e.parameterSegments.filter(({name:n})=>this.t.defaults[n]).reduce((n,{name:o},i)=>Le({},n,{[o]:this.t.defaults[o]}),{})}$(e,{bindings:n,parameterSegments:o}){return Object.entries(e).reduce((i,[s,l])=>{if(!l||typeof l!="object"||Array.isArray(l)||!o.some(({name:u})=>u===s))return Le({},i,{[s]:l});if(!l.hasOwnProperty(n[s])){if(!l.hasOwnProperty("id"))throw new Error(`Ziggy error: object passed as '${s}' parameter is missing route model binding key '${n[s]}'.`);n[s]="id"}return Le({},i,{[s]:l[n[s]]})},{})}valueOf(){return this.toString()}check(e){return this.has(e)}}const Vf={install(t,e){const n=(o,i,s,l=e)=>function(u,d,c,f){const p=new Lf(u,d,c,f);return u?p.toString():p}(o,i,s,l);t.mixin({methods:{route:n}}),parseInt(t.version)>2&&t.provide("route",n)}},Be={SUPER_ADMIN:"SUPER_ADMIN",MANAGER:"MANAGER",STAFF:"STAFF",MEMBER:"MEMBER"},Os={WHATSAPP:"WHATSAPP",SMS:"SMS"},to={CONFIRMED:"CONFIRMED",PENDING:"PENDING"},Gf={key:0},Hf={key:1,class:"w-10 h-10 bg-emerald-600 rounded-lg flex items-center justify-center font-bold text-lg"},$f={class:"flex-1 p-4 space-y-2"},qf=["title","onClick"],Bf={class:"text-xl"},Jf={key:0,class:"font-medium whitespace-nowrap"},Of={key:1,class:"absolute left-full ml-4 px-2 py-1 bg-slate-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-50"},Kf={class:"p-4 border-t border-slate-700"},Wf={key:0},Yf={__name:"Sidebar",props:{currentTab:String,userRole:String,isOpen:Boolean},emits:["update:tab","update:open","logout"],setup(t,{emit:e}){const n=t,o=e,i=De(()=>{const u=[{id:"dashboard",label:"Dashboard",icon:""},{id:"bookings",label:"Bookings",icon:""},{id:"members",label:"Members",icon:""},{id:"campaigns",label:"Broadcasts",icon:""},{id:"chat",label:"Live Chat",icon:""},{id:"reports",label:"Reports",icon:""}];return n.userRole===Be.SUPER_ADMIN&&(u.push({id:"audit",label:"Audit Trail",icon:""}),u.push({id:"settings",label:"Settings",icon:""})),u}),s=()=>o("update:open",!1),l=u=>o("update:tab",u);return(u,d)=>(L(),$("div",null,[g("div",{class:ue(["fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-40 transition-opacity duration-300 md:hidden",t.isOpen?"opacity-100":"opacity-0 pointer-events-none"]),onClick:s},null,2),g("aside",{class:ue(["fixed left-0 top-0 h-screen bg-slate-900 text-white z-50 transition-all duration-300 ease-in-out flex flex-col overflow-y-auto",t.isOpen?"w-64 translate-x-0":"w-0 -translate-x-full md:translate-x-0 md:w-20"])},[g("div",{class:ue(["p-6 border-b border-slate-700 flex items-center",t.isOpen?"justify-between":"justify-center"])},[t.isOpen?(L(),$("div",Gf,[...d[1]||(d[1]=[g("h1",{class:"text-xl font-bold bg-gradient-to-r from-emerald-400 to-green-500 text-transparent bg-clip-text whitespace-nowrap"}," CricBook Pro ",-1),g("p",{class:"text-[10px] text-slate-400 mt-0.5"},"Facility Manager",-1)])])):(L(),$("div",Hf,"CP")),g("button",{class:"md:hidden text-slate-400 hover:text-white",onClick:s},"")],2),g("nav",$f,[(L(!0),$(ce,null,Ne(i.value,c=>(L(),$("button",{key:c.id,class:ue(["w-full flex items-center px-4 py-3 rounded-lg transition-all duration-200 group relative",[t.currentTab===c.id?"bg-emerald-600 text-white shadow-lg shadow-emerald-900/50":"text-slate-300 hover:bg-slate-800 hover:text-white",t.isOpen?"space-x-3":"justify-center"]]),title:c.label,onClick:f=>l(c.id)},[g("span",Bf,J(c.icon),1),t.isOpen?(L(),$("span",Jf,J(c.label),1)):(L(),$("span",Of,J(c.label),1))],10,qf))),128))]),g("div",Kf,[g("button",{class:ue(["w-full flex items-center py-2 text-slate-400 hover:text-red-400 hover:bg-slate-800 rounded-lg transition-colors",t.isOpen?"px-4 space-x-3":"justify-center"]),onClick:d[0]||(d[0]=c=>o("logout"))},[d[2]||(d[2]=g("span",null,"",-1)),t.isOpen?(L(),$("span",Wf,"Sign Out")):$t("",!0)],2)])],2)]))}},zf={class:"bg-white p-4 md:p-5 rounded-2xl shadow-sm border border-slate-100 flex items-center justify-between"},Xf={class:"text-[11px] md:text-xs font-semibold text-slate-500"},Qf={class:"text-xl md:text-2xl font-bold text-slate-900 mt-1"},Zf={key:0,class:"text-[11px] text-emerald-600 font-semibold mt-1"},Jn={__name:"StatCard",props:{title:String,value:[String,Number],icon:String,color:String,trend:String},setup(t){return(e,n)=>(L(),$("div",zf,[g("div",null,[g("p",Xf,J(t.title),1),g("p",Qf,J(t.value),1),t.trend?(L(),$("p",Zf," "+J(t.trend)+" this week",1)):$t("",!0)]),g("div",{class:ue(["w-11 h-11 md:w-12 md:h-12 rounded-2xl flex items-center justify-center text-lg md:text-xl shadow-inner",[t.color,"bg-opacity-10 text-slate-700 border border-slate-100"]])},J(t.icon),3)]))}},Ks=[{id:"u1",name:"Coach Carter",email:"admin@cricbook.com",role:Be.SUPER_ADMIN,department:"Management",avatarUrl:"https://picsum.photos/200"},{id:"u2",name:"Groundsman Gary",email:"gary@cricbook.com",role:Be.MANAGER,department:"Facilities",avatarUrl:"https://picsum.photos/201"},{id:"u3",name:"Sarah Staff",email:"sarah@cricbook.com",role:Be.STAFF,department:"Front Desk",avatarUrl:"https://picsum.photos/202"},{id:"u4",name:"Rahul Dravid (Member)",email:"rahul@cricket.com",role:Be.MEMBER,department:"Member",avatarUrl:"https://picsum.photos/203"}],qt=[{id:"m1",name:"Virat K.",phone:"+919876543210",email:"virat@rcb.com",membershipType:"Club Pro",tags:["Batsman","Captain"],assignedStaffId:"u3"},{id:"m2",name:"Jasprit B.",phone:"+919123456789",email:"boom@mi.com",membershipType:"Premium",tags:["Bowler","Pace"],assignedStaffId:"u3"},{id:"m3",name:"Local Cricket Club",phone:"+1122334455",email:"contact@lcc.com",membershipType:"Standard",tags:["Team Booking"]}],po=[{id:"b1",memberId:"m1",facility:"Pitch 1",date:"2023-10-28",startTime:"09:00",durationHours:4,status:to.CONFIRMED,syncedToGoogle:!0},{id:"b2",memberId:"m2",facility:"Indoor Nets",date:"2023-10-28",startTime:"14:00",durationHours:2,status:to.CONFIRMED,syncedToGoogle:!1},{id:"b3",memberId:"m3",facility:"Pitch 2",date:"2023-10-29",startTime:"10:00",durationHours:6,status:to.PENDING,syncedToGoogle:!1}],gi=[{id:"camp1",name:"Weekend Tournament Registration",status:"ACTIVE",channel:Os.WHATSAPP,createdAt:"2023-10-25",stats:{total:150,sent:150,delivered:148,failed:2,responses:45}},{id:"camp2",name:"Rain Delay Notification",status:"COMPLETED",channel:Os.SMS,createdAt:"2023-10-27",stats:{total:300,sent:300,delivered:290,failed:10,responses:5}}],ho=[{id:"msg1",memberId:"m1",sender:"SYSTEM",content:"Reminder: Your slot at Pitch 1 is confirmed for tomorrow.",timestamp:"2023-10-27T08:00:00Z",isTemplate:!0},{id:"msg2",memberId:"m1",sender:"MEMBER",content:"Can I extend the session by 1 hour?",timestamp:"2023-10-27T08:05:00Z"},{id:"msg3",memberId:"m1",sender:"AGENT",content:"Hi Virat, let me check the schedule for you.",timestamp:"2023-10-27T08:06:00Z"}],yi=[{id:"a1",userId:"u1",action:"LOGIN",details:"User logged in",timestamp:"2023-10-27T08:00:00Z"},{id:"a2",userId:"u2",action:"BOOKING_UPDATE",details:"Rescheduled Pitch 1 maintenance",timestamp:"2023-10-27T09:30:00Z"}],jf={class:"space-y-6"},ep={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6"},tp={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},np={class:"lg:col-span-2 bg-white p-4 md:p-6 rounded-2xl shadow-sm border border-slate-100"},op={class:"relative h-72 md:h-80"},ip={class:"absolute inset-0 grid grid-rows-5 text-[11px] text-slate-400"},sp={class:"w-10 text-right pr-2"},rp={class:"absolute inset-0 ml-10 flex items-end justify-around pb-6 pr-4"},lp={class:"flex items-end space-x-1 h-56"},ap={class:"text-[11px] font-semibold text-slate-600"},up={class:"bg-white p-4 md:p-6 rounded-2xl shadow-sm border border-slate-100"},cp={class:"space-y-3"},dp={class:"max-w-[60%]"},fp={class:"font-semibold text-slate-800 text-sm truncate"},pp={class:"text-[11px] text-slate-500"},hp={class:"text-right"},mp={class:"text-[11px] font-bold text-slate-700 block truncate"},gp={__name:"Dashboard",props:{bookings:{type:Array,default:()=>[]},campaigns:{type:Array,default:()=>[]}},setup(t){const e=t,n=[{name:"WhatsApp",sent:1500,response:900,bar:"bg-emerald-500"},{name:"Email",sent:800,response:200,bar:"bg-blue-500"},{name:"SMS",sent:1200,response:300,bar:"bg-orange-500"}],o=De(()=>e.bookings.filter(u=>u.date==="2023-10-28").length),i=De(()=>qt.length),s=Math.max(...n.map(u=>u.sent)),l=[0,400,800,1200,1600];return(u,d)=>(L(),$("div",jf,[d[5]||(d[5]=di('<div class="flex justify-between items-center"><h2 class="text-xl md:text-2xl font-bold text-slate-800">Ground Overview</h2><div class="hidden sm:flex items-center space-x-2 bg-white px-4 py-2 rounded-full shadow-sm border border-slate-100"><div class="w-2.5 h-2.5 rounded-full bg-emerald-500 animate-pulse shadow-sm"></div><span class="text-sm font-semibold text-slate-600">Pitches Active</span></div></div>',1)),g("div",ep,[xe(Jn,{title:"Today's Bookings",value:o.value,icon:"",color:"bg-emerald-500",trend:"Full"},null,8,["value"]),xe(Jn,{title:"Active Members",value:i.value,icon:"",color:"bg-blue-500",trend:"+3"},null,8,["value"]),xe(Jn,{title:"Broadcasts",value:"3,500",icon:"",color:"bg-purple-500"}),xe(Jn,{title:"Revenue",value:"$4,200",icon:"",color:"bg-orange-500",trend:"15%"})]),g("div",tp,[g("div",np,[d[1]||(d[1]=g("div",{class:"flex items-center justify-between mb-4"},[g("h3",{class:"text-lg font-semibold text-slate-700"},"Engagement"),g("span",{class:"text-xs text-slate-500"},"Last 7 days")],-1)),g("div",op,[g("div",ip,[(L(),$(ce,null,Ne(l,c=>g("div",{key:c,class:"flex items-center"},[g("span",sp,J(c),1),d[0]||(d[0]=g("div",{class:"flex-1 border-b border-dashed border-slate-200"},null,-1))])),64))]),g("div",rp,[(L(),$(ce,null,Ne(n,c=>g("div",{key:c.name,class:"flex flex-col items-center space-y-2"},[g("div",lp,[g("div",{class:ue(["w-9 rounded-md transition-all",c.bar]),style:bn({height:`${c.sent/dt(s)*100}%`}),title:"Sent"},null,6),g("div",{class:"w-9 rounded-md bg-blue-400/70",style:bn({height:`${c.response/dt(s)*100}%`}),title:"Responses"},null,4)]),g("span",ap,J(c.name),1)])),64))])]),d[2]||(d[2]=di('<div class="flex items-center justify-end mt-3 text-[11px] text-slate-500 space-x-4"><span class="flex items-center space-x-1"><span class="w-3 h-3 rounded-sm bg-emerald-500 block"></span><span>Sent</span></span><span class="flex items-center space-x-1"><span class="w-3 h-3 rounded-sm bg-blue-400 block"></span><span>Responses</span></span></div>',1))]),g("div",up,[d[3]||(d[3]=g("h3",{class:"text-lg font-semibold mb-4 text-slate-700"},"Matches",-1)),g("div",cp,[(L(!0),$(ce,null,Ne(t.bookings.slice(0,4),c=>{var f;return L(),$("div",{key:c.id,class:"flex items-center justify-between p-3 hover:bg-emerald-50/50 rounded-xl transition-colors border border-slate-100"},[g("div",dp,[g("p",fp,J(c.facility),1),g("p",pp,J(c.date)+"  "+J(c.startTime),1)]),g("div",hp,[g("span",mp,J((f=dt(qt).find(p=>p.id===c.memberId))==null?void 0:f.name),1),g("span",{class:ue(["text-[10px] uppercase font-bold px-2 py-0.5 rounded-full",c.status==="CONFIRMED"?"text-emerald-700 bg-emerald-50":"text-orange-600 bg-orange-50"])},J(c.status),3)])])}),128))]),d[4]||(d[4]=g("button",{class:"w-full mt-4 text-center text-sm text-emerald-600 font-semibold hover:underline"},"View All",-1))])])]))}},yp={class:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden"},vp={class:"grid grid-cols-7 border-b border-slate-200 bg-slate-50"},_p={class:"grid grid-cols-7 bg-slate-100 gap-px border-l border-t border-slate-200"},Tp=["onClick"],Ep={class:"flex justify-between items-start"},Cp={class:"mt-1 space-y-1 overflow-y-auto max-h-[calc(100%-1.5rem)] scrollbar-hide"},Sp={class:"font-bold hidden md:inline"},Ip={__name:"CalendarGrid",props:{year:Number,month:Number,bookings:{type:Array,default:()=>[]}},emits:["select-date"],setup(t,{emit:e}){const n=t,o=e,i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=De(()=>new Date(n.year,n.month+1,0).getDate()),l=De(()=>new Date(n.year,n.month,1).getDay()),u=De(()=>{const c=[];for(let f=0;f<l.value;f+=1)c.push({key:`empty-${f}`});for(let f=1;f<=s.value;f+=1){const p=`${n.year}-${String(n.month+1).padStart(2,"0")}-${String(f).padStart(2,"0")}`,h=n.bookings.filter(y=>y.date===p),m=n.year===2023&&n.month===9&&f===28;c.push({key:p,date:p,day:f,bookings:h,isToday:m})}return c}),d=c=>{c&&o("select-date",c)};return(c,f)=>(L(),$("div",yp,[g("div",vp,[(L(),$(ce,null,Ne(i,p=>g("div",{key:p,class:"py-2 text-center text-[10px] md:text-xs font-bold text-slate-500 uppercase tracking-wider"},J(p),1)),64))]),g("div",_p,[(L(!0),$(ce,null,Ne(u.value,p=>(L(),$("div",{key:p.key,class:ue(["bg-slate-50/50 h-20 md:h-32 border-r border-b border-slate-100",p.date?"bg-white cursor-pointer group hover:bg-emerald-50/30 relative p-1 md:p-2":""]),onClick:h=>d(p.date)},[p.date?(L(),$(ce,{key:0},[g("div",Ep,[g("span",{class:ue(["text-xs md:text-sm font-semibold w-6 h-6 md:w-7 md:h-7 flex items-center justify-center rounded-full",p.isToday?"bg-blue-600 text-white shadow-md":"text-slate-700"])},J(p.day),3),f[0]||(f[0]=g("button",{class:"hidden md:flex opacity-0 group-hover:opacity-100 text-emerald-600 bg-emerald-100 hover:bg-emerald-200 w-5 h-5 md:w-6 md:h-6 rounded-full items-center justify-center text-lg leading-none transition-all shadow-sm transform hover:scale-110"}," + ",-1))]),g("div",Cp,[(L(!0),$(ce,null,Ne(p.bookings,h=>(L(),$("div",{key:h.id,class:ue(["text-[8px] md:text-[10px] px-1 md:px-1.5 py-0.5 md:py-1 rounded border truncate shadow-sm",h.status==="CONFIRMED"?"bg-emerald-100 text-emerald-800 border-emerald-200":"bg-orange-50 text-orange-800 border-orange-200"])},[g("span",Sp,J(h.startTime),1),No(" "+J(h.facility),1)],2))),128))])],64)):$t("",!0)],10,Tp))),128))])]))}},xp={class:"space-y-4 md:space-y-6"},Ap={class:"flex flex-col xl:flex-row justify-between items-center gap-4"},wp={class:"flex w-full md:w-auto bg-white p-1 rounded-lg border border-slate-200 shadow-sm overflow-x-auto scrollbar-hide"},Rp={class:"flex w-full md:w-auto items-center justify-between md:justify-end space-x-3"},Mp={key:0,class:"flex items-center bg-white px-3 py-2 rounded-lg border border-slate-200 shadow-sm"},bp={class:"mx-2 md:mx-4 font-bold text-slate-700 text-xs md:text-sm whitespace-nowrap"},Pp={key:0,class:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm flex items-center justify-center z-[100] p-4"},Np={class:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl animate-in fade-in zoom-in duration-200"},Dp={class:"space-y-4"},kp={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Up={class:"mt-6 flex justify-end space-x-3 pt-4 border-t border-slate-100"},Fp={key:2,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6"},Lp={key:0,class:"col-span-full py-12 text-center text-slate-400 border-2 border-dashed border-slate-200 rounded-xl"},Vp={class:"absolute top-0 right-0 p-3"},Gp={class:"text-base md:text-lg font-bold text-slate-800 mb-1"},Hp={class:"text-xs text-slate-500 mb-4"},$p={class:"flex items-center mb-4"},qp={class:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-[10px] font-bold text-slate-600 mr-2"},Bp={class:"text-xs font-medium text-slate-700"},Jp={class:"text-[10px] text-slate-400"},Op={__name:"BookingSystem",props:{initialBookings:{type:Array,default:()=>[]},members:{type:Array,default:()=>[]}},setup(t){const e=t,n=pe("calendar"),o=pe(e.initialBookings&&e.initialBookings.length?[...e.initialBookings]:[...po]),i=pe(!1),s=pe({year:2023,month:9}),l=pe({date:"",time:"10:00",facility:"Pitch 1",duration:1}),u=De(()=>e.members&&e.members.length?e.members:qt),d=De(()=>new Date(s.value.year,s.value.month).toLocaleString("default",{month:"long",year:"numeric"})),c=h=>{l.value.date=h,i.value=!0},f=()=>{const h={id:Date.now().toString(),memberId:"m1",facility:l.value.facility,date:l.value.date,startTime:l.value.time,durationHours:l.value.duration,status:to.CONFIRMED,syncedToGoogle:!1};o.value.push(h),i.value=!1},p=De(()=>o.value.filter(h=>h.memberId==="m1"));return In(()=>e.initialBookings,h=>{o.value=h&&h.length?[...h]:[...po]},{deep:!0}),(h,m)=>(L(),$("div",xp,[g("div",Ap,[g("div",wp,[g("button",{class:ue(["flex-1 md:flex-none px-3 md:px-4 py-2 rounded-md font-medium text-xs md:text-sm transition-colors flex items-center justify-center space-x-2 whitespace-nowrap",n.value==="calendar"?"bg-emerald-600 text-white shadow-sm":"text-slate-600 hover:bg-slate-50"]),onClick:m[0]||(m[0]=y=>n.value="calendar")},[...m[10]||(m[10]=[g("span",null,"",-1),g("span",null,"Calendar",-1)])],2),g("button",{class:ue(["flex-1 md:flex-none px-3 md:px-4 py-2 rounded-md font-medium text-xs md:text-sm transition-colors flex items-center justify-center space-x-2 whitespace-nowrap",n.value==="my-bookings"?"bg-emerald-600 text-white shadow-sm":"text-slate-600 hover:bg-slate-50"]),onClick:m[1]||(m[1]=y=>n.value="my-bookings")},[...m[11]||(m[11]=[g("span",null,"",-1),g("span",null,"Schedule",-1)])],2)]),g("div",Rp,[n.value==="calendar"?(L(),$("div",Mp,[g("button",{class:"text-slate-400 hover:text-emerald-600",onClick:m[2]||(m[2]=y=>s.value=s.value.month===0?{year:s.value.year-1,month:11}:{...s.value,month:s.value.month-1})},"  "),g("span",bp,J(d.value),1),g("button",{class:"text-slate-400 hover:text-emerald-600",onClick:m[3]||(m[3]=y=>s.value=s.value.month===11?{year:s.value.year+1,month:0}:{...s.value,month:s.value.month+1})},"  ")])):$t("",!0),g("button",{class:"px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 text-xs md:text-sm font-medium flex items-center shadow-lg transition-all",onClick:m[4]||(m[4]=y=>{l.value={...l.value,date:new Date().toISOString().split("T")[0]},i.value=!0})},[...m[12]||(m[12]=[g("span",null,"+ Book",-1)])])])]),i.value?(L(),$("div",Pp,[g("div",Np,[m[18]||(m[18]=g("h3",{class:"text-xl font-bold mb-4 text-slate-800 flex items-center"},[g("span",{class:"w-8 h-8 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center mr-2 text-sm"},""),No(" Book a Slot ")],-1)),g("div",Dp,[g("div",null,[m[14]||(m[14]=g("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Facility",-1)),Lt(g("select",{"onUpdate:modelValue":m[5]||(m[5]=y=>l.value.facility=y),class:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none"},[...m[13]||(m[13]=[g("option",null,"Pitch 1",-1),g("option",null,"Pitch 2",-1),g("option",null,"Indoor Nets",-1),g("option",null,"Bowling Machine",-1)])],512),[[Kd,l.value.facility]])]),g("div",kp,[g("div",null,[m[15]||(m[15]=g("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Date",-1)),Lt(g("input",{"onUpdate:modelValue":m[6]||(m[6]=y=>l.value.date=y),type:"date",class:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none"},null,512),[[tn,l.value.date]])]),g("div",null,[m[16]||(m[16]=g("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Time",-1)),Lt(g("input",{"onUpdate:modelValue":m[7]||(m[7]=y=>l.value.time=y),type:"time",class:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none"},null,512),[[tn,l.value.time]])])]),g("div",null,[m[17]||(m[17]=g("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Duration (Hours)",-1)),Lt(g("input",{"onUpdate:modelValue":m[8]||(m[8]=y=>l.value.duration=y),type:"number",min:"1",max:"8",class:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none"},null,512),[[tn,l.value.duration,void 0,{number:!0}]])])]),g("div",Up,[g("button",{class:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",onClick:m[9]||(m[9]=y=>i.value=!1)}," Cancel "),g("button",{class:"px-6 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 shadow-lg transition-all",onClick:f}," Confirm ")])])])):$t("",!0),n.value==="calendar"?(L(),lt(Ip,{key:1,year:s.value.year,month:s.value.month,bookings:o.value,onSelectDate:c},null,8,["year","month","bookings"])):(L(),$("div",Fp,[p.value.length===0?(L(),$("div",Lp,[...m[19]||(m[19]=[g("span",{class:"text-4xl block mb-2"},"",-1),g("p",null,"No upcoming bookings found.",-1)])])):(L(!0),$(ce,{key:1},Ne(p.value,y=>{var T,E,S;return L(),$("div",{key:y.id,class:"bg-white p-4 md:p-6 rounded-xl shadow-sm border border-slate-200 hover:border-emerald-300 transition-colors relative overflow-hidden group"},[g("div",Vp,[g("span",{class:ue(["px-2 py-1 text-[8px] md:text-[10px] font-bold rounded uppercase",y.status==="CONFIRMED"?"bg-emerald-100 text-emerald-700":"bg-orange-100 text-orange-700"])},J(y.status),3)]),g("h4",Gp,J(y.facility),1),g("p",Hp," "+J(y.date)+" |  "+J(y.startTime),1),g("div",$p,[g("div",qp,J((T=u.value.find(M=>M.id===y.memberId))==null?void 0:T.name.charAt(0)),1),g("div",null,[g("p",Bp,J((E=u.value.find(M=>M.id===y.memberId))==null?void 0:E.name),1),g("p",Jp,J((S=u.value.find(M=>M.id===y.memberId))==null?void 0:S.membershipType),1)])]),m[20]||(m[20]=g("div",{class:"flex items-center space-x-2 border-t pt-3 md:pt-4"},[g("button",{class:"flex-1 text-[10px] font-medium py-1.5 rounded border border-slate-200 text-slate-600 hover:bg-slate-50"}," Sync "),g("button",{class:"flex-1 text-[10px] font-medium py-1.5 rounded border border-slate-200 text-slate-600 hover:bg-red-50 hover:text-red-600"}," Cancel ")],-1))])}),128))]))]))}},Kp={class:"space-y-4 md:space-y-6"},Wp={class:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-x-auto"},Yp={class:"w-full text-left min-w-[600px]"},zp={class:"divide-y divide-slate-100"},Xp={class:"px-4 md:px-6 py-4"},Qp={class:"font-medium text-slate-800 text-sm"},Zp={class:"text-[10px] text-slate-500"},jp={class:"px-4 md:px-6 py-4"},eh={class:"px-4 md:px-6 py-4"},th={class:"flex flex-wrap gap-1"},nh={__name:"MemberList",props:{members:{type:Array,default:()=>[]}},setup(t){const e=t,n=De(()=>e.members&&e.members.length?e.members:qt);return(o,i)=>(L(),$("div",Kp,[i[2]||(i[2]=di('<div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"><h2 class="text-xl md:text-2xl font-bold text-slate-800">Members</h2><div class="flex space-x-2 w-full sm:w-auto"><button class="flex-1 sm:flex-none px-4 py-2 bg-white border border-slate-200 text-slate-600 rounded-lg text-xs md:text-sm font-medium"> CSV </button><button class="flex-1 sm:flex-none px-4 py-2 bg-emerald-600 text-white rounded-lg text-xs md:text-sm font-medium"> + Add </button></div></div>',1)),g("div",Wp,[g("table",Yp,[i[1]||(i[1]=g("thead",{class:"bg-slate-50 border-b border-slate-200"},[g("tr",null,[g("th",{class:"px-4 md:px-6 py-4 text-[10px] md:text-xs font-semibold text-slate-500 uppercase"},"Member"),g("th",{class:"px-4 md:px-6 py-4 text-[10px] md:text-xs font-semibold text-slate-500 uppercase"},"Membership"),g("th",{class:"px-4 md:px-6 py-4 text-[10px] md:text-xs font-semibold text-slate-500 uppercase"},"Tags"),g("th",{class:"px-4 md:px-6 py-4 text-[10px] md:text-xs font-semibold text-slate-500 uppercase"},"Actions")])],-1)),g("tbody",zp,[(L(!0),$(ce,null,Ne(n.value,s=>(L(),$("tr",{key:s.id,class:"hover:bg-slate-50"},[g("td",Xp,[g("p",Qp,J(s.name),1),g("p",Zp,J(s.email),1)]),g("td",jp,[g("span",{class:ue(["px-2 py-0.5 rounded-full text-[10px] font-semibold",s.membershipType==="Club Pro"?"bg-purple-100 text-purple-700":"bg-slate-100 text-slate-600"])},J(s.membershipType),3)]),g("td",eh,[g("div",th,[(L(!0),$(ce,null,Ne(s.tags.slice(0,2),l=>(L(),$("span",{key:l,class:"px-2 py-0.5 bg-green-50 text-green-700 border border-green-100 text-[10px] rounded"},J(l),1))),128))])]),i[0]||(i[0]=g("td",{class:"px-4 md:px-6 py-4 text-[10px] md:text-sm"},[g("button",{class:"text-emerald-600 hover:text-emerald-800 font-medium mr-2 md:mr-3"},"Msg"),g("button",{class:"text-slate-400 hover:text-slate-600"},"Edit")],-1))]))),128))])])])]))}},oh={class:"h-[calc(100vh-10rem)] md:h-[calc(100vh-8rem)] flex bg-white rounded-xl overflow-hidden shadow-sm border border-slate-200"},ih={class:"flex-1 overflow-y-auto"},sh=["onClick"],rh={class:"flex justify-between items-start"},lh={class:"font-semibold text-slate-800 text-sm"},ah={class:"p-3 bg-white border-b border-slate-200 flex justify-between items-center shadow-sm"},uh={class:"flex items-center space-x-3"},ch={class:"w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center text-emerald-600 font-bold text-xs"},dh={class:"font-bold text-slate-800 text-xs md:text-sm"},fh={class:"flex-1 overflow-y-auto p-4 space-y-4"},ph={class:"text-xs"},hh={class:"p-3 bg-white border-t border-slate-200"},mh={class:"flex space-x-2"},gh=["onKeydown"],yh={key:1,class:"flex-1 flex flex-col items-center justify-center text-slate-400"},vh={__name:"ChatInterface",props:{members:{type:Array,default:()=>[]},messages:{type:Array,default:()=>[]}},setup(t){const e=t,n=pe(null),o=pe(""),i=De(()=>e.members&&e.members.length?e.members:qt),s=pe(e.messages&&e.messages.length?[...e.messages]:[...ho]);In(()=>e.messages,u=>{s.value=u&&u.length?[...u]:[...ho]},{deep:!0});const l=()=>{if(!o.value.trim())return;const u={id:Date.now().toString(),memberId:n.value||"m1",sender:"AGENT",content:o.value,timestamp:new Date().toISOString()};s.value.push(u),o.value=""};return(u,d)=>{var c,f;return L(),$("div",oh,[g("div",{class:ue(["w-full md:w-1/3 border-r border-slate-200 flex-col",n.value?"hidden md:flex":"flex"])},[d[4]||(d[4]=g("div",{class:"p-4 border-b border-slate-200 bg-slate-50"},[g("h3",{class:"font-bold text-slate-700 text-sm"},"Member Support"),g("input",{type:"text",placeholder:"Search...",class:"mt-2 w-full px-3 py-1.5 border border-slate-300 rounded-lg text-xs"})],-1)),g("div",ih,[(L(!0),$(ce,null,Ne(i.value,p=>(L(),$("div",{key:p.id,class:ue(["p-4 border-b border-slate-100 hover:bg-emerald-50 cursor-pointer transition-colors",n.value===p.id?"bg-emerald-50 border-l-4 border-l-emerald-500":""]),onClick:h=>n.value=p.id},[g("div",rh,[g("h4",lh,J(p.name),1),d[2]||(d[2]=g("span",{class:"text-[10px] text-slate-400"},"Now",-1))]),d[3]||(d[3]=g("p",{class:"text-xs text-slate-500 truncate mt-1"},"Last message preview...",-1))],10,sh))),128))])],2),g("div",{class:ue(["flex-1 flex-col bg-slate-50",n.value?"flex":"hidden md:flex"])},[n.value?(L(),$(ce,{key:0},[g("div",ah,[g("div",uh,[g("button",{class:"md:hidden text-slate-400 mr-1 text-lg",onClick:d[0]||(d[0]=p=>n.value=null)},""),g("div",ch,J((c=i.value.find(p=>p.id===n.value))==null?void 0:c.name.charAt(0)),1),g("div",null,[g("h3",dh,J((f=i.value.find(p=>p.id===n.value))==null?void 0:f.name),1),d[5]||(d[5]=g("p",{class:"text-[10px] text-slate-500"},"Online",-1))])])]),g("div",fh,[(L(!0),$(ce,null,Ne(s.value.filter(p=>p.memberId===n.value||!n.value&&p.memberId==="m1"),p=>(L(),$("div",{key:p.id,class:ue(["flex",p.sender==="MEMBER"?"justify-start":"justify-end"])},[g("div",{class:ue(["max-w-[85%] md:max-w-[70%] p-3 rounded-xl shadow-sm",p.sender==="MEMBER"?"bg-white text-slate-800 rounded-tl-none border border-slate-100":p.sender==="SYSTEM"?"bg-yellow-50 text-yellow-800 text-[10px] border border-yellow-100 mx-auto text-center":"bg-emerald-600 text-white rounded-tr-none"])},[g("p",ph,J(p.content),1),g("p",{class:ue(["text-[8px] mt-1",p.sender==="MEMBER"?"text-slate-400":"text-emerald-200"])},J(new Date(p.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),3)],2)],2))),128))]),g("div",hh,[g("div",mh,[Lt(g("input",{"onUpdate:modelValue":d[1]||(d[1]=p=>o.value=p),type:"text",placeholder:"Message...",class:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none transition-all text-sm",onKeydown:Qd(zd(l,["prevent"]),["enter"])},null,40,gh),[[tn,o.value]]),g("button",{class:"px-4 py-2 bg-emerald-600 text-white font-medium rounded-lg hover:bg-emerald-700 transition-colors shadow-sm",onClick:l},"  ")])])],64)):(L(),$("div",yh,[...d[6]||(d[6]=[g("span",{class:"text-5xl mb-4"},"",-1),g("p",{class:"text-sm"},"Select a member to chat",-1)])]))],2)])}}};var _h={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Th,Eh;function Ch(){return{geminiUrl:Th,vertexUrl:Eh}}function Sh(t,e,n,o){var i,s;if(!(t!=null&&t.baseUrl)){const l=Ch();return e?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(s=l.geminiUrl)!==null&&s!==void 0?s:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yt{}function k(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(o,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function a(t,e,n){for(let s=0;s<e.length-1;s++){const l=e[s];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[u])){const d=t[u];if(Array.isArray(n))for(let c=0;c<d.length;c++){const f=d[c];a(f,e.slice(s+1),n[c])}else for(const c of d)a(c,e.slice(s+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in t||(t[u]=[{}]);const d=t[u];a(d[0],e.slice(s+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const o=e[e.length-1],i=t[o];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[o]=n}function r(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return n;const i=e[o];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in t){const l=t[s];return Array.isArray(l)?l.map(u=>r(u,e.slice(o+1),n)):n}else return n}else t=t[i]}return t}catch(o){if(o instanceof TypeError)return n;throw o}}function Ih(t,e){for(const[n,o]of Object.entries(e)){const i=n.split("."),s=o.split("."),l=new Set;let u=-1;for(let d=0;d<i.length;d++)if(i[d]==="*"){u=d;break}if(u!==-1&&s.length>u)for(let d=u;d<s.length;d++){const c=s[d];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&l.add(c)}vi(t,i,s,0,l)}}function vi(t,e,n,o,i){if(o>=e.length||typeof t!="object"||t===null)return;const s=e[o];if(s.endsWith("[]")){const l=s.slice(0,-2),u=t;if(l in u&&Array.isArray(u[l]))for(const d of u[l])vi(d,e,n,o+1,i)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,u=Object.keys(l).filter(c=>!c.startsWith("_")&&!i.has(c)),d={};for(const c of u)d[c]=l[c];for(const[c,f]of Object.entries(d)){const p=[];for(const h of n.slice(o))h==="*"?p.push(c):p.push(h);a(l,p,f)}for(const c of u)delete l[c]}}else{const l=t;s in l&&vi(l[s],e,n,o+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xi(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xh(t){const e={},n=r(t,["operationName"]);n!=null&&a(e,["operationName"],n);const o=r(t,["resourceName"]);return o!=null&&a(e,["_url","resourceName"],o),e}function Ah(t){const e={},n=r(t,["name"]);n!=null&&a(e,["name"],n);const o=r(t,["metadata"]);o!=null&&a(e,["metadata"],o);const i=r(t,["done"]);i!=null&&a(e,["done"],i);const s=r(t,["error"]);s!=null&&a(e,["error"],s);const l=r(t,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],Rh(l)),e}function wh(t){const e={},n=r(t,["name"]);n!=null&&a(e,["name"],n);const o=r(t,["metadata"]);o!=null&&a(e,["metadata"],o);const i=r(t,["done"]);i!=null&&a(e,["done"],i);const s=r(t,["error"]);s!=null&&a(e,["error"],s);const l=r(t,["response"]);return l!=null&&a(e,["response"],Mh(l)),e}function Rh(t){const e={},n=r(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>bh(l))),a(e,["generatedVideos"],s)}const o=r(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const i=r(t,["raiMediaFilteredReasons"]);return i!=null&&a(e,["raiMediaFilteredReasons"],i),e}function Mh(t){const e={},n=r(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>Ph(l))),a(e,["generatedVideos"],s)}const o=r(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const i=r(t,["raiMediaFilteredReasons"]);return i!=null&&a(e,["raiMediaFilteredReasons"],i),e}function bh(t){const e={},n=r(t,["video"]);return n!=null&&a(e,["video"],Lh(n)),e}function Ph(t){const e={},n=r(t,["_self"]);return n!=null&&a(e,["video"],Vh(n)),e}function Nh(t){const e={},n=r(t,["operationName"]);return n!=null&&a(e,["_url","operationName"],n),e}function Dh(t){const e={},n=r(t,["operationName"]);return n!=null&&a(e,["_url","operationName"],n),e}function kh(t){const e={},n=r(t,["name"]);n!=null&&a(e,["name"],n);const o=r(t,["metadata"]);o!=null&&a(e,["metadata"],o);const i=r(t,["done"]);i!=null&&a(e,["done"],i);const s=r(t,["error"]);s!=null&&a(e,["error"],s);const l=r(t,["response"]);return l!=null&&a(e,["response"],Uh(l)),e}function Uh(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=r(t,["parent"]);o!=null&&a(e,["parent"],o);const i=r(t,["documentName"]);return i!=null&&a(e,["documentName"],i),e}function La(t){const e={},n=r(t,["name"]);n!=null&&a(e,["name"],n);const o=r(t,["metadata"]);o!=null&&a(e,["metadata"],o);const i=r(t,["done"]);i!=null&&a(e,["done"],i);const s=r(t,["error"]);s!=null&&a(e,["error"],s);const l=r(t,["response"]);return l!=null&&a(e,["response"],Fh(l)),e}function Fh(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=r(t,["parent"]);o!=null&&a(e,["parent"],o);const i=r(t,["documentName"]);return i!=null&&a(e,["documentName"],i),e}function Lh(t){const e={},n=r(t,["uri"]);n!=null&&a(e,["uri"],n);const o=r(t,["encodedVideo"]);o!=null&&a(e,["videoBytes"],Xi(o));const i=r(t,["encoding"]);return i!=null&&a(e,["mimeType"],i),e}function Vh(t){const e={},n=r(t,["gcsUri"]);n!=null&&a(e,["uri"],n);const o=r(t,["bytesBase64Encoded"]);o!=null&&a(e,["videoBytes"],Xi(o));const i=r(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ws;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ws||(Ws={}));var Ys;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Ys||(Ys={}));var zs;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(zs||(zs={}));var Ct;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ct||(Ct={}));var Xs;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Xs||(Xs={}));var Qs;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Qs||(Qs={}));var Zs;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Zs||(Zs={}));var js;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(js||(js={}));var er;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(er||(er={}));var tr;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(tr||(tr={}));var nr;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(nr||(nr={}));var or;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(or||(or={}));var ir;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(ir||(ir={}));var sr;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(sr||(sr={}));var rr;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(rr||(rr={}));var lr;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(lr||(lr={}));var ar;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ar||(ar={}));var ur;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(ur||(ur={}));var cr;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(cr||(cr={}));var mo;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(mo||(mo={}));var dr;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(dr||(dr={}));var fr;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(fr||(fr={}));var pr;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(pr||(pr={}));var _i;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(_i||(_i={}));var hr;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(hr||(hr={}));var mr;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(mr||(mr={}));var gr;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(gr||(gr={}));var yr;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(yr||(yr={}));var vr;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(vr||(vr={}));var _r;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(_r||(_r={}));var Tr;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Tr||(Tr={}));var Er;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Er||(Er={}));var Cr;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Cr||(Cr={}));var Sr;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Sr||(Sr={}));var Ir;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ir||(Ir={}));var xr;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(xr||(xr={}));var Ar;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Ar||(Ar={}));var wr;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(wr||(wr={}));var Rr;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Rr||(Rr={}));var Mr;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Mr||(Mr={}));var br;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(br||(br={}));var Pr;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Pr||(Pr={}));var Nr;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Nr||(Nr={}));var Dr;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Dr||(Dr={}));var kr;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(kr||(kr={}));var Ur;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Ur||(Ur={}));var Fr;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Fr||(Fr={}));var Lr;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Lr||(Lr={}));var Vr;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Vr||(Vr={}));var Gr;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Gr||(Gr={}));var Hr;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Hr||(Hr={}));var $r;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})($r||($r={}));var qr;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(qr||(qr={}));var Br;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Br||(Br={}));var Jr;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Jr||(Jr={}));var Yt;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Yt||(Yt={}));class Ti{constructor(e){const n={};for(const o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class yn{get text(){var e,n,o,i,s,l,u,d;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",f=!1;const p=[];for(const h of(d=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[m,y]of Object.entries(h))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(y!==null||y!==void 0)&&p.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,c+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var e,n,o,i,s,l,u,d;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const f=[];for(const p of(d=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[h,m]of Object.entries(p))h!=="inlineData"&&(m!==null||m!==void 0)&&f.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(c+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,o,i,s,l,u,d;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(d=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,o,i,s,l,u,d,c;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(d=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,o,i,s,l,u,d,c;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(d=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.output}}class Or{}class Kr{}class Gh{}class Hh{}class $h{}class qh{}class Wr{}class Yr{}class zr{}class Bh{}class go{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new go;let i;const s=e;return n?i=wh(s):i=Ah(s),Object.assign(o,i),o}}class Xr{}class Qr{}class Zr{}class jr{}class Jh{}class Oh{}class Kh{}class Qi{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new Qi,s=kh(e);return Object.assign(o,s),o}}class Wh{}class Yh{}class zh{}class el{}class Xh{get text(){var e,n,o;let i="",s=!1;const l=[];for(const u of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[d,c]of Object.entries(u))d!=="text"&&d!=="thought"&&c!==null&&l.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;s=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,o;let i="";const s=[];for(const l of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[u,d]of Object.entries(l))u!=="inlineData"&&d!==null&&s.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Qh{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Zi{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new Zi,s=La(e);return Object.assign(o,s),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Z(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Va(t,e){const n=Z(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Ga(t){return Array.isArray(t)?t.map(e=>yo(e)):[yo(t)]}function yo(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Ha(t){const e=yo(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function $a(t){const e=yo(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function tl(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function qa(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>tl(e)):[tl(t)]}function Ei(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function nl(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function ol(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function _e(t){if(t==null)throw new Error("ContentUnion is required");return Ei(t)?t:{role:"user",parts:qa(t)}}function ji(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const o=_e(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const n=_e(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>_e(n)):[_e(e)]}function $e(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(nl(t)||ol(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[_e(t)]}const e=[],n=[],o=Ei(t[0]);for(const i of t){const s=Ei(i);if(s!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(nl(i)||ol(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return o||e.push({role:"user",parts:qa(n)}),e}function Zh(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(Ct).includes(n[0].toUpperCase())?n[0].toUpperCase():Ct.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of n)e.anyOf.push({type:Object.values(Ct).includes(o.toUpperCase())?o.toUpperCase():Ct.TYPE_UNSPECIFIED})}}function nn(t){const e={},n=["items"],o=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&Zh(t.type,e);for(const[l,u]of Object.entries(t))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Ct).includes(u.toUpperCase())?u.toUpperCase():Ct.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=nn(u);else if(o.includes(l)){const d=[];for(const c of u){if(c.type=="null"){e.nullable=!0;continue}d.push(nn(c))}e[l]=d}else if(i.includes(l)){const d={};for(const[c,f]of Object.entries(u))d[c]=nn(f);e[l]=d}else{if(l==="additionalProperties")continue;e[l]=u}return e}function es(t){return nn(t)}function ts(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function ns(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function an(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=nn(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=nn(e.response));return t}function un(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function jh(t,e,n,o=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function vt(t,e){if(typeof e!="string")throw new Error("name must be a string");return jh(t,e,"cachedContents")}function Ba(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function wt(t){return Xi(t)}function em(t){return t!=null&&typeof t=="object"&&"name"in t}function tm(t){return t!=null&&typeof t=="object"&&"video"in t}function nm(t){return t!=null&&typeof t=="object"&&"uri"in t}function Ja(t){var e;let n;if(em(t)&&(n=t.name),!(nm(t)&&(n=t.uri,n===void 0))&&!(tm(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Oa(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Ka(t){for(const e of["models","tunedModels","publisherModels"])if(om(t,e))return t[e];return[]}function om(t,e){return t!==null&&typeof t=="object"&&e in t}function im(t,e={}){const n=t,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function sm(t,e={}){const n=[],o=new Set;for(const i of t){const s=i.name;if(o.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);o.add(s);const l=im(i,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function Wa(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function rm(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Ya(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function cn(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function za(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lm(t){const e={},n=r(t,["responsesFile"]);n!=null&&a(e,["fileName"],n);const o=r(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>$m(l))),a(e,["inlinedResponses"],s)}const i=r(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),a(e,["inlinedEmbedContentResponses"],s)}return e}function am(t){const e={},n=r(t,["predictionsFormat"]);n!=null&&a(e,["format"],n);const o=r(t,["gcsDestination","outputUriPrefix"]);o!=null&&a(e,["gcsUri"],o);const i=r(t,["bigqueryDestination","outputUri"]);return i!=null&&a(e,["bigqueryUri"],i),e}function um(t){const e={},n=r(t,["format"]);n!=null&&a(e,["predictionsFormat"],n);const o=r(t,["gcsUri"]);o!=null&&a(e,["gcsDestination","outputUriPrefix"],o);const i=r(t,["bigqueryUri"]);if(i!=null&&a(e,["bigqueryDestination","outputUri"],i),r(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(r(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function no(t){const e={},n=r(t,["name"]);n!=null&&a(e,["name"],n);const o=r(t,["metadata","displayName"]);o!=null&&a(e,["displayName"],o);const i=r(t,["metadata","state"]);i!=null&&a(e,["state"],za(i));const s=r(t,["metadata","createTime"]);s!=null&&a(e,["createTime"],s);const l=r(t,["metadata","endTime"]);l!=null&&a(e,["endTime"],l);const u=r(t,["metadata","updateTime"]);u!=null&&a(e,["updateTime"],u);const d=r(t,["metadata","model"]);d!=null&&a(e,["model"],d);const c=r(t,["metadata","output"]);return c!=null&&a(e,["dest"],lm(Ya(c))),e}function Ci(t){const e={},n=r(t,["name"]);n!=null&&a(e,["name"],n);const o=r(t,["displayName"]);o!=null&&a(e,["displayName"],o);const i=r(t,["state"]);i!=null&&a(e,["state"],za(i));const s=r(t,["error"]);s!=null&&a(e,["error"],s);const l=r(t,["createTime"]);l!=null&&a(e,["createTime"],l);const u=r(t,["startTime"]);u!=null&&a(e,["startTime"],u);const d=r(t,["endTime"]);d!=null&&a(e,["endTime"],d);const c=r(t,["updateTime"]);c!=null&&a(e,["updateTime"],c);const f=r(t,["model"]);f!=null&&a(e,["model"],f);const p=r(t,["inputConfig"]);p!=null&&a(e,["src"],cm(p));const h=r(t,["outputConfig"]);h!=null&&a(e,["dest"],am(Ya(h)));const m=r(t,["completionStats"]);return m!=null&&a(e,["completionStats"],m),e}function cm(t){const e={},n=r(t,["instancesFormat"]);n!=null&&a(e,["format"],n);const o=r(t,["gcsSource","uris"]);o!=null&&a(e,["gcsUri"],o);const i=r(t,["bigquerySource","inputUri"]);return i!=null&&a(e,["bigqueryUri"],i),e}function dm(t,e){const n={};if(r(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(r(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=r(e,["fileName"]);o!=null&&a(n,["fileName"],o);const i=r(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Hm(t,l))),a(n,["requests","requests"],s)}return n}function fm(t){const e={},n=r(t,["format"]);n!=null&&a(e,["instancesFormat"],n);const o=r(t,["gcsUri"]);o!=null&&a(e,["gcsSource","uris"],o);const i=r(t,["bigqueryUri"]);if(i!=null&&a(e,["bigquerySource","inputUri"],i),r(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function pm(t){const e={},n=r(t,["data"]);if(n!=null&&a(e,["data"],n),r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function hm(t,e){const n={},o=r(e,["name"]);return o!=null&&a(n,["_url","name"],cn(t,o)),n}function mm(t,e){const n={},o=r(e,["name"]);return o!=null&&a(n,["_url","name"],cn(t,o)),n}function gm(t){const e={},n=r(t,["content"]);n!=null&&a(e,["content"],n);const o=r(t,["citationMetadata"]);o!=null&&a(e,["citationMetadata"],ym(o));const i=r(t,["tokenCount"]);i!=null&&a(e,["tokenCount"],i);const s=r(t,["finishReason"]);s!=null&&a(e,["finishReason"],s);const l=r(t,["avgLogprobs"]);l!=null&&a(e,["avgLogprobs"],l);const u=r(t,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const d=r(t,["index"]);d!=null&&a(e,["index"],d);const c=r(t,["logprobsResult"]);c!=null&&a(e,["logprobsResult"],c);const f=r(t,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>m)),a(e,["safetyRatings"],h)}const p=r(t,["urlContextMetadata"]);return p!=null&&a(e,["urlContextMetadata"],p),e}function ym(t){const e={},n=r(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),a(e,["citations"],o)}return e}function Xa(t){const e={},n=r(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Ym(s))),a(e,["parts"],i)}const o=r(t,["role"]);return o!=null&&a(e,["role"],o),e}function vm(t,e){const n={},o=r(t,["displayName"]);if(e!==void 0&&o!=null&&a(e,["batch","displayName"],o),r(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function _m(t,e){const n={},o=r(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const i=r(t,["dest"]);return e!==void 0&&i!=null&&a(e,["outputConfig"],um(rm(i))),n}function il(t,e){const n={},o=r(e,["model"]);o!=null&&a(n,["_url","model"],Z(t,o));const i=r(e,["src"]);i!=null&&a(n,["batch","inputConfig"],dm(t,Wa(t,i)));const s=r(e,["config"]);return s!=null&&vm(s,n),n}function Tm(t,e){const n={},o=r(e,["model"]);o!=null&&a(n,["model"],Z(t,o));const i=r(e,["src"]);i!=null&&a(n,["inputConfig"],fm(Wa(t,i)));const s=r(e,["config"]);return s!=null&&_m(s,n),n}function Em(t,e){const n={},o=r(t,["displayName"]);return e!==void 0&&o!=null&&a(e,["batch","displayName"],o),n}function Cm(t,e){const n={},o=r(e,["model"]);o!=null&&a(n,["_url","model"],Z(t,o));const i=r(e,["src"]);i!=null&&a(n,["batch","inputConfig"],Mm(t,i));const s=r(e,["config"]);return s!=null&&Em(s,n),n}function Sm(t,e){const n={},o=r(e,["name"]);return o!=null&&a(n,["_url","name"],cn(t,o)),n}function Im(t,e){const n={},o=r(e,["name"]);return o!=null&&a(n,["_url","name"],cn(t,o)),n}function xm(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=r(t,["name"]);o!=null&&a(e,["name"],o);const i=r(t,["done"]);i!=null&&a(e,["done"],i);const s=r(t,["error"]);return s!=null&&a(e,["error"],s),e}function Am(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=r(t,["name"]);o!=null&&a(e,["name"],o);const i=r(t,["done"]);i!=null&&a(e,["done"],i);const s=r(t,["error"]);return s!=null&&a(e,["error"],s),e}function wm(t,e){const n={},o=r(e,["contents"]);if(o!=null){let s=ji(t,o);Array.isArray(s)&&(s=s.map(l=>l)),a(n,["requests[]","request","content"],s)}const i=r(e,["config"]);return i!=null&&(a(n,["_self"],Rm(i,n)),Ih(n,{"requests[].*":"requests[].request.*"})),n}function Rm(t,e){const n={},o=r(t,["taskType"]);e!==void 0&&o!=null&&a(e,["requests[]","taskType"],o);const i=r(t,["title"]);e!==void 0&&i!=null&&a(e,["requests[]","title"],i);const s=r(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&a(e,["requests[]","outputDimensionality"],s),r(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Mm(t,e){const n={},o=r(e,["fileName"]);o!=null&&a(n,["file_name"],o);const i=r(e,["inlinedRequests"]);return i!=null&&a(n,["requests"],wm(t,i)),n}function bm(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=r(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Pm(t){const e={},n=r(t,["id"]);n!=null&&a(e,["id"],n);const o=r(t,["args"]);o!=null&&a(e,["args"],o);const i=r(t,["name"]);if(i!=null&&a(e,["name"],i),r(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Nm(t){const e={},n=r(t,["mode"]);n!=null&&a(e,["mode"],n);const o=r(t,["allowedFunctionNames"]);if(o!=null&&a(e,["allowedFunctionNames"],o),r(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Dm(t,e,n){const o={},i=r(e,["systemInstruction"]);n!==void 0&&i!=null&&a(n,["systemInstruction"],Xa(_e(i)));const s=r(e,["temperature"]);s!=null&&a(o,["temperature"],s);const l=r(e,["topP"]);l!=null&&a(o,["topP"],l);const u=r(e,["topK"]);u!=null&&a(o,["topK"],u);const d=r(e,["candidateCount"]);d!=null&&a(o,["candidateCount"],d);const c=r(e,["maxOutputTokens"]);c!=null&&a(o,["maxOutputTokens"],c);const f=r(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const p=r(e,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);const h=r(e,["logprobs"]);h!=null&&a(o,["logprobs"],h);const m=r(e,["presencePenalty"]);m!=null&&a(o,["presencePenalty"],m);const y=r(e,["frequencyPenalty"]);y!=null&&a(o,["frequencyPenalty"],y);const T=r(e,["seed"]);T!=null&&a(o,["seed"],T);const E=r(e,["responseMimeType"]);E!=null&&a(o,["responseMimeType"],E);const S=r(e,["responseSchema"]);S!=null&&a(o,["responseSchema"],es(S));const M=r(e,["responseJsonSchema"]);if(M!=null&&a(o,["responseJsonSchema"],M),r(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=r(e,["safetySettings"]);if(n!==void 0&&A!=null){let oe=A;Array.isArray(oe)&&(oe=oe.map(Re=>zm(Re))),a(n,["safetySettings"],oe)}const I=r(e,["tools"]);if(n!==void 0&&I!=null){let oe=un(I);Array.isArray(oe)&&(oe=oe.map(Re=>Qm(an(Re)))),a(n,["tools"],oe)}const F=r(e,["toolConfig"]);if(n!==void 0&&F!=null&&a(n,["toolConfig"],Xm(F)),r(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const B=r(e,["cachedContent"]);n!==void 0&&B!=null&&a(n,["cachedContent"],vt(t,B));const G=r(e,["responseModalities"]);G!=null&&a(o,["responseModalities"],G);const X=r(e,["mediaResolution"]);X!=null&&a(o,["mediaResolution"],X);const V=r(e,["speechConfig"]);if(V!=null&&a(o,["speechConfig"],ts(V)),r(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const z=r(e,["thinkingConfig"]);z!=null&&a(o,["thinkingConfig"],z);const ne=r(e,["imageConfig"]);ne!=null&&a(o,["imageConfig"],Gm(ne));const ke=r(e,["enableEnhancedCivicAnswers"]);return ke!=null&&a(o,["enableEnhancedCivicAnswers"],ke),o}function km(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=r(t,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(c=>gm(c))),a(e,["candidates"],d)}const i=r(t,["modelVersion"]);i!=null&&a(e,["modelVersion"],i);const s=r(t,["promptFeedback"]);s!=null&&a(e,["promptFeedback"],s);const l=r(t,["responseId"]);l!=null&&a(e,["responseId"],l);const u=r(t,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function Um(t,e){const n={},o=r(e,["name"]);return o!=null&&a(n,["_url","name"],cn(t,o)),n}function Fm(t,e){const n={},o=r(e,["name"]);return o!=null&&a(n,["_url","name"],cn(t,o)),n}function Lm(t){const e={};if(r(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=r(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function Vm(t){const e={};if(r(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=r(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function Gm(t){const e={},n=r(t,["aspectRatio"]);n!=null&&a(e,["aspectRatio"],n);const o=r(t,["imageSize"]);if(o!=null&&a(e,["imageSize"],o),r(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(r(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Hm(t,e){const n={},o=r(e,["model"]);o!=null&&a(n,["request","model"],Z(t,o));const i=r(e,["contents"]);if(i!=null){let u=$e(i);Array.isArray(u)&&(u=u.map(d=>Xa(d))),a(n,["request","contents"],u)}const s=r(e,["metadata"]);s!=null&&a(n,["metadata"],s);const l=r(e,["config"]);return l!=null&&a(n,["request","generationConfig"],Dm(t,l,r(n,["request"],{}))),n}function $m(t){const e={},n=r(t,["response"]);n!=null&&a(e,["response"],km(n));const o=r(t,["error"]);return o!=null&&a(e,["error"],o),e}function qm(t,e){const n={},o=r(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const i=r(t,["pageToken"]);if(e!==void 0&&i!=null&&a(e,["_query","pageToken"],i),r(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Bm(t,e){const n={},o=r(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const i=r(t,["pageToken"]);e!==void 0&&i!=null&&a(e,["_query","pageToken"],i);const s=r(t,["filter"]);return e!==void 0&&s!=null&&a(e,["_query","filter"],s),n}function Jm(t){const e={},n=r(t,["config"]);return n!=null&&qm(n,e),e}function Om(t){const e={},n=r(t,["config"]);return n!=null&&Bm(n,e),e}function Km(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=r(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=r(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>no(l))),a(e,["batchJobs"],s)}return e}function Wm(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=r(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=r(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Ci(l))),a(e,["batchJobs"],s)}return e}function Ym(t){const e={},n=r(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=r(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const i=r(t,["executableCode"]);i!=null&&a(e,["executableCode"],i);const s=r(t,["fileData"]);s!=null&&a(e,["fileData"],bm(s));const l=r(t,["functionCall"]);l!=null&&a(e,["functionCall"],Pm(l));const u=r(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const d=r(t,["inlineData"]);d!=null&&a(e,["inlineData"],pm(d));const c=r(t,["text"]);c!=null&&a(e,["text"],c);const f=r(t,["thought"]);f!=null&&a(e,["thought"],f);const p=r(t,["thoughtSignature"]);p!=null&&a(e,["thoughtSignature"],p);const h=r(t,["videoMetadata"]);return h!=null&&a(e,["videoMetadata"],h),e}function zm(t){const e={},n=r(t,["category"]);if(n!=null&&a(e,["category"],n),r(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=r(t,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function Xm(t){const e={},n=r(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],Nm(n));const o=r(t,["retrievalConfig"]);return o!=null&&a(e,["retrievalConfig"],o),e}function Qm(t){const e={},n=r(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(e,["functionDeclarations"],f)}if(r(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const i=r(t,["computerUse"]);i!=null&&a(e,["computerUse"],i);const s=r(t,["fileSearch"]);s!=null&&a(e,["fileSearch"],s);const l=r(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),r(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=r(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],Lm(u));const d=r(t,["googleSearch"]);d!=null&&a(e,["googleSearch"],Vm(d));const c=r(t,["urlContext"]);return c!=null&&a(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var mt;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(mt||(mt={}));class Bt{constructor(e,n,o,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,i)}init(e,n,o){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!o||Object.keys(o).length===0?l={config:{}}:typeof o=="object"?l=Object.assign({},o):l=o,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(s=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zm extends yt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Bt(mt.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=il(this.apiClient,e),o=n._url,i=k("{model}:batchGenerateContent",o),u=n.batch.inputConfig.requests,d=u.requests,c=[];for(const f of d){const p=Object.assign({},f);if(p.systemInstruction){const h=p.systemInstruction;delete p.systemInstruction;const m=p.request;m.systemInstruction=h,p.request=m}c.push(p)}return u.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const o=n?Object.assign({},n):{},i=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${i}`),o.dest===void 0){const s=this.getGcsUri(e),l=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?o.dest=`${s.slice(0,-6)}/dest`:o.dest=`${s}_dest_${i}`;else if(l)o.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var n,o,i,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Tm(this.apiClient,e);return u=k("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Ci(f))}else{const c=il(this.apiClient,e);return u=k("{model}:batchGenerateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),l.then(f=>no(f))}}async createEmbeddingsInternal(e){var n,o;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Cm(this.apiClient,e);return s=k("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>no(d))}}async get(e){var n,o,i,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Fm(this.apiClient,e);return u=k("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Ci(f))}else{const c=Um(this.apiClient,e);return u=k("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),l.then(f=>no(f))}}async cancel(e){var n,o,i,s;let l="",u={};if(this.apiClient.isVertexAI()){const d=mm(this.apiClient,e);l=k("batchPredictionJobs/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const d=hm(this.apiClient,e);l=k("batches/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,o,i,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Om(e);return u=k("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Wm(f),h=new el;return Object.assign(h,p),h})}else{const c=Jm(e);return u=k("batches",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Km(f),h=new el;return Object.assign(h,p),h})}}async delete(e){var n,o,i,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Im(this.apiClient,e);return u=k("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>Am(f))}else{const c=Sm(this.apiClient,e);return u=k("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>xm(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jm(t){const e={},n=r(t,["data"]);if(n!=null&&a(e,["data"],n),r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function sl(t){const e={},n=r(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Cg(s))),a(e,["parts"],i)}const o=r(t,["role"]);return o!=null&&a(e,["role"],o),e}function eg(t,e){const n={},o=r(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const i=r(t,["expireTime"]);e!==void 0&&i!=null&&a(e,["expireTime"],i);const s=r(t,["displayName"]);e!==void 0&&s!=null&&a(e,["displayName"],s);const l=r(t,["contents"]);if(e!==void 0&&l!=null){let f=$e(l);Array.isArray(f)&&(f=f.map(p=>sl(p))),a(e,["contents"],f)}const u=r(t,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],sl(_e(u)));const d=r(t,["tools"]);if(e!==void 0&&d!=null){let f=d;Array.isArray(f)&&(f=f.map(p=>Ig(p))),a(e,["tools"],f)}const c=r(t,["toolConfig"]);if(e!==void 0&&c!=null&&a(e,["toolConfig"],Sg(c)),r(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function tg(t,e){const n={},o=r(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const i=r(t,["expireTime"]);e!==void 0&&i!=null&&a(e,["expireTime"],i);const s=r(t,["displayName"]);e!==void 0&&s!=null&&a(e,["displayName"],s);const l=r(t,["contents"]);if(e!==void 0&&l!=null){let p=$e(l);Array.isArray(p)&&(p=p.map(h=>h)),a(e,["contents"],p)}const u=r(t,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],_e(u));const d=r(t,["tools"]);if(e!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>xg(h))),a(e,["tools"],p)}const c=r(t,["toolConfig"]);e!==void 0&&c!=null&&a(e,["toolConfig"],c);const f=r(t,["kmsKeyName"]);return e!==void 0&&f!=null&&a(e,["encryption_spec","kmsKeyName"],f),n}function ng(t,e){const n={},o=r(e,["model"]);o!=null&&a(n,["model"],Va(t,o));const i=r(e,["config"]);return i!=null&&eg(i,n),n}function og(t,e){const n={},o=r(e,["model"]);o!=null&&a(n,["model"],Va(t,o));const i=r(e,["config"]);return i!=null&&tg(i,n),n}function ig(t,e){const n={},o=r(e,["name"]);return o!=null&&a(n,["_url","name"],vt(t,o)),n}function sg(t,e){const n={},o=r(e,["name"]);return o!=null&&a(n,["_url","name"],vt(t,o)),n}function rg(t){const e={},n=r(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function lg(t){const e={},n=r(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function ag(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=r(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function ug(t){const e={},n=r(t,["id"]);n!=null&&a(e,["id"],n);const o=r(t,["args"]);o!=null&&a(e,["args"],o);const i=r(t,["name"]);if(i!=null&&a(e,["name"],i),r(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function cg(t){const e={},n=r(t,["mode"]);n!=null&&a(e,["mode"],n);const o=r(t,["allowedFunctionNames"]);if(o!=null&&a(e,["allowedFunctionNames"],o),r(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function dg(t){const e={};if(r(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=r(t,["description"]);n!=null&&a(e,["description"],n);const o=r(t,["name"]);o!=null&&a(e,["name"],o);const i=r(t,["parameters"]);i!=null&&a(e,["parameters"],i);const s=r(t,["parametersJsonSchema"]);s!=null&&a(e,["parametersJsonSchema"],s);const l=r(t,["response"]);l!=null&&a(e,["response"],l);const u=r(t,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function fg(t,e){const n={},o=r(e,["name"]);return o!=null&&a(n,["_url","name"],vt(t,o)),n}function pg(t,e){const n={},o=r(e,["name"]);return o!=null&&a(n,["_url","name"],vt(t,o)),n}function hg(t){const e={};if(r(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=r(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function mg(t){const e={};if(r(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=r(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function gg(t,e){const n={},o=r(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const i=r(t,["pageToken"]);return e!==void 0&&i!=null&&a(e,["_query","pageToken"],i),n}function yg(t,e){const n={},o=r(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const i=r(t,["pageToken"]);return e!==void 0&&i!=null&&a(e,["_query","pageToken"],i),n}function vg(t){const e={},n=r(t,["config"]);return n!=null&&gg(n,e),e}function _g(t){const e={},n=r(t,["config"]);return n!=null&&yg(n,e),e}function Tg(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=r(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=r(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),a(e,["cachedContents"],s)}return e}function Eg(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=r(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=r(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),a(e,["cachedContents"],s)}return e}function Cg(t){const e={},n=r(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=r(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const i=r(t,["executableCode"]);i!=null&&a(e,["executableCode"],i);const s=r(t,["fileData"]);s!=null&&a(e,["fileData"],ag(s));const l=r(t,["functionCall"]);l!=null&&a(e,["functionCall"],ug(l));const u=r(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const d=r(t,["inlineData"]);d!=null&&a(e,["inlineData"],jm(d));const c=r(t,["text"]);c!=null&&a(e,["text"],c);const f=r(t,["thought"]);f!=null&&a(e,["thought"],f);const p=r(t,["thoughtSignature"]);p!=null&&a(e,["thoughtSignature"],p);const h=r(t,["videoMetadata"]);return h!=null&&a(e,["videoMetadata"],h),e}function Sg(t){const e={},n=r(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],cg(n));const o=r(t,["retrievalConfig"]);return o!=null&&a(e,["retrievalConfig"],o),e}function Ig(t){const e={},n=r(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(e,["functionDeclarations"],f)}if(r(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const i=r(t,["computerUse"]);i!=null&&a(e,["computerUse"],i);const s=r(t,["fileSearch"]);s!=null&&a(e,["fileSearch"],s);const l=r(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),r(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=r(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],hg(u));const d=r(t,["googleSearch"]);d!=null&&a(e,["googleSearch"],mg(d));const c=r(t,["urlContext"]);return c!=null&&a(e,["urlContext"],c),e}function xg(t){const e={},n=r(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>dg(h))),a(e,["functionDeclarations"],p)}const o=r(t,["retrieval"]);o!=null&&a(e,["retrieval"],o);const i=r(t,["googleSearchRetrieval"]);i!=null&&a(e,["googleSearchRetrieval"],i);const s=r(t,["computerUse"]);if(s!=null&&a(e,["computerUse"],s),r(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=r(t,["codeExecution"]);l!=null&&a(e,["codeExecution"],l);const u=r(t,["enterpriseWebSearch"]);u!=null&&a(e,["enterpriseWebSearch"],u);const d=r(t,["googleMaps"]);d!=null&&a(e,["googleMaps"],d);const c=r(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],c);const f=r(t,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function Ag(t,e){const n={},o=r(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const i=r(t,["expireTime"]);return e!==void 0&&i!=null&&a(e,["expireTime"],i),n}function wg(t,e){const n={},o=r(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const i=r(t,["expireTime"]);return e!==void 0&&i!=null&&a(e,["expireTime"],i),n}function Rg(t,e){const n={},o=r(e,["name"]);o!=null&&a(n,["_url","name"],vt(t,o));const i=r(e,["config"]);return i!=null&&Ag(i,n),n}function Mg(t,e){const n={},o=r(e,["name"]);o!=null&&a(n,["_url","name"],vt(t,o));const i=r(e,["config"]);return i!=null&&wg(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bg extends yt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Bt(mt.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,i,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=og(this.apiClient,e);return u=k("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=ng(this.apiClient,e);return u=k("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async get(e){var n,o,i,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=pg(this.apiClient,e);return u=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=fg(this.apiClient,e);return u=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async delete(e){var n,o,i,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=sg(this.apiClient,e);return u=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=lg(f),h=new Zr;return Object.assign(h,p),h})}else{const c=ig(this.apiClient,e);return u=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=rg(f),h=new Zr;return Object.assign(h,p),h})}}async update(e){var n,o,i,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Mg(this.apiClient,e);return u=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=Rg(this.apiClient,e);return u=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async listInternal(e){var n,o,i,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=_g(e);return u=k("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Eg(f),h=new jr;return Object.assign(h,p),h})}else{const c=vg(e);return u=k("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Tg(f),h=new jr;return Object.assign(h,p),h})}}}function vo(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(t);i<o.length;i++)e.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(n[o[i]]=t[o[i]]);return n}function rl(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function W(t){return this instanceof W?(this.v=t,this):new W(t)}function Oe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(m){return function(y){return Promise.resolve(y).then(m,p)}}function u(m,y){o[m]&&(i[m]=function(T){return new Promise(function(E,S){s.push([m,T,E,S])>1||d(m,T)})},y&&(i[m]=y(i[m])))}function d(m,y){try{c(o[m](y))}catch(T){h(s[0][3],T)}}function c(m){m.value instanceof W?Promise.resolve(m.value.v).then(f,p):h(s[0][2],m)}function f(m){d("next",m)}function p(m){d("throw",m)}function h(m,y){m(y),s.shift(),s.length&&d(s[0][0],s[0][1])}}function Ke(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof rl=="function"?rl(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(s){n[s]=t[s]&&function(l){return new Promise(function(u,d){l=t[s](l),i(u,d,l.done,l.value)})}}function i(s,l,u,d){Promise.resolve(d).then(function(c){s({value:c,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pg(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Qa(n)}function Qa(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Ng(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function ll(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{const i=[];let s=!0;for(;o<n&&t[o].role==="model";)i.push(t[o]),s&&!Qa(t[o])&&(s=!1),o++;s?e.push(...i):e.pop()}return e}class Dg{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new kg(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class kg{constructor(e,n,o,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),Ng(s)}async sendMessage(e){var n;await this.sendPromise;const o=_e(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,l,u;const d=await i,c=(l=(s=d.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content,f=d.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let h=[];f!=null&&(h=(u=f.slice(p))!==null&&u!==void 0?u:[]);const m=c?[c]:[];this.recordHistory(o,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const o=_e(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,o)}getHistory(e=!1){const n=e?ll(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Oe(this,arguments,function*(){var i,s,l,u,d,c;const f=[];try{for(var p=!0,h=Ke(e),m;m=yield W(h.next()),i=m.done,!i;p=!0){u=m.value,p=!1;const y=u;if(Pg(y)){const T=(c=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||c===void 0?void 0:c.content;T!==void 0&&f.push(T)}yield yield W(y)}}catch(y){s={error:y}}finally{try{!p&&!i&&(l=h.return)&&(yield W(l.call(h)))}finally{if(s)throw s.error}}this.recordHistory(n,f)})}recordHistory(e,n,o){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...ll(o)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ko extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ko.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ug(t){const e={},n=r(t,["file"]);return n!=null&&a(e,["file"],n),e}function Fg(t){const e={},n=r(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function Lg(t){const e={},n=r(t,["name"]);return n!=null&&a(e,["_url","file"],Ja(n)),e}function Vg(t){const e={},n=r(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function Gg(t){const e={},n=r(t,["name"]);return n!=null&&a(e,["_url","file"],Ja(n)),e}function Hg(t,e){const n={},o=r(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const i=r(t,["pageToken"]);return e!==void 0&&i!=null&&a(e,["_query","pageToken"],i),n}function $g(t){const e={},n=r(t,["config"]);return n!=null&&Hg(n,e),e}function qg(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=r(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=r(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),a(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bg extends yt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Bt(mt.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,o;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$g(e);return s=k("files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),i.then(d=>{const c=qg(d),f=new Wh;return Object.assign(f,c),f})}}async createInternal(e){var n,o;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Ug(e);return s=k("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>{const c=Fg(d),f=new Yh;return Object.assign(f,c),f})}}async get(e){var n,o;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Gg(e);return s=k("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(e){var n,o;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Lg(e);return s=k("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),i.then(d=>{const c=Vg(d),f=new zh;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oo(t){const e={},n=r(t,["data"]);if(n!=null&&a(e,["data"],n),r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Jg(t){const e={},n=r(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>ry(s))),a(e,["parts"],i)}const o=r(t,["role"]);return o!=null&&a(e,["role"],o),e}function Og(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=r(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Kg(t){const e={},n=r(t,["id"]);n!=null&&a(e,["id"],n);const o=r(t,["args"]);o!=null&&a(e,["args"],o);const i=r(t,["name"]);if(i!=null&&a(e,["name"],i),r(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Wg(t){const e={};if(r(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=r(t,["description"]);n!=null&&a(e,["description"],n);const o=r(t,["name"]);o!=null&&a(e,["name"],o);const i=r(t,["parameters"]);i!=null&&a(e,["parameters"],i);const s=r(t,["parametersJsonSchema"]);s!=null&&a(e,["parametersJsonSchema"],s);const l=r(t,["response"]);l!=null&&a(e,["response"],l);const u=r(t,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function Yg(t){const e={},n=r(t,["modelSelectionConfig"]);n!=null&&a(e,["modelConfig"],n);const o=r(t,["responseJsonSchema"]);o!=null&&a(e,["responseJsonSchema"],o);const i=r(t,["audioTimestamp"]);i!=null&&a(e,["audioTimestamp"],i);const s=r(t,["candidateCount"]);s!=null&&a(e,["candidateCount"],s);const l=r(t,["enableAffectiveDialog"]);l!=null&&a(e,["enableAffectiveDialog"],l);const u=r(t,["frequencyPenalty"]);u!=null&&a(e,["frequencyPenalty"],u);const d=r(t,["logprobs"]);d!=null&&a(e,["logprobs"],d);const c=r(t,["maxOutputTokens"]);c!=null&&a(e,["maxOutputTokens"],c);const f=r(t,["mediaResolution"]);f!=null&&a(e,["mediaResolution"],f);const p=r(t,["presencePenalty"]);p!=null&&a(e,["presencePenalty"],p);const h=r(t,["responseLogprobs"]);h!=null&&a(e,["responseLogprobs"],h);const m=r(t,["responseMimeType"]);m!=null&&a(e,["responseMimeType"],m);const y=r(t,["responseModalities"]);y!=null&&a(e,["responseModalities"],y);const T=r(t,["responseSchema"]);T!=null&&a(e,["responseSchema"],T);const E=r(t,["routingConfig"]);E!=null&&a(e,["routingConfig"],E);const S=r(t,["seed"]);S!=null&&a(e,["seed"],S);const M=r(t,["speechConfig"]);M!=null&&a(e,["speechConfig"],M);const A=r(t,["stopSequences"]);A!=null&&a(e,["stopSequences"],A);const I=r(t,["temperature"]);I!=null&&a(e,["temperature"],I);const F=r(t,["thinkingConfig"]);F!=null&&a(e,["thinkingConfig"],F);const B=r(t,["topK"]);B!=null&&a(e,["topK"],B);const G=r(t,["topP"]);if(G!=null&&a(e,["topP"],G),r(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function zg(t){const e={};if(r(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=r(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function Xg(t){const e={};if(r(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=r(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function Qg(t,e){const n={},o=r(t,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],o);const i=r(t,["responseModalities"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","responseModalities"],i);const s=r(t,["temperature"]);e!==void 0&&s!=null&&a(e,["setup","generationConfig","temperature"],s);const l=r(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=r(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const d=r(t,["maxOutputTokens"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","maxOutputTokens"],d);const c=r(t,["mediaResolution"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","mediaResolution"],c);const f=r(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const p=r(t,["speechConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","speechConfig"],ns(p));const h=r(t,["thinkingConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","thinkingConfig"],h);const m=r(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],m);const y=r(t,["systemInstruction"]);e!==void 0&&y!=null&&a(e,["setup","systemInstruction"],Jg(_e(y)));const T=r(t,["tools"]);if(e!==void 0&&T!=null){let B=un(T);Array.isArray(B)&&(B=B.map(G=>ay(an(G)))),a(e,["setup","tools"],B)}const E=r(t,["sessionResumption"]);e!==void 0&&E!=null&&a(e,["setup","sessionResumption"],ly(E));const S=r(t,["inputAudioTranscription"]);e!==void 0&&S!=null&&a(e,["setup","inputAudioTranscription"],S);const M=r(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&a(e,["setup","outputAudioTranscription"],M);const A=r(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&a(e,["setup","realtimeInputConfig"],A);const I=r(t,["contextWindowCompression"]);e!==void 0&&I!=null&&a(e,["setup","contextWindowCompression"],I);const F=r(t,["proactivity"]);if(e!==void 0&&F!=null&&a(e,["setup","proactivity"],F),r(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Zg(t,e){const n={},o=r(t,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],Yg(o));const i=r(t,["responseModalities"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","responseModalities"],i);const s=r(t,["temperature"]);e!==void 0&&s!=null&&a(e,["setup","generationConfig","temperature"],s);const l=r(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=r(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const d=r(t,["maxOutputTokens"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","maxOutputTokens"],d);const c=r(t,["mediaResolution"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","mediaResolution"],c);const f=r(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const p=r(t,["speechConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","speechConfig"],ns(p));const h=r(t,["thinkingConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","thinkingConfig"],h);const m=r(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],m);const y=r(t,["systemInstruction"]);e!==void 0&&y!=null&&a(e,["setup","systemInstruction"],_e(y));const T=r(t,["tools"]);if(e!==void 0&&T!=null){let G=un(T);Array.isArray(G)&&(G=G.map(X=>uy(an(X)))),a(e,["setup","tools"],G)}const E=r(t,["sessionResumption"]);e!==void 0&&E!=null&&a(e,["setup","sessionResumption"],E);const S=r(t,["inputAudioTranscription"]);e!==void 0&&S!=null&&a(e,["setup","inputAudioTranscription"],S);const M=r(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&a(e,["setup","outputAudioTranscription"],M);const A=r(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&a(e,["setup","realtimeInputConfig"],A);const I=r(t,["contextWindowCompression"]);e!==void 0&&I!=null&&a(e,["setup","contextWindowCompression"],I);const F=r(t,["proactivity"]);e!==void 0&&F!=null&&a(e,["setup","proactivity"],F);const B=r(t,["explicitVadSignal"]);return e!==void 0&&B!=null&&a(e,["setup","explicitVadSignal"],B),n}function jg(t,e){const n={},o=r(e,["model"]);o!=null&&a(n,["setup","model"],Z(t,o));const i=r(e,["config"]);return i!=null&&a(n,["config"],Qg(i,n)),n}function ey(t,e){const n={},o=r(e,["model"]);o!=null&&a(n,["setup","model"],Z(t,o));const i=r(e,["config"]);return i!=null&&a(n,["config"],Zg(i,n)),n}function ty(t){const e={},n=r(t,["musicGenerationConfig"]);return n!=null&&a(e,["musicGenerationConfig"],n),e}function ny(t){const e={},n=r(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),a(e,["weightedPrompts"],o)}return e}function oy(t){const e={},n=r(t,["media"]);if(n!=null){let c=Ga(n);Array.isArray(c)&&(c=c.map(f=>oo(f))),a(e,["mediaChunks"],c)}const o=r(t,["audio"]);o!=null&&a(e,["audio"],oo($a(o)));const i=r(t,["audioStreamEnd"]);i!=null&&a(e,["audioStreamEnd"],i);const s=r(t,["video"]);s!=null&&a(e,["video"],oo(Ha(s)));const l=r(t,["text"]);l!=null&&a(e,["text"],l);const u=r(t,["activityStart"]);u!=null&&a(e,["activityStart"],u);const d=r(t,["activityEnd"]);return d!=null&&a(e,["activityEnd"],d),e}function iy(t){const e={},n=r(t,["media"]);if(n!=null){let c=Ga(n);Array.isArray(c)&&(c=c.map(f=>f)),a(e,["mediaChunks"],c)}const o=r(t,["audio"]);o!=null&&a(e,["audio"],$a(o));const i=r(t,["audioStreamEnd"]);i!=null&&a(e,["audioStreamEnd"],i);const s=r(t,["video"]);s!=null&&a(e,["video"],Ha(s));const l=r(t,["text"]);l!=null&&a(e,["text"],l);const u=r(t,["activityStart"]);u!=null&&a(e,["activityStart"],u);const d=r(t,["activityEnd"]);return d!=null&&a(e,["activityEnd"],d),e}function sy(t){const e={},n=r(t,["setupComplete"]);n!=null&&a(e,["setupComplete"],n);const o=r(t,["serverContent"]);o!=null&&a(e,["serverContent"],o);const i=r(t,["toolCall"]);i!=null&&a(e,["toolCall"],i);const s=r(t,["toolCallCancellation"]);s!=null&&a(e,["toolCallCancellation"],s);const l=r(t,["usageMetadata"]);l!=null&&a(e,["usageMetadata"],cy(l));const u=r(t,["goAway"]);u!=null&&a(e,["goAway"],u);const d=r(t,["sessionResumptionUpdate"]);d!=null&&a(e,["sessionResumptionUpdate"],d);const c=r(t,["voiceActivityDetectionSignal"]);return c!=null&&a(e,["voiceActivityDetectionSignal"],c),e}function ry(t){const e={},n=r(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=r(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const i=r(t,["executableCode"]);i!=null&&a(e,["executableCode"],i);const s=r(t,["fileData"]);s!=null&&a(e,["fileData"],Og(s));const l=r(t,["functionCall"]);l!=null&&a(e,["functionCall"],Kg(l));const u=r(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const d=r(t,["inlineData"]);d!=null&&a(e,["inlineData"],oo(d));const c=r(t,["text"]);c!=null&&a(e,["text"],c);const f=r(t,["thought"]);f!=null&&a(e,["thought"],f);const p=r(t,["thoughtSignature"]);p!=null&&a(e,["thoughtSignature"],p);const h=r(t,["videoMetadata"]);return h!=null&&a(e,["videoMetadata"],h),e}function ly(t){const e={},n=r(t,["handle"]);if(n!=null&&a(e,["handle"],n),r(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ay(t){const e={},n=r(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(e,["functionDeclarations"],f)}if(r(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const i=r(t,["computerUse"]);i!=null&&a(e,["computerUse"],i);const s=r(t,["fileSearch"]);s!=null&&a(e,["fileSearch"],s);const l=r(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),r(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=r(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],zg(u));const d=r(t,["googleSearch"]);d!=null&&a(e,["googleSearch"],Xg(d));const c=r(t,["urlContext"]);return c!=null&&a(e,["urlContext"],c),e}function uy(t){const e={},n=r(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>Wg(h))),a(e,["functionDeclarations"],p)}const o=r(t,["retrieval"]);o!=null&&a(e,["retrieval"],o);const i=r(t,["googleSearchRetrieval"]);i!=null&&a(e,["googleSearchRetrieval"],i);const s=r(t,["computerUse"]);if(s!=null&&a(e,["computerUse"],s),r(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=r(t,["codeExecution"]);l!=null&&a(e,["codeExecution"],l);const u=r(t,["enterpriseWebSearch"]);u!=null&&a(e,["enterpriseWebSearch"],u);const d=r(t,["googleMaps"]);d!=null&&a(e,["googleMaps"],d);const c=r(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],c);const f=r(t,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function cy(t){const e={},n=r(t,["promptTokenCount"]);n!=null&&a(e,["promptTokenCount"],n);const o=r(t,["cachedContentTokenCount"]);o!=null&&a(e,["cachedContentTokenCount"],o);const i=r(t,["candidatesTokenCount"]);i!=null&&a(e,["responseTokenCount"],i);const s=r(t,["toolUsePromptTokenCount"]);s!=null&&a(e,["toolUsePromptTokenCount"],s);const l=r(t,["thoughtsTokenCount"]);l!=null&&a(e,["thoughtsTokenCount"],l);const u=r(t,["totalTokenCount"]);u!=null&&a(e,["totalTokenCount"],u);const d=r(t,["promptTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(y=>y)),a(e,["promptTokensDetails"],m)}const c=r(t,["cacheTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(y=>y)),a(e,["cacheTokensDetails"],m)}const f=r(t,["candidatesTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(y=>y)),a(e,["responseTokensDetails"],m)}const p=r(t,["toolUsePromptTokensDetails"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(y=>y)),a(e,["toolUsePromptTokensDetails"],m)}const h=r(t,["trafficType"]);return h!=null&&a(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dy(t){const e={},n=r(t,["data"]);if(n!=null&&a(e,["data"],n),r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function fy(t){const e={},n=r(t,["content"]);n!=null&&a(e,["content"],n);const o=r(t,["citationMetadata"]);o!=null&&a(e,["citationMetadata"],py(o));const i=r(t,["tokenCount"]);i!=null&&a(e,["tokenCount"],i);const s=r(t,["finishReason"]);s!=null&&a(e,["finishReason"],s);const l=r(t,["avgLogprobs"]);l!=null&&a(e,["avgLogprobs"],l);const u=r(t,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const d=r(t,["index"]);d!=null&&a(e,["index"],d);const c=r(t,["logprobsResult"]);c!=null&&a(e,["logprobsResult"],c);const f=r(t,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>m)),a(e,["safetyRatings"],h)}const p=r(t,["urlContextMetadata"]);return p!=null&&a(e,["urlContextMetadata"],p),e}function py(t){const e={},n=r(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),a(e,["citations"],o)}return e}function hy(t,e){const n={},o=r(e,["model"]);o!=null&&a(n,["_url","model"],Z(t,o));const i=r(e,["contents"]);if(i!=null){let s=$e(i);Array.isArray(s)&&(s=s.map(l=>l)),a(n,["contents"],s)}return n}function my(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=r(t,["tokensInfo"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),a(e,["tokensInfo"],i)}return e}function gy(t){const e={},n=r(t,["values"]);n!=null&&a(e,["values"],n);const o=r(t,["statistics"]);return o!=null&&a(e,["statistics"],yy(o)),e}function yy(t){const e={},n=r(t,["truncated"]);n!=null&&a(e,["truncated"],n);const o=r(t,["token_count"]);return o!=null&&a(e,["tokenCount"],o),e}function Uo(t){const e={},n=r(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Av(s))),a(e,["parts"],i)}const o=r(t,["role"]);return o!=null&&a(e,["role"],o),e}function vy(t){const e={},n=r(t,["controlType"]);n!=null&&a(e,["controlType"],n);const o=r(t,["enableControlImageComputation"]);return o!=null&&a(e,["computeControl"],o),e}function _y(t){const e={};if(r(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(r(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(r(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Ty(t,e){const n={},o=r(t,["systemInstruction"]);e!==void 0&&o!=null&&a(e,["systemInstruction"],_e(o));const i=r(t,["tools"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>tu(u))),a(e,["tools"],l)}const s=r(t,["generationConfig"]);return e!==void 0&&s!=null&&a(e,["generationConfig"],dv(s)),n}function Ey(t,e){const n={},o=r(e,["model"]);o!=null&&a(n,["_url","model"],Z(t,o));const i=r(e,["contents"]);if(i!=null){let l=$e(i);Array.isArray(l)&&(l=l.map(u=>Uo(u))),a(n,["contents"],l)}const s=r(e,["config"]);return s!=null&&_y(s),n}function Cy(t,e){const n={},o=r(e,["model"]);o!=null&&a(n,["_url","model"],Z(t,o));const i=r(e,["contents"]);if(i!=null){let l=$e(i);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const s=r(e,["config"]);return s!=null&&Ty(s,n),n}function Sy(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=r(t,["totalTokens"]);o!=null&&a(e,["totalTokens"],o);const i=r(t,["cachedContentTokenCount"]);return i!=null&&a(e,["cachedContentTokenCount"],i),e}function Iy(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=r(t,["totalTokens"]);return o!=null&&a(e,["totalTokens"],o),e}function xy(t,e){const n={},o=r(e,["model"]);return o!=null&&a(n,["_url","name"],Z(t,o)),n}function Ay(t,e){const n={},o=r(e,["model"]);return o!=null&&a(n,["_url","name"],Z(t,o)),n}function wy(t){const e={},n=r(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function Ry(t){const e={},n=r(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function My(t,e){const n={},o=r(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const i=r(t,["negativePrompt"]);e!==void 0&&i!=null&&a(e,["parameters","negativePrompt"],i);const s=r(t,["numberOfImages"]);e!==void 0&&s!=null&&a(e,["parameters","sampleCount"],s);const l=r(t,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=r(t,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const d=r(t,["seed"]);e!==void 0&&d!=null&&a(e,["parameters","seed"],d);const c=r(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&a(e,["parameters","safetySetting"],c);const f=r(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const p=r(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&a(e,["parameters","includeSafetyAttributes"],p);const h=r(t,["includeRaiReason"]);e!==void 0&&h!=null&&a(e,["parameters","includeRaiReason"],h);const m=r(t,["language"]);e!==void 0&&m!=null&&a(e,["parameters","language"],m);const y=r(t,["outputMimeType"]);e!==void 0&&y!=null&&a(e,["parameters","outputOptions","mimeType"],y);const T=r(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&a(e,["parameters","outputOptions","compressionQuality"],T);const E=r(t,["addWatermark"]);e!==void 0&&E!=null&&a(e,["parameters","addWatermark"],E);const S=r(t,["labels"]);e!==void 0&&S!=null&&a(e,["labels"],S);const M=r(t,["editMode"]);e!==void 0&&M!=null&&a(e,["parameters","editMode"],M);const A=r(t,["baseSteps"]);return e!==void 0&&A!=null&&a(e,["parameters","editConfig","baseSteps"],A),n}function by(t,e){const n={},o=r(e,["model"]);o!=null&&a(n,["_url","model"],Z(t,o));const i=r(e,["prompt"]);i!=null&&a(n,["instances[0]","prompt"],i);const s=r(e,["referenceImages"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>Nv(d))),a(n,["instances[0]","referenceImages"],u)}const l=r(e,["config"]);return l!=null&&My(l,n),n}function Py(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=r(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>Fo(s))),a(e,["generatedImages"],i)}return e}function Ny(t,e){const n={},o=r(t,["taskType"]);e!==void 0&&o!=null&&a(e,["requests[]","taskType"],o);const i=r(t,["title"]);e!==void 0&&i!=null&&a(e,["requests[]","title"],i);const s=r(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&a(e,["requests[]","outputDimensionality"],s),r(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Dy(t,e){const n={},o=r(t,["taskType"]);e!==void 0&&o!=null&&a(e,["instances[]","task_type"],o);const i=r(t,["title"]);e!==void 0&&i!=null&&a(e,["instances[]","title"],i);const s=r(t,["outputDimensionality"]);e!==void 0&&s!=null&&a(e,["parameters","outputDimensionality"],s);const l=r(t,["mimeType"]);e!==void 0&&l!=null&&a(e,["instances[]","mimeType"],l);const u=r(t,["autoTruncate"]);return e!==void 0&&u!=null&&a(e,["parameters","autoTruncate"],u),n}function ky(t,e){const n={},o=r(e,["model"]);o!=null&&a(n,["_url","model"],Z(t,o));const i=r(e,["contents"]);if(i!=null){let u=ji(t,i);Array.isArray(u)&&(u=u.map(d=>d)),a(n,["requests[]","content"],u)}const s=r(e,["config"]);s!=null&&Ny(s,n);const l=r(e,["model"]);return l!==void 0&&a(n,["requests[]","model"],Z(t,l)),n}function Uy(t,e){const n={},o=r(e,["model"]);o!=null&&a(n,["_url","model"],Z(t,o));const i=r(e,["contents"]);if(i!=null){let l=ji(t,i);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["instances[]","content"],l)}const s=r(e,["config"]);return s!=null&&Dy(s,n),n}function Fy(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=r(t,["embeddings"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),a(e,["embeddings"],s)}const i=r(t,["metadata"]);return i!=null&&a(e,["metadata"],i),e}function Ly(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=r(t,["predictions[]","embeddings"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>gy(l))),a(e,["embeddings"],s)}const i=r(t,["metadata"]);return i!=null&&a(e,["metadata"],i),e}function Vy(t){const e={},n=r(t,["endpoint"]);n!=null&&a(e,["name"],n);const o=r(t,["deployedModelId"]);return o!=null&&a(e,["deployedModelId"],o),e}function Gy(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=r(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Hy(t){const e={},n=r(t,["id"]);n!=null&&a(e,["id"],n);const o=r(t,["args"]);o!=null&&a(e,["args"],o);const i=r(t,["name"]);if(i!=null&&a(e,["name"],i),r(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function $y(t){const e={},n=r(t,["mode"]);n!=null&&a(e,["mode"],n);const o=r(t,["allowedFunctionNames"]);if(o!=null&&a(e,["allowedFunctionNames"],o),r(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function qy(t){const e={};if(r(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=r(t,["description"]);n!=null&&a(e,["description"],n);const o=r(t,["name"]);o!=null&&a(e,["name"],o);const i=r(t,["parameters"]);i!=null&&a(e,["parameters"],i);const s=r(t,["parametersJsonSchema"]);s!=null&&a(e,["parametersJsonSchema"],s);const l=r(t,["response"]);l!=null&&a(e,["response"],l);const u=r(t,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function By(t,e,n){const o={},i=r(e,["systemInstruction"]);n!==void 0&&i!=null&&a(n,["systemInstruction"],Uo(_e(i)));const s=r(e,["temperature"]);s!=null&&a(o,["temperature"],s);const l=r(e,["topP"]);l!=null&&a(o,["topP"],l);const u=r(e,["topK"]);u!=null&&a(o,["topK"],u);const d=r(e,["candidateCount"]);d!=null&&a(o,["candidateCount"],d);const c=r(e,["maxOutputTokens"]);c!=null&&a(o,["maxOutputTokens"],c);const f=r(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const p=r(e,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);const h=r(e,["logprobs"]);h!=null&&a(o,["logprobs"],h);const m=r(e,["presencePenalty"]);m!=null&&a(o,["presencePenalty"],m);const y=r(e,["frequencyPenalty"]);y!=null&&a(o,["frequencyPenalty"],y);const T=r(e,["seed"]);T!=null&&a(o,["seed"],T);const E=r(e,["responseMimeType"]);E!=null&&a(o,["responseMimeType"],E);const S=r(e,["responseSchema"]);S!=null&&a(o,["responseSchema"],es(S));const M=r(e,["responseJsonSchema"]);if(M!=null&&a(o,["responseJsonSchema"],M),r(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=r(e,["safetySettings"]);if(n!==void 0&&A!=null){let oe=A;Array.isArray(oe)&&(oe=oe.map(Re=>Dv(Re))),a(n,["safetySettings"],oe)}const I=r(e,["tools"]);if(n!==void 0&&I!=null){let oe=un(I);Array.isArray(oe)&&(oe=oe.map(Re=>Hv(an(Re)))),a(n,["tools"],oe)}const F=r(e,["toolConfig"]);if(n!==void 0&&F!=null&&a(n,["toolConfig"],Gv(F)),r(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const B=r(e,["cachedContent"]);n!==void 0&&B!=null&&a(n,["cachedContent"],vt(t,B));const G=r(e,["responseModalities"]);G!=null&&a(o,["responseModalities"],G);const X=r(e,["mediaResolution"]);X!=null&&a(o,["mediaResolution"],X);const V=r(e,["speechConfig"]);if(V!=null&&a(o,["speechConfig"],ts(V)),r(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const z=r(e,["thinkingConfig"]);z!=null&&a(o,["thinkingConfig"],z);const ne=r(e,["imageConfig"]);ne!=null&&a(o,["imageConfig"],gv(ne));const ke=r(e,["enableEnhancedCivicAnswers"]);return ke!=null&&a(o,["enableEnhancedCivicAnswers"],ke),o}function Jy(t,e,n){const o={},i=r(e,["systemInstruction"]);n!==void 0&&i!=null&&a(n,["systemInstruction"],_e(i));const s=r(e,["temperature"]);s!=null&&a(o,["temperature"],s);const l=r(e,["topP"]);l!=null&&a(o,["topP"],l);const u=r(e,["topK"]);u!=null&&a(o,["topK"],u);const d=r(e,["candidateCount"]);d!=null&&a(o,["candidateCount"],d);const c=r(e,["maxOutputTokens"]);c!=null&&a(o,["maxOutputTokens"],c);const f=r(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const p=r(e,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);const h=r(e,["logprobs"]);h!=null&&a(o,["logprobs"],h);const m=r(e,["presencePenalty"]);m!=null&&a(o,["presencePenalty"],m);const y=r(e,["frequencyPenalty"]);y!=null&&a(o,["frequencyPenalty"],y);const T=r(e,["seed"]);T!=null&&a(o,["seed"],T);const E=r(e,["responseMimeType"]);E!=null&&a(o,["responseMimeType"],E);const S=r(e,["responseSchema"]);S!=null&&a(o,["responseSchema"],es(S));const M=r(e,["responseJsonSchema"]);M!=null&&a(o,["responseJsonSchema"],M);const A=r(e,["routingConfig"]);A!=null&&a(o,["routingConfig"],A);const I=r(e,["modelSelectionConfig"]);I!=null&&a(o,["modelConfig"],I);const F=r(e,["safetySettings"]);if(n!==void 0&&F!=null){let fe=F;Array.isArray(fe)&&(fe=fe.map(ie=>ie)),a(n,["safetySettings"],fe)}const B=r(e,["tools"]);if(n!==void 0&&B!=null){let fe=un(B);Array.isArray(fe)&&(fe=fe.map(ie=>tu(an(ie)))),a(n,["tools"],fe)}const G=r(e,["toolConfig"]);n!==void 0&&G!=null&&a(n,["toolConfig"],G);const X=r(e,["labels"]);n!==void 0&&X!=null&&a(n,["labels"],X);const V=r(e,["cachedContent"]);n!==void 0&&V!=null&&a(n,["cachedContent"],vt(t,V));const z=r(e,["responseModalities"]);z!=null&&a(o,["responseModalities"],z);const ne=r(e,["mediaResolution"]);ne!=null&&a(o,["mediaResolution"],ne);const ke=r(e,["speechConfig"]);ke!=null&&a(o,["speechConfig"],ts(ke));const oe=r(e,["audioTimestamp"]);oe!=null&&a(o,["audioTimestamp"],oe);const Re=r(e,["thinkingConfig"]);Re!=null&&a(o,["thinkingConfig"],Re);const dn=r(e,["imageConfig"]);if(dn!=null&&a(o,["imageConfig"],yv(dn)),r(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function al(t,e){const n={},o=r(e,["model"]);o!=null&&a(n,["_url","model"],Z(t,o));const i=r(e,["contents"]);if(i!=null){let l=$e(i);Array.isArray(l)&&(l=l.map(u=>Uo(u))),a(n,["contents"],l)}const s=r(e,["config"]);return s!=null&&a(n,["generationConfig"],By(t,s,n)),n}function ul(t,e){const n={},o=r(e,["model"]);o!=null&&a(n,["_url","model"],Z(t,o));const i=r(e,["contents"]);if(i!=null){let l=$e(i);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const s=r(e,["config"]);return s!=null&&a(n,["generationConfig"],Jy(t,s,n)),n}function cl(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=r(t,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(c=>fy(c))),a(e,["candidates"],d)}const i=r(t,["modelVersion"]);i!=null&&a(e,["modelVersion"],i);const s=r(t,["promptFeedback"]);s!=null&&a(e,["promptFeedback"],s);const l=r(t,["responseId"]);l!=null&&a(e,["responseId"],l);const u=r(t,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function dl(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=r(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),a(e,["candidates"],c)}const i=r(t,["createTime"]);i!=null&&a(e,["createTime"],i);const s=r(t,["modelVersion"]);s!=null&&a(e,["modelVersion"],s);const l=r(t,["promptFeedback"]);l!=null&&a(e,["promptFeedback"],l);const u=r(t,["responseId"]);u!=null&&a(e,["responseId"],u);const d=r(t,["usageMetadata"]);return d!=null&&a(e,["usageMetadata"],d),e}function Oy(t,e){const n={};if(r(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=r(t,["numberOfImages"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const i=r(t,["aspectRatio"]);e!==void 0&&i!=null&&a(e,["parameters","aspectRatio"],i);const s=r(t,["guidanceScale"]);if(e!==void 0&&s!=null&&a(e,["parameters","guidanceScale"],s),r(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=r(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&a(e,["parameters","safetySetting"],l);const u=r(t,["personGeneration"]);e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u);const d=r(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&a(e,["parameters","includeSafetyAttributes"],d);const c=r(t,["includeRaiReason"]);e!==void 0&&c!=null&&a(e,["parameters","includeRaiReason"],c);const f=r(t,["language"]);e!==void 0&&f!=null&&a(e,["parameters","language"],f);const p=r(t,["outputMimeType"]);e!==void 0&&p!=null&&a(e,["parameters","outputOptions","mimeType"],p);const h=r(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&a(e,["parameters","outputOptions","compressionQuality"],h),r(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(r(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const m=r(t,["imageSize"]);if(e!==void 0&&m!=null&&a(e,["parameters","sampleImageSize"],m),r(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Ky(t,e){const n={},o=r(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const i=r(t,["negativePrompt"]);e!==void 0&&i!=null&&a(e,["parameters","negativePrompt"],i);const s=r(t,["numberOfImages"]);e!==void 0&&s!=null&&a(e,["parameters","sampleCount"],s);const l=r(t,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=r(t,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const d=r(t,["seed"]);e!==void 0&&d!=null&&a(e,["parameters","seed"],d);const c=r(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&a(e,["parameters","safetySetting"],c);const f=r(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const p=r(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&a(e,["parameters","includeSafetyAttributes"],p);const h=r(t,["includeRaiReason"]);e!==void 0&&h!=null&&a(e,["parameters","includeRaiReason"],h);const m=r(t,["language"]);e!==void 0&&m!=null&&a(e,["parameters","language"],m);const y=r(t,["outputMimeType"]);e!==void 0&&y!=null&&a(e,["parameters","outputOptions","mimeType"],y);const T=r(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&a(e,["parameters","outputOptions","compressionQuality"],T);const E=r(t,["addWatermark"]);e!==void 0&&E!=null&&a(e,["parameters","addWatermark"],E);const S=r(t,["labels"]);e!==void 0&&S!=null&&a(e,["labels"],S);const M=r(t,["imageSize"]);e!==void 0&&M!=null&&a(e,["parameters","sampleImageSize"],M);const A=r(t,["enhancePrompt"]);return e!==void 0&&A!=null&&a(e,["parameters","enhancePrompt"],A),n}function Wy(t,e){const n={},o=r(e,["model"]);o!=null&&a(n,["_url","model"],Z(t,o));const i=r(e,["prompt"]);i!=null&&a(n,["instances[0]","prompt"],i);const s=r(e,["config"]);return s!=null&&Oy(s,n),n}function Yy(t,e){const n={},o=r(e,["model"]);o!=null&&a(n,["_url","model"],Z(t,o));const i=r(e,["prompt"]);i!=null&&a(n,["instances[0]","prompt"],i);const s=r(e,["config"]);return s!=null&&Ky(s,n),n}function zy(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=r(t,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>lv(l))),a(e,["generatedImages"],s)}const i=r(t,["positivePromptSafetyAttributes"]);return i!=null&&a(e,["positivePromptSafetyAttributes"],ja(i)),e}function Xy(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=r(t,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>Fo(l))),a(e,["generatedImages"],s)}const i=r(t,["positivePromptSafetyAttributes"]);return i!=null&&a(e,["positivePromptSafetyAttributes"],eu(i)),e}function Qy(t,e){const n={},o=r(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o),r(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=r(t,["durationSeconds"]);if(e!==void 0&&i!=null&&a(e,["parameters","durationSeconds"],i),r(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=r(t,["aspectRatio"]);e!==void 0&&s!=null&&a(e,["parameters","aspectRatio"],s);const l=r(t,["resolution"]);e!==void 0&&l!=null&&a(e,["parameters","resolution"],l);const u=r(t,["personGeneration"]);if(e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u),r(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=r(t,["negativePrompt"]);e!==void 0&&d!=null&&a(e,["parameters","negativePrompt"],d);const c=r(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&a(e,["parameters","enhancePrompt"],c),r(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=r(t,["lastFrame"]);e!==void 0&&f!=null&&a(e,["instances[0]","lastFrame"],Lo(f));const p=r(t,["referenceImages"]);if(e!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(m=>jv(m))),a(e,["instances[0]","referenceImages"],h)}if(r(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(r(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Zy(t,e){const n={},o=r(t,["numberOfVideos"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const i=r(t,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);const s=r(t,["fps"]);e!==void 0&&s!=null&&a(e,["parameters","fps"],s);const l=r(t,["durationSeconds"]);e!==void 0&&l!=null&&a(e,["parameters","durationSeconds"],l);const u=r(t,["seed"]);e!==void 0&&u!=null&&a(e,["parameters","seed"],u);const d=r(t,["aspectRatio"]);e!==void 0&&d!=null&&a(e,["parameters","aspectRatio"],d);const c=r(t,["resolution"]);e!==void 0&&c!=null&&a(e,["parameters","resolution"],c);const f=r(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const p=r(t,["pubsubTopic"]);e!==void 0&&p!=null&&a(e,["parameters","pubsubTopic"],p);const h=r(t,["negativePrompt"]);e!==void 0&&h!=null&&a(e,["parameters","negativePrompt"],h);const m=r(t,["enhancePrompt"]);e!==void 0&&m!=null&&a(e,["parameters","enhancePrompt"],m);const y=r(t,["generateAudio"]);e!==void 0&&y!=null&&a(e,["parameters","generateAudio"],y);const T=r(t,["lastFrame"]);e!==void 0&&T!=null&&a(e,["instances[0]","lastFrame"],Ye(T));const E=r(t,["referenceImages"]);if(e!==void 0&&E!=null){let A=E;Array.isArray(A)&&(A=A.map(I=>e0(I))),a(e,["instances[0]","referenceImages"],A)}const S=r(t,["mask"]);e!==void 0&&S!=null&&a(e,["instances[0]","mask"],Zv(S));const M=r(t,["compressionQuality"]);return e!==void 0&&M!=null&&a(e,["parameters","compressionQuality"],M),n}function jy(t){const e={},n=r(t,["name"]);n!=null&&a(e,["name"],n);const o=r(t,["metadata"]);o!=null&&a(e,["metadata"],o);const i=r(t,["done"]);i!=null&&a(e,["done"],i);const s=r(t,["error"]);s!=null&&a(e,["error"],s);const l=r(t,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],ov(l)),e}function ev(t){const e={},n=r(t,["name"]);n!=null&&a(e,["name"],n);const o=r(t,["metadata"]);o!=null&&a(e,["metadata"],o);const i=r(t,["done"]);i!=null&&a(e,["done"],i);const s=r(t,["error"]);s!=null&&a(e,["error"],s);const l=r(t,["response"]);return l!=null&&a(e,["response"],iv(l)),e}function tv(t,e){const n={},o=r(e,["model"]);o!=null&&a(n,["_url","model"],Z(t,o));const i=r(e,["prompt"]);i!=null&&a(n,["instances[0]","prompt"],i);const s=r(e,["image"]);s!=null&&a(n,["instances[0]","image"],Lo(s));const l=r(e,["video"]);l!=null&&a(n,["instances[0]","video"],nu(l));const u=r(e,["source"]);u!=null&&sv(u,n);const d=r(e,["config"]);return d!=null&&Qy(d,n),n}function nv(t,e){const n={},o=r(e,["model"]);o!=null&&a(n,["_url","model"],Z(t,o));const i=r(e,["prompt"]);i!=null&&a(n,["instances[0]","prompt"],i);const s=r(e,["image"]);s!=null&&a(n,["instances[0]","image"],Ye(s));const l=r(e,["video"]);l!=null&&a(n,["instances[0]","video"],ou(l));const u=r(e,["source"]);u!=null&&rv(u,n);const d=r(e,["config"]);return d!=null&&Zy(d,n),n}function ov(t){const e={},n=r(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>uv(l))),a(e,["generatedVideos"],s)}const o=r(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const i=r(t,["raiMediaFilteredReasons"]);return i!=null&&a(e,["raiMediaFilteredReasons"],i),e}function iv(t){const e={},n=r(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>cv(l))),a(e,["generatedVideos"],s)}const o=r(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const i=r(t,["raiMediaFilteredReasons"]);return i!=null&&a(e,["raiMediaFilteredReasons"],i),e}function sv(t,e){const n={},o=r(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const i=r(t,["image"]);e!==void 0&&i!=null&&a(e,["instances[0]","image"],Lo(i));const s=r(t,["video"]);return e!==void 0&&s!=null&&a(e,["instances[0]","video"],nu(s)),n}function rv(t,e){const n={},o=r(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const i=r(t,["image"]);e!==void 0&&i!=null&&a(e,["instances[0]","image"],Ye(i));const s=r(t,["video"]);return e!==void 0&&s!=null&&a(e,["instances[0]","video"],ou(s)),n}function lv(t){const e={},n=r(t,["_self"]);n!=null&&a(e,["image"],vv(n));const o=r(t,["raiFilteredReason"]);o!=null&&a(e,["raiFilteredReason"],o);const i=r(t,["_self"]);return i!=null&&a(e,["safetyAttributes"],ja(i)),e}function Fo(t){const e={},n=r(t,["_self"]);n!=null&&a(e,["image"],Za(n));const o=r(t,["raiFilteredReason"]);o!=null&&a(e,["raiFilteredReason"],o);const i=r(t,["_self"]);i!=null&&a(e,["safetyAttributes"],eu(i));const s=r(t,["prompt"]);return s!=null&&a(e,["enhancedPrompt"],s),e}function av(t){const e={},n=r(t,["_self"]);n!=null&&a(e,["mask"],Za(n));const o=r(t,["labels"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),a(e,["labels"],i)}return e}function uv(t){const e={},n=r(t,["video"]);return n!=null&&a(e,["video"],Xv(n)),e}function cv(t){const e={},n=r(t,["_self"]);return n!=null&&a(e,["video"],Qv(n)),e}function dv(t){const e={},n=r(t,["modelSelectionConfig"]);n!=null&&a(e,["modelConfig"],n);const o=r(t,["responseJsonSchema"]);o!=null&&a(e,["responseJsonSchema"],o);const i=r(t,["audioTimestamp"]);i!=null&&a(e,["audioTimestamp"],i);const s=r(t,["candidateCount"]);s!=null&&a(e,["candidateCount"],s);const l=r(t,["enableAffectiveDialog"]);l!=null&&a(e,["enableAffectiveDialog"],l);const u=r(t,["frequencyPenalty"]);u!=null&&a(e,["frequencyPenalty"],u);const d=r(t,["logprobs"]);d!=null&&a(e,["logprobs"],d);const c=r(t,["maxOutputTokens"]);c!=null&&a(e,["maxOutputTokens"],c);const f=r(t,["mediaResolution"]);f!=null&&a(e,["mediaResolution"],f);const p=r(t,["presencePenalty"]);p!=null&&a(e,["presencePenalty"],p);const h=r(t,["responseLogprobs"]);h!=null&&a(e,["responseLogprobs"],h);const m=r(t,["responseMimeType"]);m!=null&&a(e,["responseMimeType"],m);const y=r(t,["responseModalities"]);y!=null&&a(e,["responseModalities"],y);const T=r(t,["responseSchema"]);T!=null&&a(e,["responseSchema"],T);const E=r(t,["routingConfig"]);E!=null&&a(e,["routingConfig"],E);const S=r(t,["seed"]);S!=null&&a(e,["seed"],S);const M=r(t,["speechConfig"]);M!=null&&a(e,["speechConfig"],M);const A=r(t,["stopSequences"]);A!=null&&a(e,["stopSequences"],A);const I=r(t,["temperature"]);I!=null&&a(e,["temperature"],I);const F=r(t,["thinkingConfig"]);F!=null&&a(e,["thinkingConfig"],F);const B=r(t,["topK"]);B!=null&&a(e,["topK"],B);const G=r(t,["topP"]);if(G!=null&&a(e,["topP"],G),r(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function fv(t,e){const n={},o=r(e,["model"]);return o!=null&&a(n,["_url","name"],Z(t,o)),n}function pv(t,e){const n={},o=r(e,["model"]);return o!=null&&a(n,["_url","name"],Z(t,o)),n}function hv(t){const e={};if(r(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=r(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function mv(t){const e={};if(r(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=r(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function gv(t){const e={},n=r(t,["aspectRatio"]);n!=null&&a(e,["aspectRatio"],n);const o=r(t,["imageSize"]);if(o!=null&&a(e,["imageSize"],o),r(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(r(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function yv(t){const e={},n=r(t,["aspectRatio"]);n!=null&&a(e,["aspectRatio"],n);const o=r(t,["imageSize"]);o!=null&&a(e,["imageSize"],o);const i=r(t,["outputMimeType"]);i!=null&&a(e,["imageOutputOptions","mimeType"],i);const s=r(t,["outputCompressionQuality"]);return s!=null&&a(e,["imageOutputOptions","compressionQuality"],s),e}function vv(t){const e={},n=r(t,["bytesBase64Encoded"]);n!=null&&a(e,["imageBytes"],wt(n));const o=r(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Za(t){const e={},n=r(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const o=r(t,["bytesBase64Encoded"]);o!=null&&a(e,["imageBytes"],wt(o));const i=r(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function Lo(t){const e={};if(r(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=r(t,["imageBytes"]);n!=null&&a(e,["bytesBase64Encoded"],wt(n));const o=r(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Ye(t){const e={},n=r(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const o=r(t,["imageBytes"]);o!=null&&a(e,["bytesBase64Encoded"],wt(o));const i=r(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function _v(t,e,n){const o={},i=r(e,["pageSize"]);n!==void 0&&i!=null&&a(n,["_query","pageSize"],i);const s=r(e,["pageToken"]);n!==void 0&&s!=null&&a(n,["_query","pageToken"],s);const l=r(e,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=r(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],Oa(t,u)),o}function Tv(t,e,n){const o={},i=r(e,["pageSize"]);n!==void 0&&i!=null&&a(n,["_query","pageSize"],i);const s=r(e,["pageToken"]);n!==void 0&&s!=null&&a(n,["_query","pageToken"],s);const l=r(e,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=r(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],Oa(t,u)),o}function Ev(t,e){const n={},o=r(e,["config"]);return o!=null&&_v(t,o,n),n}function Cv(t,e){const n={},o=r(e,["config"]);return o!=null&&Tv(t,o,n),n}function Sv(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=r(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=r(t,["_self"]);if(i!=null){let s=Ka(i);Array.isArray(s)&&(s=s.map(l=>Si(l))),a(e,["models"],s)}return e}function Iv(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=r(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=r(t,["_self"]);if(i!=null){let s=Ka(i);Array.isArray(s)&&(s=s.map(l=>Ii(l))),a(e,["models"],s)}return e}function xv(t){const e={},n=r(t,["maskMode"]);n!=null&&a(e,["maskMode"],n);const o=r(t,["segmentationClasses"]);o!=null&&a(e,["maskClasses"],o);const i=r(t,["maskDilation"]);return i!=null&&a(e,["dilation"],i),e}function Si(t){const e={},n=r(t,["name"]);n!=null&&a(e,["name"],n);const o=r(t,["displayName"]);o!=null&&a(e,["displayName"],o);const i=r(t,["description"]);i!=null&&a(e,["description"],i);const s=r(t,["version"]);s!=null&&a(e,["version"],s);const l=r(t,["_self"]);l!=null&&a(e,["tunedModelInfo"],$v(l));const u=r(t,["inputTokenLimit"]);u!=null&&a(e,["inputTokenLimit"],u);const d=r(t,["outputTokenLimit"]);d!=null&&a(e,["outputTokenLimit"],d);const c=r(t,["supportedGenerationMethods"]);c!=null&&a(e,["supportedActions"],c);const f=r(t,["temperature"]);f!=null&&a(e,["temperature"],f);const p=r(t,["maxTemperature"]);p!=null&&a(e,["maxTemperature"],p);const h=r(t,["topP"]);h!=null&&a(e,["topP"],h);const m=r(t,["topK"]);m!=null&&a(e,["topK"],m);const y=r(t,["thinking"]);return y!=null&&a(e,["thinking"],y),e}function Ii(t){const e={},n=r(t,["name"]);n!=null&&a(e,["name"],n);const o=r(t,["displayName"]);o!=null&&a(e,["displayName"],o);const i=r(t,["description"]);i!=null&&a(e,["description"],i);const s=r(t,["versionId"]);s!=null&&a(e,["version"],s);const l=r(t,["deployedModels"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(h=>Vy(h))),a(e,["endpoints"],p)}const u=r(t,["labels"]);u!=null&&a(e,["labels"],u);const d=r(t,["_self"]);d!=null&&a(e,["tunedModelInfo"],qv(d));const c=r(t,["defaultCheckpointId"]);c!=null&&a(e,["defaultCheckpointId"],c);const f=r(t,["checkpoints"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>h)),a(e,["checkpoints"],p)}return e}function Av(t){const e={},n=r(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=r(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const i=r(t,["executableCode"]);i!=null&&a(e,["executableCode"],i);const s=r(t,["fileData"]);s!=null&&a(e,["fileData"],Gy(s));const l=r(t,["functionCall"]);l!=null&&a(e,["functionCall"],Hy(l));const u=r(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const d=r(t,["inlineData"]);d!=null&&a(e,["inlineData"],dy(d));const c=r(t,["text"]);c!=null&&a(e,["text"],c);const f=r(t,["thought"]);f!=null&&a(e,["thought"],f);const p=r(t,["thoughtSignature"]);p!=null&&a(e,["thoughtSignature"],p);const h=r(t,["videoMetadata"]);return h!=null&&a(e,["videoMetadata"],h),e}function wv(t){const e={},n=r(t,["productImage"]);return n!=null&&a(e,["image"],Ye(n)),e}function Rv(t,e){const n={},o=r(t,["numberOfImages"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const i=r(t,["baseSteps"]);e!==void 0&&i!=null&&a(e,["parameters","baseSteps"],i);const s=r(t,["outputGcsUri"]);e!==void 0&&s!=null&&a(e,["parameters","storageUri"],s);const l=r(t,["seed"]);e!==void 0&&l!=null&&a(e,["parameters","seed"],l);const u=r(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&a(e,["parameters","safetySetting"],u);const d=r(t,["personGeneration"]);e!==void 0&&d!=null&&a(e,["parameters","personGeneration"],d);const c=r(t,["addWatermark"]);e!==void 0&&c!=null&&a(e,["parameters","addWatermark"],c);const f=r(t,["outputMimeType"]);e!==void 0&&f!=null&&a(e,["parameters","outputOptions","mimeType"],f);const p=r(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&a(e,["parameters","outputOptions","compressionQuality"],p);const h=r(t,["enhancePrompt"]);e!==void 0&&h!=null&&a(e,["parameters","enhancePrompt"],h);const m=r(t,["labels"]);return e!==void 0&&m!=null&&a(e,["labels"],m),n}function Mv(t,e){const n={},o=r(e,["model"]);o!=null&&a(n,["_url","model"],Z(t,o));const i=r(e,["source"]);i!=null&&Pv(i,n);const s=r(e,["config"]);return s!=null&&Rv(s,n),n}function bv(t){const e={},n=r(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>Fo(i))),a(e,["generatedImages"],o)}return e}function Pv(t,e){const n={},o=r(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const i=r(t,["personImage"]);e!==void 0&&i!=null&&a(e,["instances[0]","personImage","image"],Ye(i));const s=r(t,["productImages"]);if(e!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>wv(u))),a(e,["instances[0]","productImages"],l)}return n}function Nv(t){const e={},n=r(t,["referenceImage"]);n!=null&&a(e,["referenceImage"],Ye(n));const o=r(t,["referenceId"]);o!=null&&a(e,["referenceId"],o);const i=r(t,["referenceType"]);i!=null&&a(e,["referenceType"],i);const s=r(t,["maskImageConfig"]);s!=null&&a(e,["maskImageConfig"],xv(s));const l=r(t,["controlImageConfig"]);l!=null&&a(e,["controlImageConfig"],vy(l));const u=r(t,["styleImageConfig"]);u!=null&&a(e,["styleImageConfig"],u);const d=r(t,["subjectImageConfig"]);return d!=null&&a(e,["subjectImageConfig"],d),e}function ja(t){const e={},n=r(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const o=r(t,["safetyAttributes","scores"]);o!=null&&a(e,["scores"],o);const i=r(t,["contentType"]);return i!=null&&a(e,["contentType"],i),e}function eu(t){const e={},n=r(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const o=r(t,["safetyAttributes","scores"]);o!=null&&a(e,["scores"],o);const i=r(t,["contentType"]);return i!=null&&a(e,["contentType"],i),e}function Dv(t){const e={},n=r(t,["category"]);if(n!=null&&a(e,["category"],n),r(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=r(t,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function kv(t){const e={},n=r(t,["image"]);return n!=null&&a(e,["image"],Ye(n)),e}function Uv(t,e){const n={},o=r(t,["mode"]);e!==void 0&&o!=null&&a(e,["parameters","mode"],o);const i=r(t,["maxPredictions"]);e!==void 0&&i!=null&&a(e,["parameters","maxPredictions"],i);const s=r(t,["confidenceThreshold"]);e!==void 0&&s!=null&&a(e,["parameters","confidenceThreshold"],s);const l=r(t,["maskDilation"]);e!==void 0&&l!=null&&a(e,["parameters","maskDilation"],l);const u=r(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&a(e,["parameters","binaryColorThreshold"],u);const d=r(t,["labels"]);return e!==void 0&&d!=null&&a(e,["labels"],d),n}function Fv(t,e){const n={},o=r(e,["model"]);o!=null&&a(n,["_url","model"],Z(t,o));const i=r(e,["source"]);i!=null&&Vv(i,n);const s=r(e,["config"]);return s!=null&&Uv(s,n),n}function Lv(t){const e={},n=r(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>av(i))),a(e,["generatedMasks"],o)}return e}function Vv(t,e){const n={},o=r(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const i=r(t,["image"]);e!==void 0&&i!=null&&a(e,["instances[0]","image"],Ye(i));const s=r(t,["scribbleImage"]);return e!==void 0&&s!=null&&a(e,["instances[0]","scribble"],kv(s)),n}function Gv(t){const e={},n=r(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],$y(n));const o=r(t,["retrievalConfig"]);return o!=null&&a(e,["retrievalConfig"],o),e}function Hv(t){const e={},n=r(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(e,["functionDeclarations"],f)}if(r(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const i=r(t,["computerUse"]);i!=null&&a(e,["computerUse"],i);const s=r(t,["fileSearch"]);s!=null&&a(e,["fileSearch"],s);const l=r(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),r(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=r(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],hv(u));const d=r(t,["googleSearch"]);d!=null&&a(e,["googleSearch"],mv(d));const c=r(t,["urlContext"]);return c!=null&&a(e,["urlContext"],c),e}function tu(t){const e={},n=r(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>qy(h))),a(e,["functionDeclarations"],p)}const o=r(t,["retrieval"]);o!=null&&a(e,["retrieval"],o);const i=r(t,["googleSearchRetrieval"]);i!=null&&a(e,["googleSearchRetrieval"],i);const s=r(t,["computerUse"]);if(s!=null&&a(e,["computerUse"],s),r(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=r(t,["codeExecution"]);l!=null&&a(e,["codeExecution"],l);const u=r(t,["enterpriseWebSearch"]);u!=null&&a(e,["enterpriseWebSearch"],u);const d=r(t,["googleMaps"]);d!=null&&a(e,["googleMaps"],d);const c=r(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],c);const f=r(t,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function $v(t){const e={},n=r(t,["baseModel"]);n!=null&&a(e,["baseModel"],n);const o=r(t,["createTime"]);o!=null&&a(e,["createTime"],o);const i=r(t,["updateTime"]);return i!=null&&a(e,["updateTime"],i),e}function qv(t){const e={},n=r(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&a(e,["baseModel"],n);const o=r(t,["createTime"]);o!=null&&a(e,["createTime"],o);const i=r(t,["updateTime"]);return i!=null&&a(e,["updateTime"],i),e}function Bv(t,e){const n={},o=r(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const i=r(t,["description"]);e!==void 0&&i!=null&&a(e,["description"],i);const s=r(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&a(e,["defaultCheckpointId"],s),n}function Jv(t,e){const n={},o=r(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const i=r(t,["description"]);e!==void 0&&i!=null&&a(e,["description"],i);const s=r(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&a(e,["defaultCheckpointId"],s),n}function Ov(t,e){const n={},o=r(e,["model"]);o!=null&&a(n,["_url","name"],Z(t,o));const i=r(e,["config"]);return i!=null&&Bv(i,n),n}function Kv(t,e){const n={},o=r(e,["model"]);o!=null&&a(n,["_url","model"],Z(t,o));const i=r(e,["config"]);return i!=null&&Jv(i,n),n}function Wv(t,e){const n={},o=r(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const i=r(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&a(e,["parameters","safetySetting"],i);const s=r(t,["personGeneration"]);e!==void 0&&s!=null&&a(e,["parameters","personGeneration"],s);const l=r(t,["includeRaiReason"]);e!==void 0&&l!=null&&a(e,["parameters","includeRaiReason"],l);const u=r(t,["outputMimeType"]);e!==void 0&&u!=null&&a(e,["parameters","outputOptions","mimeType"],u);const d=r(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&a(e,["parameters","outputOptions","compressionQuality"],d);const c=r(t,["enhanceInputImage"]);e!==void 0&&c!=null&&a(e,["parameters","upscaleConfig","enhanceInputImage"],c);const f=r(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&a(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const p=r(t,["labels"]);e!==void 0&&p!=null&&a(e,["labels"],p);const h=r(t,["numberOfImages"]);e!==void 0&&h!=null&&a(e,["parameters","sampleCount"],h);const m=r(t,["mode"]);return e!==void 0&&m!=null&&a(e,["parameters","mode"],m),n}function Yv(t,e){const n={},o=r(e,["model"]);o!=null&&a(n,["_url","model"],Z(t,o));const i=r(e,["image"]);i!=null&&a(n,["instances[0]","image"],Ye(i));const s=r(e,["upscaleFactor"]);s!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],s);const l=r(e,["config"]);return l!=null&&Wv(l,n),n}function zv(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=r(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>Fo(s))),a(e,["generatedImages"],i)}return e}function Xv(t){const e={},n=r(t,["uri"]);n!=null&&a(e,["uri"],n);const o=r(t,["encodedVideo"]);o!=null&&a(e,["videoBytes"],wt(o));const i=r(t,["encoding"]);return i!=null&&a(e,["mimeType"],i),e}function Qv(t){const e={},n=r(t,["gcsUri"]);n!=null&&a(e,["uri"],n);const o=r(t,["bytesBase64Encoded"]);o!=null&&a(e,["videoBytes"],wt(o));const i=r(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function Zv(t){const e={},n=r(t,["image"]);n!=null&&a(e,["_self"],Ye(n));const o=r(t,["maskMode"]);return o!=null&&a(e,["maskMode"],o),e}function jv(t){const e={},n=r(t,["image"]);n!=null&&a(e,["image"],Lo(n));const o=r(t,["referenceType"]);return o!=null&&a(e,["referenceType"],o),e}function e0(t){const e={},n=r(t,["image"]);n!=null&&a(e,["image"],Ye(n));const o=r(t,["referenceType"]);return o!=null&&a(e,["referenceType"],o),e}function nu(t){const e={},n=r(t,["uri"]);n!=null&&a(e,["uri"],n);const o=r(t,["videoBytes"]);o!=null&&a(e,["encodedVideo"],wt(o));const i=r(t,["mimeType"]);return i!=null&&a(e,["encoding"],i),e}function ou(t){const e={},n=r(t,["uri"]);n!=null&&a(e,["gcsUri"],n);const o=r(t,["videoBytes"]);o!=null&&a(e,["bytesBase64Encoded"],wt(o));const i=r(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function t0(t,e){const n={},o=r(t,["displayName"]);return e!==void 0&&o!=null&&a(e,["displayName"],o),n}function n0(t){const e={},n=r(t,["config"]);return n!=null&&t0(n,e),e}function o0(t,e){const n={},o=r(t,["force"]);return e!==void 0&&o!=null&&a(e,["_query","force"],o),n}function i0(t){const e={},n=r(t,["name"]);n!=null&&a(e,["_url","name"],n);const o=r(t,["config"]);return o!=null&&o0(o,e),e}function s0(t){const e={},n=r(t,["name"]);return n!=null&&a(e,["_url","name"],n),e}function r0(t,e){const n={},o=r(t,["customMetadata"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),a(e,["customMetadata"],s)}const i=r(t,["chunkingConfig"]);return e!==void 0&&i!=null&&a(e,["chunkingConfig"],i),n}function l0(t){const e={},n=r(t,["name"]);n!=null&&a(e,["name"],n);const o=r(t,["metadata"]);o!=null&&a(e,["metadata"],o);const i=r(t,["done"]);i!=null&&a(e,["done"],i);const s=r(t,["error"]);s!=null&&a(e,["error"],s);const l=r(t,["response"]);return l!=null&&a(e,["response"],u0(l)),e}function a0(t){const e={},n=r(t,["fileSearchStoreName"]);n!=null&&a(e,["_url","file_search_store_name"],n);const o=r(t,["fileName"]);o!=null&&a(e,["fileName"],o);const i=r(t,["config"]);return i!=null&&r0(i,e),e}function u0(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=r(t,["parent"]);o!=null&&a(e,["parent"],o);const i=r(t,["documentName"]);return i!=null&&a(e,["documentName"],i),e}function c0(t,e){const n={},o=r(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const i=r(t,["pageToken"]);return e!==void 0&&i!=null&&a(e,["_query","pageToken"],i),n}function d0(t){const e={},n=r(t,["config"]);return n!=null&&c0(n,e),e}function f0(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=r(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=r(t,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),a(e,["fileSearchStores"],s)}return e}function iu(t,e){const n={},o=r(t,["mimeType"]);e!==void 0&&o!=null&&a(e,["mimeType"],o);const i=r(t,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const s=r(t,["customMetadata"]);if(e!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),a(e,["customMetadata"],u)}const l=r(t,["chunkingConfig"]);return e!==void 0&&l!=null&&a(e,["chunkingConfig"],l),n}function p0(t){const e={},n=r(t,["fileSearchStoreName"]);n!=null&&a(e,["_url","file_search_store_name"],n);const o=r(t,["config"]);return o!=null&&iu(o,e),e}function h0(t){const e={},n=r(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const m0="Content-Type",g0="X-Server-Timeout",y0="User-Agent",xi="x-goog-api-client",v0="1.34.0",_0=`google-genai-sdk/${v0}`,T0="v1beta1",E0="v1beta";class C0{constructor(e){var n,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:T0,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:E0,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){const i=[this.getRequestUrlInternal(n)];return o&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,o);if(e.queryParams)for(const[l,u]of Object.entries(e.queryParams))i.searchParams.append(l,String(u));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const o=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?o[i]=Object.assign(Object.assign({},o[i]),s):s!==void 0&&(o[i]=s);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,o);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o,i){if(n&&n.timeout||i){const s=new AbortController,l=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>s.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=l}return n&&n.extraBody!==null&&S0(e,n.extraBody),e.headers=await this.getHeadersInternal(n,o),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async i=>(await fl(i),new Ti(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async i=>(await fl(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Oe(this,arguments,function*(){var o;const i=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";const u="data:",d=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:c,value:f}=yield W(i.read());if(c){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=s.decode(f,{stream:!0});try{const y=JSON.parse(p);if("error"in y){const T=JSON.parse(JSON.stringify(y.error)),E=T.status,S=T.code,M=`got status: ${E}. ${JSON.stringify(y)}`;if(S>=400&&S<600)throw new ko({message:M,status:S})}}catch(y){if(y.name==="ApiError")throw y}l+=p;let h=-1,m=0;for(;;){h=-1,m=0;for(const E of d){const S=l.indexOf(E);S!==-1&&(h===-1||S<h)&&(h=S,m=E.length)}if(h===-1)break;const y=l.substring(0,h);l=l.substring(h+m);const T=y.trim();if(T.startsWith(u)){const E=T.substring(u.length).trim();try{const S=new Response(E,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield W(new Ti(S))}catch(S){throw new Error(`exception parsing stream chunk ${E}. ${S}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},n=_0+" "+this.clientOptions.userAgentExtra;return e[y0]=n,e[xi]=n,e[m0]="application/json",e}async getHeadersInternal(e,n){const o=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))o.append(i,s);e.timeout&&e.timeout>0&&o.append(g0,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(e){var n;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(e,n){var o;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,l=await s.stat(e);i.sizeBytes=String(l.size);const u=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const d={file:i},c=this.getFileName(e),f=k("upload/v1beta/files",d._url),p=await this.fetchUploadUrl(f,i.sizeBytes,i.mimeType,c,d,n==null?void 0:n.httpOptions);return s.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,o){var i;const s=this.clientOptions.uploader,l=await s.stat(n),u=String(l.size),d=(i=o==null?void 0:o.mimeType)!==null&&i!==void 0?i:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),p={};o!=null&&iu(o,p);const h=await this.fetchUploadUrl(c,u,d,f,p,o==null?void 0:o.httpOptions);return s.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,o,i,s,l){var u;let d={};l?d=l:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},i?{"X-Goog-Upload-File-Name":i}:{})};const c=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:d});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(u=c==null?void 0:c.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function fl(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(o);throw n>=400&&n<600?new ko({message:i,status:n}):new Error(i)}}function S0(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(s,l){const u=Object.assign({},s);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const c=l[d],f=u[d];c&&typeof c=="object"&&!Array.isArray(c)&&f&&typeof f=="object"&&!Array.isArray(f)?u[d]=o(f,c):(f&&c&&typeof f!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof f}, New type: ${typeof c}. Overwriting.`),u[d]=c)}return u}const i=o(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const I0="mcp_used/unknown";let x0=!1;function su(t){for(const e of t)if(A0(e)||typeof e=="object"&&"inputSchema"in e)return!0;return x0}function ru(t){var e;const n=(e=t[xi])!==null&&e!==void 0?e:"";t[xi]=(n+` ${I0}`).trimStart()}function A0(t){return t!==null&&typeof t=="object"&&t instanceof os}function w0(t){return Oe(this,arguments,function*(n,o=100){let i,s=0;for(;s<o;){const l=yield W(n.listTools({cursor:i}));for(const u of l.tools)yield yield W(u),s++;if(!l.nextCursor)break;i=l.nextCursor}})}class os{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new os(e,n)}async initialize(){var e,n,o,i;if(this.mcpTools.length>0)return;const s={},l=[];for(const f of this.mcpClients)try{for(var u=!0,d=(n=void 0,Ke(w0(f))),c;c=await d.next(),e=c.done,!e;u=!0){i=c.value,u=!1;const p=i;l.push(p);const h=p.name;if(s[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);s[h]=f}}catch(p){n={error:p}}finally{try{!u&&!e&&(o=d.return)&&await o.call(d)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),sm(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[o.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const l=await i.callTool({name:o.name,arguments:o.args},void 0,s);n.push({functionResponse:{name:o.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function R0(t,e,n){const o=new Qh;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(o,i),e(o)}class M0{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),l=N0(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${u}`;let c=()=>{};const f=new Promise(A=>{c=A}),p=e.callbacks,h=function(){c({})},m=this.apiClient,y={onopen:h,onmessage:A=>{R0(m,p.onmessage,A)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(A){},onclose:(o=p==null?void 0:p.onclose)!==null&&o!==void 0?o:function(A){}},T=this.webSocketFactory.create(d,P0(l),y);T.connect(),await f;const M={setup:{model:Z(this.apiClient,e.model)}};return T.send(JSON.stringify(M)),new b0(T,this.apiClient)}}class b0{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=ny(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=ty(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Yt.PLAY)}pause(){this.sendPlaybackControl(Yt.PAUSE)}stop(){this.sendPlaybackControl(Yt.STOP)}resetContext(){this.sendPlaybackControl(Yt.RESET_CONTEXT)}close(){this.conn.close()}}function P0(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function N0(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const D0="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function k0(t,e,n){const o=new Xh;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const l=sy(s);Object.assign(o,l)}else Object.assign(o,s);e(o)}class U0{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new M0(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,i,s,l,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let f;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&su(e.config.tools)&&ru(p);const h=G0(p);if(this.apiClient.isVertexAI())f=`${d}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,f);else{const V=this.apiClient.getApiKey();let z="BidiGenerateContent",ne="key";V!=null&&V.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),z="BidiGenerateContentConstrained",ne="access_token"),f=`${d}/ws/google.ai.generativelanguage.${c}.GenerativeService.${z}?${ne}=${V}`}let m=()=>{};const y=new Promise(V=>{m=V}),T=e.callbacks,E=function(){var V;(V=T==null?void 0:T.onopen)===null||V===void 0||V.call(T),m({})},S=this.apiClient,M={onopen:E,onmessage:V=>{k0(S,T.onmessage,V)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(V){},onclose:(o=T==null?void 0:T.onclose)!==null&&o!==void 0?o:function(V){}},A=this.webSocketFactory.create(f,V0(h),M);A.connect(),await y;let I=Z(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&I.startsWith("publishers/")){const V=this.apiClient.getProject(),z=this.apiClient.getLocation();I=`projects/${V}/locations/${z}/`+I}let F={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[mo.AUDIO]}:e.config.responseModalities=[mo.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const B=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],G=[];for(const V of B)if(this.isCallableTool(V)){const z=V;G.push(await z.tool())}else G.push(V);G.length>0&&(e.config.tools=G);const X={model:I,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?F=ey(this.apiClient,X):F=jg(this.apiClient,X),delete F.config,A.send(JSON.stringify(F)),new L0(A,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const F0={turnComplete:!0};class L0{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=$e(n.turns),e.isVertexAI()||(o=o.map(i=>Uo(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const s of o){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(D0)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},F0),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:iy(e)}:n={realtimeInput:oy(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function V0(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function G0(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pl=10;function hl(t){var e,n,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(on(l)){i=!0;break}if(!i)return!0;const s=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function on(t){return"callTool"in t&&typeof t.callTool=="function"}function H0(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>on(i)))!==null&&o!==void 0?o:!1}function ml(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,i)=>{if(on(o))return;const s=o;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(i)}),n}function gl(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $0 extends yt{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,i,s,l,u;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!H0(n)||hl(n.config))return await this.generateContentInternal(d);const c=ml(n);if(c.length>0){const T=c.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${T}.`)}let f,p;const h=$e(d.contents),m=(s=(i=(o=d.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:pl;let y=0;for(;y<m&&(f=await this.generateContentInternal(d),!(!f.functionCalls||f.functionCalls.length===0));){const T=f.candidates[0].content,E=[];for(const S of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(on(S)){const A=await S.callTool(f.functionCalls);E.push(...A)}y++,p={role:"user",parts:E},d.contents=$e(d.contents),d.contents.push(T),d.contents.push(p),gl(d.config)&&(h.push(T),h.push(p))}return gl(d.config)&&(f.automaticFunctionCallingHistory=h),f},this.generateContentStream=async n=>{var o,i,s,l,u;if(this.maybeMoveToResponseJsonSchem(n),hl(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const d=ml(n);if(d.length>0){const p=d.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(s=(i=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,f=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(c&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var i;let s;const l=[];if(o!=null&&o.generatedImages)for(const d of o.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((i=d==null?void 0:d.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=d==null?void 0:d.safetyAttributes:l.push(d);let u;return s?u={generatedImages:l,positivePromptSafetyAttributes:s,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async n=>{var o;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((o=l.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Bt(mt.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var o,i,s,l,u,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.uri&&(!((d=(u=n.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const l=await Promise.all(s.map(async d=>on(d)?await d.tool():d)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&su(e.config.tools)){const d=(i=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},d);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),ru(c),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return u}async initAfcToolsMap(e){var n,o,i;const s=new Map;for(const l of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(on(l)){const u=l,d=await u.tool();for(const c of(i=d.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(s.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);s.set(c.name,u)}}return s}async processAfcStream(e){var n,o,i;const s=(i=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&i!==void 0?i:pl;let l=!1,u=0;const d=await this.initAfcToolsMap(e);return function(c,f,p){return Oe(this,arguments,function*(){for(var h,m,y,T,E,S;u<s;){l&&(u++,l=!1);const F=yield W(c.processParamsMaybeAddMcpUsage(p)),B=yield W(c.generateContentStreamInternal(F)),G=[],X=[];try{for(var M=!0,A=(m=void 0,Ke(B)),I;I=yield W(A.next()),h=I.done,!h;M=!0){T=I.value,M=!1;const V=T;if(yield yield W(V),V.candidates&&(!((E=V.candidates[0])===null||E===void 0)&&E.content)){X.push(V.candidates[0].content);for(const z of(S=V.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(u<s&&z.functionCall){if(!z.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(z.functionCall.name)){const ne=yield W(f.get(z.functionCall.name).callTool([z.functionCall]));G.push(...ne)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${z.functionCall.name}`)}}}}catch(V){m={error:V}}finally{try{!M&&!h&&(y=A.return)&&(yield W(y.call(A)))}finally{if(m)throw m.error}}if(G.length>0){l=!0;const V=new yn;V.candidates=[{content:{role:"user",parts:G}}],yield yield W(V);const z=[];z.push(...X),z.push({role:"user",parts:G});const ne=$e(p.contents).concat(z);p.contents=ne}else break}})}(this,d,e)}async generateContentInternal(e){var n,o,i,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=ul(this.apiClient,e);return u=k("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=dl(f),h=new yn;return Object.assign(h,p),h})}else{const c=al(this.apiClient,e);return u=k("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=cl(f),h=new yn;return Object.assign(h,p),h})}}async generateContentStreamInternal(e){var n,o,i,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=ul(this.apiClient,e);return u=k("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(p){return Oe(this,arguments,function*(){var h,m,y,T;try{for(var E=!0,S=Ke(p),M;M=yield W(S.next()),h=M.done,!h;E=!0){T=M.value,E=!1;const A=T,I=dl(yield W(A.json()));I.sdkHttpResponse={headers:A.headers};const F=new yn;Object.assign(F,I),yield yield W(F)}}catch(A){m={error:A}}finally{try{!E&&!h&&(y=S.return)&&(yield W(y.call(S)))}finally{if(m)throw m.error}}})})}else{const c=al(this.apiClient,e);return u=k("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),l.then(function(p){return Oe(this,arguments,function*(){var h,m,y,T;try{for(var E=!0,S=Ke(p),M;M=yield W(S.next()),h=M.done,!h;E=!0){T=M.value,E=!1;const A=T,I=cl(yield W(A.json()));I.sdkHttpResponse={headers:A.headers};const F=new yn;Object.assign(F,I),yield yield W(F)}}catch(A){m={error:A}}finally{try{!E&&!h&&(y=S.return)&&(yield W(y.call(S)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var n,o,i,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Uy(this.apiClient,e);return u=k("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Ly(f),h=new Or;return Object.assign(h,p),h})}else{const c=ky(this.apiClient,e);return u=k("{model}:batchEmbedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Fy(f),h=new Or;return Object.assign(h,p),h})}}async generateImagesInternal(e){var n,o,i,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Yy(this.apiClient,e);return u=k("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Xy(f),h=new Kr;return Object.assign(h,p),h})}else{const c=Wy(this.apiClient,e);return u=k("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=zy(f),h=new Kr;return Object.assign(h,p),h})}}async editImageInternal(e){var n,o;let i,s="",l={};if(this.apiClient.isVertexAI()){const u=by(this.apiClient,e);return s=k("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),i.then(d=>{const c=Py(d),f=new Gh;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let i,s="",l={};if(this.apiClient.isVertexAI()){const u=Yv(this.apiClient,e);return s=k("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),i.then(d=>{const c=zv(d),f=new Hh;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let i,s="",l={};if(this.apiClient.isVertexAI()){const u=Mv(this.apiClient,e);return s=k("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>{const c=bv(d),f=new $h;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,o;let i,s="",l={};if(this.apiClient.isVertexAI()){const u=Fv(this.apiClient,e);return s=k("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>{const c=Lv(d),f=new qh;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,i,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=pv(this.apiClient,e);return u=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Ii(f))}else{const c=fv(this.apiClient,e);return u=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),l.then(f=>Si(f))}}async listInternal(e){var n,o,i,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Cv(this.apiClient,e);return u=k("{models_url}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Iv(f),h=new Wr;return Object.assign(h,p),h})}else{const c=Ev(this.apiClient,e);return u=k("{models_url}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Sv(f),h=new Wr;return Object.assign(h,p),h})}}async update(e){var n,o,i,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Kv(this.apiClient,e);return u=k("{model}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Ii(f))}else{const c=Ov(this.apiClient,e);return u=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),l.then(f=>Si(f))}}async delete(e){var n,o,i,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Ay(this.apiClient,e);return u=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Ry(f),h=new Yr;return Object.assign(h,p),h})}else{const c=xy(this.apiClient,e);return u=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=wy(f),h=new Yr;return Object.assign(h,p),h})}}async countTokens(e){var n,o,i,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Cy(this.apiClient,e);return u=k("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Iy(f),h=new zr;return Object.assign(h,p),h})}else{const c=Ey(this.apiClient,e);return u=k("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Sy(f),h=new zr;return Object.assign(h,p),h})}}async computeTokens(e){var n,o;let i,s="",l={};if(this.apiClient.isVertexAI()){const u=hy(this.apiClient,e);return s=k("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),i.then(d=>{const c=my(d),f=new Bh;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,i,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=nv(this.apiClient,e);return u=k("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>{const p=ev(f),h=new go;return Object.assign(h,p),h})}else{const c=tv(this.apiClient,e);return u=k("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),l.then(f=>{const p=jy(f),h=new go;return Object.assign(h,p),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class q0 extends yt{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;o&&"httpOptions"in o&&(s=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;o&&"httpOptions"in o&&(s=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,i,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Dh(e);return u=k("{operationName}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l}else{const c=Nh(e);return u=k("{operationName}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),l}}async fetchPredictVideosOperationInternal(e){var n,o;let i,s="",l={};if(this.apiClient.isVertexAI()){const u=xh(e);return s=k("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function B0(t){const e={},n=r(t,["data"]);if(n!=null&&a(e,["data"],n),r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function J0(t){const e={},n=r(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>j0(s))),a(e,["parts"],i)}const o=r(t,["role"]);return o!=null&&a(e,["role"],o),e}function O0(t,e,n){const o={},i=r(e,["expireTime"]);n!==void 0&&i!=null&&a(n,["expireTime"],i);const s=r(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&a(n,["newSessionExpireTime"],s);const l=r(e,["uses"]);n!==void 0&&l!=null&&a(n,["uses"],l);const u=r(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&a(n,["bidiGenerateContentSetup"],Z0(t,u));const d=r(e,["lockAdditionalFields"]);return n!==void 0&&d!=null&&a(n,["fieldMask"],d),o}function K0(t,e){const n={},o=r(e,["config"]);return o!=null&&a(n,["config"],O0(t,o,n)),n}function W0(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=r(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Y0(t){const e={},n=r(t,["id"]);n!=null&&a(e,["id"],n);const o=r(t,["args"]);o!=null&&a(e,["args"],o);const i=r(t,["name"]);if(i!=null&&a(e,["name"],i),r(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function z0(t){const e={};if(r(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=r(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function X0(t){const e={};if(r(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=r(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function Q0(t,e){const n={},o=r(t,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],o);const i=r(t,["responseModalities"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","responseModalities"],i);const s=r(t,["temperature"]);e!==void 0&&s!=null&&a(e,["setup","generationConfig","temperature"],s);const l=r(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=r(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const d=r(t,["maxOutputTokens"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","maxOutputTokens"],d);const c=r(t,["mediaResolution"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","mediaResolution"],c);const f=r(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const p=r(t,["speechConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","speechConfig"],ns(p));const h=r(t,["thinkingConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","thinkingConfig"],h);const m=r(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],m);const y=r(t,["systemInstruction"]);e!==void 0&&y!=null&&a(e,["setup","systemInstruction"],J0(_e(y)));const T=r(t,["tools"]);if(e!==void 0&&T!=null){let B=un(T);Array.isArray(B)&&(B=B.map(G=>t_(an(G)))),a(e,["setup","tools"],B)}const E=r(t,["sessionResumption"]);e!==void 0&&E!=null&&a(e,["setup","sessionResumption"],e_(E));const S=r(t,["inputAudioTranscription"]);e!==void 0&&S!=null&&a(e,["setup","inputAudioTranscription"],S);const M=r(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&a(e,["setup","outputAudioTranscription"],M);const A=r(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&a(e,["setup","realtimeInputConfig"],A);const I=r(t,["contextWindowCompression"]);e!==void 0&&I!=null&&a(e,["setup","contextWindowCompression"],I);const F=r(t,["proactivity"]);if(e!==void 0&&F!=null&&a(e,["setup","proactivity"],F),r(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Z0(t,e){const n={},o=r(e,["model"]);o!=null&&a(n,["setup","model"],Z(t,o));const i=r(e,["config"]);return i!=null&&a(n,["config"],Q0(i,n)),n}function j0(t){const e={},n=r(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=r(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const i=r(t,["executableCode"]);i!=null&&a(e,["executableCode"],i);const s=r(t,["fileData"]);s!=null&&a(e,["fileData"],W0(s));const l=r(t,["functionCall"]);l!=null&&a(e,["functionCall"],Y0(l));const u=r(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const d=r(t,["inlineData"]);d!=null&&a(e,["inlineData"],B0(d));const c=r(t,["text"]);c!=null&&a(e,["text"],c);const f=r(t,["thought"]);f!=null&&a(e,["thought"],f);const p=r(t,["thoughtSignature"]);p!=null&&a(e,["thoughtSignature"],p);const h=r(t,["videoMetadata"]);return h!=null&&a(e,["videoMetadata"],h),e}function e_(t){const e={},n=r(t,["handle"]);if(n!=null&&a(e,["handle"],n),r(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function t_(t){const e={},n=r(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(e,["functionDeclarations"],f)}if(r(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const i=r(t,["computerUse"]);i!=null&&a(e,["computerUse"],i);const s=r(t,["fileSearch"]);s!=null&&a(e,["fileSearch"],s);const l=r(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),r(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=r(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],z0(u));const d=r(t,["googleSearch"]);d!=null&&a(e,["googleSearch"],X0(d));const c=r(t,["urlContext"]);return c!=null&&a(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n_(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const i=Object.keys(o).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function o_(t,e){let n=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const s=o.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=n_(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(c=>l.includes(c)?`generationConfig.${c}`:c));const d=[];s&&d.push(s),u.length>0&&d.push(...u),d.length>0?t.fieldMask=d.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class i_ extends yt{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=K0(this.apiClient,e);s=k("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const d=o_(u,e.config);return i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s_(t,e){const n={},o=r(t,["force"]);return e!==void 0&&o!=null&&a(e,["_query","force"],o),n}function r_(t){const e={},n=r(t,["name"]);n!=null&&a(e,["_url","name"],n);const o=r(t,["config"]);return o!=null&&s_(o,e),e}function l_(t){const e={},n=r(t,["name"]);return n!=null&&a(e,["_url","name"],n),e}function a_(t,e){const n={},o=r(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const i=r(t,["pageToken"]);return e!==void 0&&i!=null&&a(e,["_query","pageToken"],i),n}function u_(t){const e={},n=r(t,["parent"]);n!=null&&a(e,["_url","parent"],n);const o=r(t,["config"]);return o!=null&&a_(o,e),e}function c_(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=r(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=r(t,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),a(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d_ extends yt{constructor(e){super(),this.apiClient=e,this.list=async n=>new Bt(mt.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(e){var n,o;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=l_(e);return s=k("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(e){var n,o;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=r_(e);i=k("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=u_(e);return s=k("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>{const c=c_(d),f=new Jh;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class f_ extends yt{constructor(e,n=new d_(e)){super(),this.apiClient=e,this.documents=n,this.list=async(o={})=>new Bt(mt.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,o;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=n0(e);return s=k("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async get(e){var n,o;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=s0(e);return s=k("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(e){var n,o;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=i0(e);i=k("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=d0(e);return s=k("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>{const c=f0(d),f=new Oh;return Object.assign(f,c),f})}}async uploadToFileSearchStoreInternal(e){var n,o;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=p0(e);return s=k("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>{const c=h0(d),f=new Kh;return Object.assign(f,c),f})}}async importFile(e){var n,o;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=a0(e);return s=k("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>{const c=l0(d),f=new Qi;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let lu=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return lu=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};const p_=()=>lu();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ai(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const wi=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qe extends Error{}class we extends qe{constructor(e,n,o,i){super(`${we.makeMessage(e,n,o)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,o){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,o,i){if(!e||!i)return new Vo({message:o,cause:wi(n)});const s=n;return e===400?new uu(e,s,o,i):e===401?new cu(e,s,o,i):e===403?new du(e,s,o,i):e===404?new fu(e,s,o,i):e===409?new pu(e,s,o,i):e===422?new hu(e,s,o,i):e===429?new mu(e,s,o,i):e>=500?new gu(e,s,o,i):new we(e,s,o,i)}}class Ri extends we{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Vo extends we{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class au extends Vo{constructor({message:e}={}){super({message:e??"Request timed out."})}}class uu extends we{}class cu extends we{}class du extends we{}class fu extends we{}class pu extends we{}class hu extends we{}class mu extends we{}class gu extends we{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const h_=/^[a-z][a-z0-9+.-]*:/i,m_=t=>h_.test(t);let Mi=t=>(Mi=Array.isArray,Mi(t));const g_=Mi;let y_=g_;const yl=y_;function v_(t){if(!t)return!0;for(const e in t)return!1;return!0}function __(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const T_=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new qe(`${t} must be an integer`);if(e<0)throw new qe(`${t} must be a positive integer`);return e},E_=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const C_=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wt="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S_(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const I_=()=>{var t,e,n,o,i;const s=S_();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wt,"X-Stainless-OS":_l(Deno.build.os),"X-Stainless-Arch":vl(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wt,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wt,"X-Stainless-OS":_l((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":vl((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const l=x_();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wt,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wt,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function x_(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const o=n.exec(navigator.userAgent);if(o){const i=o[1]||0,s=o[2]||0,l=o[3]||0;return{browser:e,version:`${i}.${s}.${l}`}}}return null}const vl=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",_l=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let On;const A_=()=>On??(On=I_());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w_(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function yu(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function R_(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return yu({start(){},async pull(n){const{done:o,value:i}=await e.next();o?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function vu(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function M_(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const o=t.getReader(),i=o.cancel();o.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const b_=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _u=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ei(t,e,n){return _u(),new File(t,e??"unknown_file",n)}function P_(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const N_=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tu=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",D_=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Tu(t),k_=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function U_(t,e,n){if(_u(),t=await t,D_(t))return t instanceof File?t:ei([await t.arrayBuffer()],t.name);if(k_(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),ei(await bi(i),e,n)}const o=await bi(t);if(e||(e=P_(t)),!(n!=null&&n.type)){const i=o.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return ei(o,e,n)}async function bi(t){var e,n,o,i,s;let l=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)l.push(t);else if(Tu(t))l.push(t instanceof Blob?t:await t.arrayBuffer());else if(N_(t))try{for(var u=!0,d=Ke(t),c;c=await d.next(),e=c.done,!e;u=!0){i=c.value,u=!1;const f=i;l.push(...await bi(f))}}catch(f){n={error:f}}finally{try{!u&&!e&&(o=d.return)&&await o.call(d)}finally{if(n)throw n.error}}else{const f=(s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof t}${f?`; constructor: ${f}`:""}${F_(t)}`)}return l}function F_(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Eu{constructor(e){this._client=e}}Eu._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cu(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Tl=Object.freeze(Object.create(null)),L_=(t=Cu)=>function(n,...o){if(n.length===1)return n[0];let i=!1;const s=[],l=n.reduce((f,p,h)=>{var m,y,T;/[?#]/.test(p)&&(i=!0);const E=o[h];let S=(i?encodeURIComponent:t)(""+E);return h!==o.length&&(E==null||typeof E=="object"&&E.toString===((T=Object.getPrototypeOf((y=Object.getPrototypeOf((m=E.hasOwnProperty)!==null&&m!==void 0?m:Tl))!==null&&y!==void 0?y:Tl))===null||T===void 0?void 0:T.toString))&&(S=E+"",s.push({start:f.length+p.length,length:S.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),f+p+(h===o.length?"":S)},""),u=l.split(/[?#]/,1)[0],d=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let c;for(;(c=d.exec(u))!==null;)s.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(s.sort((f,p)=>f.start-p.start),s.length>0){let f=0;const p=s.reduce((h,m)=>{const y=" ".repeat(m.start-f),T="^".repeat(m.length);return f=m.start+m.length,h+y+T},"");throw new qe(`Path parameters result in path with invalid segments:
${s.map(h=>h.error).join(`
`)}
${l}
${p}`)}return l},Kn=L_(Cu);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Su extends Eu{create(e,n){var o;const{api_version:i=this._client.apiVersion}=e,s=vo(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new qe("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new qe("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Kn`/${i}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,n={},o){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Kn`/${i}/interactions/${e}`,o)}cancel(e,n={},o){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Kn`/${i}/interactions/${e}/cancel`,o)}get(e,n={},o){var i;const s=n??{},{api_version:l=this._client.apiVersion}=s,u=vo(s,["api_version"]);return this._client.get(Kn`/${l}/interactions/${e}`,Object.assign(Object.assign({query:u},o),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}Su._key=Object.freeze(["interactions"]);class Iu extends Su{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function V_(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let o=0;for(const i of t)n.set(i,o),o+=i.length;return n}let Wn;function is(t){let e;return(Wn??(e=new globalThis.TextEncoder,Wn=e.encode.bind(e)))(t)}let Yn;function El(t){let e;return(Yn??(e=new globalThis.TextDecoder,Yn=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Go{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?is(e):e;this.buffer=V_([this.buffer,n]);const o=[];let i;for(;(i=G_(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){o.push(El(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,l=El(this.buffer.subarray(0,s));o.push(l),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}Go.NEWLINE_CHARS=new Set([`
`,"\r"]);Go.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function G_(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function H_(t){for(let o=0;o<t.length-1;o++){if(t[o]===10&&t[o+1]===10||t[o]===13&&t[o+1]===13)return o+2;if(t[o]===13&&t[o+1]===10&&o+3<t.length&&t[o+2]===13&&t[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _o={off:0,error:200,warn:300,info:400,debug:500},Cl=(t,e,n)=>{if(t){if(__(_o,t))return t;Ce(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(_o))}`)}};function Tn(){}function zn(t,e,n){return!e||_o[t]>_o[n]?Tn:e[t].bind(e)}const $_={error:Tn,warn:Tn,info:Tn,debug:Tn};let Sl=new WeakMap;function Ce(t){var e;const n=t.logger,o=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return $_;const i=Sl.get(n);if(i&&i[0]===o)return i[1];const s={error:zn("error",n,o),warn:zn("warn",n,o),info:zn("info",n,o),debug:zn("debug",n,o)};return Sl.set(n,[o,s]),s}const kt=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zt{constructor(e,n,o){this.iterator=e,this.controller=n,this.client=o}static fromSSEResponse(e,n,o){let i=!1;const s=o?Ce(o):console;function l(){return Oe(this,arguments,function*(){var d,c,f,p;if(i)throw new qe("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var m=!0,y=Ke(q_(e,n)),T;T=yield W(y.next()),d=T.done,!d;m=!0){p=T.value,m=!1;const E=p;if(!h)if(E.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield W(JSON.parse(E.data))}catch(S){throw s.error("Could not parse message into JSON:",E.data),s.error("From chunk:",E.raw),S}}}catch(E){c={error:E}}finally{try{!m&&!d&&(f=y.return)&&(yield W(f.call(y)))}finally{if(c)throw c.error}}h=!0}catch(E){if(Ai(E))return yield W(void 0);throw E}finally{h||n.abort()}})}return new zt(l,n,o)}static fromReadableStream(e,n,o){let i=!1;function s(){return Oe(this,arguments,function*(){var d,c,f,p;const h=new Go,m=vu(e);try{for(var y=!0,T=Ke(m),E;E=yield W(T.next()),d=E.done,!d;y=!0){p=E.value,y=!1;const S=p;for(const M of h.decode(S))yield yield W(M)}}catch(S){c={error:S}}finally{try{!y&&!d&&(f=T.return)&&(yield W(f.call(T)))}finally{if(c)throw c.error}}for(const S of h.flush())yield yield W(S)})}function l(){return Oe(this,arguments,function*(){var d,c,f,p;if(i)throw new qe("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var m=!0,y=Ke(s()),T;T=yield W(y.next()),d=T.done,!d;m=!0){p=T.value,m=!1;const E=p;h||E&&(yield yield W(JSON.parse(E)))}}catch(E){c={error:E}}finally{try{!m&&!d&&(f=y.return)&&(yield W(f.call(y)))}finally{if(c)throw c.error}}h=!0}catch(E){if(Ai(E))return yield W(void 0);throw E}finally{h||n.abort()}})}return new zt(l,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],o=this.iterator(),i=s=>({next:()=>{if(s.length===0){const l=o.next();e.push(l),n.push(l)}return s.shift()}});return[new zt(()=>i(e),this.controller,this.client),new zt(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return yu({async start(){n=e[Symbol.asyncIterator]()},async pull(o){try{const{value:i,done:s}=await n.next();if(s)return o.close();const l=is(JSON.stringify(i)+`
`);o.enqueue(l)}catch(i){o.error(i)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}}function q_(t,e){return Oe(this,arguments,function*(){var o,i,s,l;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new qe("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new qe("Attempted to iterate over a response with no body");const u=new J_,d=new Go,c=vu(t.body);try{for(var f=!0,p=Ke(B_(c)),h;h=yield W(p.next()),o=h.done,!o;f=!0){l=h.value,f=!1;const m=l;for(const y of d.decode(m)){const T=u.decode(y);T&&(yield yield W(T))}}}catch(m){i={error:m}}finally{try{!f&&!o&&(s=p.return)&&(yield W(s.call(p)))}finally{if(i)throw i.error}}for(const m of d.flush()){const y=u.decode(m);y&&(yield yield W(y))}})}function B_(t){return Oe(this,arguments,function*(){var n,o,i,s;let l=new Uint8Array;try{for(var u=!0,d=Ke(t),c;c=yield W(d.next()),n=c.done,!n;u=!0){s=c.value,u=!1;const f=s;if(f==null)continue;const p=f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="string"?is(f):f;let h=new Uint8Array(l.length+p.length);h.set(l),h.set(p,l.length),l=h;let m;for(;(m=H_(l))!==-1;)yield yield W(l.slice(0,m)),l=l.slice(m)}}catch(f){o={error:f}}finally{try{!u&&!n&&(i=d.return)&&(yield W(i.call(d)))}finally{if(o)throw o.error}}l.length>0&&(yield yield W(l))})}class J_{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,o,i]=O_(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function O_(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function K_(t,e){const{response:n,requestLogID:o,retryOfRequestLogID:i,startTime:s}=e,l=await(async()=>{var u;if(e.options.stream)return Ce(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):zt.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const d=n.headers.get("content-type"),c=(u=d==null?void 0:d.split(";")[0])===null||u===void 0?void 0:u.trim();return(c==null?void 0:c.includes("application/json"))||(c==null?void 0:c.endsWith("+json"))?await n.json():await n.text()})();return Ce(t).debug(`[${o}] response parsed`,kt({retryOfRequestLogID:i,url:n.url,status:n.status,body:l,durationMs:Date.now()-s})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ss extends Promise{constructor(e,n,o=K_){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new ss(this.client,this.responsePromise,async(n,o)=>e(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xu=Symbol("brand.privateNullableHeaders");function*W_(t){if(!t)return;if(xu in t){const{values:o,nulls:i}=t;yield*o.entries();for(const s of i)yield[s,null];return}let e=!1,n;t instanceof Headers?n=t.entries():yl(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let o of n){const i=o[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=yl(o[1])?o[1]:[o[1]];let l=!1;for(const u of s)u!==void 0&&(e&&!l&&(l=!0,yield[i,null]),yield[i,u])}}const vn=t=>{const e=new Headers,n=new Set;for(const o of t){const i=new Set;for(const[s,l]of W_(o)){const u=s.toLowerCase();i.has(u)||(e.delete(s),i.add(u)),l===null?(e.delete(s),n.add(u)):(e.append(s,l),n.delete(u))}}return{[xu]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ti=t=>{var e,n,o,i,s,l;if(typeof globalThis.process<"u")return(o=(n=(e=_h)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(l=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,t))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Au;class Ho{constructor(e){var n,o,i,s,l,u,d,{baseURL:c=ti("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:f=(n=ti("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=e,h=vo(e,["baseURL","apiKey","apiVersion"]);const m=Object.assign(Object.assign({apiKey:f,apiVersion:p},h),{baseURL:c||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(o=m.timeout)!==null&&o!==void 0?o:Ho.DEFAULT_TIMEOUT,this.logger=(i=m.logger)!==null&&i!==void 0?i:console;const y="warn";this.logLevel=y,this.logLevel=(l=(s=Cl(m.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:Cl(ti("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:y,this.fetchOptions=m.fetchOptions,this.maxRetries=(u=m.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(d=m.fetch)!==null&&d!==void 0?d:w_(),this.encoder=b_,this._options=m,this.apiKey=f,this.apiVersion=p,this.clientAdapter=m.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=vn([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return vn([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return vn([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,o])=>typeof o<"u").map(([n,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(n)}=`;throw new qe(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Wt}`}defaultIdempotencyKey(){return`stainless-node-retry-${p_()}`}makeStatusError(e,n,o,i){return we.generate(e,n,o,i)}buildURL(e,n,o){const i=!this.baseURLOverridden()&&o||this.baseURL,s=m_(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),l=this.defaultQuery();return v_(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:o}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,o){return this.request(Promise.resolve(o).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new ss(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,o){var i,s,l;const u=await e,d=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=d),await this.prepareOptions(u);const{req:c,url:f,timeout:p}=await this.buildRequest(u,{retryCount:d-n});await this.prepareRequest(c,{url:f,options:u});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=o===void 0?"":`, retryOf: ${o}`,y=Date.now();if(Ce(this).debug(`[${h}] sending request`,kt({retryOfRequestLogID:o,method:u.method,url:f,options:u,headers:c.headers})),!((s=u.signal)===null||s===void 0)&&s.aborted)throw new Ri;const T=new AbortController,E=await this.fetchWithTimeout(f,c,p,T).catch(wi),S=Date.now();if(E instanceof globalThis.Error){const A=`retrying, ${n} attempts remaining`;if(!((l=u.signal)===null||l===void 0)&&l.aborted)throw new Ri;const I=Ai(E)||/timed? ?out/i.test(String(E)+("cause"in E?String(E.cause):""));if(n)return Ce(this).info(`[${h}] connection ${I?"timed out":"failed"} - ${A}`),Ce(this).debug(`[${h}] connection ${I?"timed out":"failed"} (${A})`,kt({retryOfRequestLogID:o,url:f,durationMs:S-y,message:E.message})),this.retryRequest(u,n,o??h);throw Ce(this).info(`[${h}] connection ${I?"timed out":"failed"} - error; no more retries left`),Ce(this).debug(`[${h}] connection ${I?"timed out":"failed"} (error; no more retries left)`,kt({retryOfRequestLogID:o,url:f,durationMs:S-y,message:E.message})),I?new au:new Vo({cause:E})}const M=`[${h}${m}] ${c.method} ${f} ${E.ok?"succeeded":"failed"} with status ${E.status} in ${S-y}ms`;if(!E.ok){const A=await this.shouldRetry(E);if(n&&A){const V=`retrying, ${n} attempts remaining`;return await M_(E.body),Ce(this).info(`${M} - ${V}`),Ce(this).debug(`[${h}] response error (${V})`,kt({retryOfRequestLogID:o,url:E.url,status:E.status,headers:E.headers,durationMs:S-y})),this.retryRequest(u,n,o??h,E.headers)}const I=A?"error; no more retries left":"error; not retryable";Ce(this).info(`${M} - ${I}`);const F=await E.text().catch(V=>wi(V).message),B=E_(F),G=B?void 0:F;throw Ce(this).debug(`[${h}] response error (${I})`,kt({retryOfRequestLogID:o,url:E.url,status:E.status,headers:E.headers,message:G,durationMs:Date.now()-y})),this.makeStatusError(E.status,B,G,E.headers)}return Ce(this).info(M),Ce(this).debug(`[${h}] response start`,kt({retryOfRequestLogID:o,url:E.url,status:E.status,headers:E.headers,durationMs:S-y})),{response:E,options:u,controller:T,requestLogID:h,retryOfRequestLogID:o,startTime:y}}async fetchWithTimeout(e,n,o,i){const s=n||{},{signal:l,method:u}=s,d=vo(s,["signal","method"]);l&&l.addEventListener("abort",()=>i.abort());const c=setTimeout(()=>i.abort(),o),f=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,p=Object.assign(Object.assign(Object.assign({signal:i.signal},f?{duplex:"half"}:{}),{method:"GET"}),d);u&&(p.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,p)}finally{clearTimeout(c)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,o,i){var s;let l;const u=i==null?void 0:i.get("retry-after-ms");if(u){const c=parseFloat(u);Number.isNaN(c)||(l=c)}const d=i==null?void 0:i.get("retry-after");if(d&&!l){const c=parseFloat(d);Number.isNaN(c)?l=Date.parse(d)-Date.now():l=c*1e3}if(!(l&&0<=l&&l<60*1e3)){const c=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,c)}return await C_(l),this.makeRequest(e,n-1,o)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,l=Math.min(.5*Math.pow(2,s),8),u=1-Math.random()*.25;return l*u*1e3}async buildRequest(e,{retryCount:n=0}={}){var o,i,s;const l=Object.assign({},e),{method:u,path:d,query:c,defaultBaseURL:f}=l,p=this.buildURL(d,c,f);"timeout"in l&&T_("timeout",l.timeout),l.timeout=(o=l.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:h,body:m}=this.buildBody({options:l}),y=await this.buildHeaders({options:e,method:u,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:y},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=l.fetchOptions)!==null&&s!==void 0?s:{}),url:p,timeout:l.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:o,retryCount:i}){let s={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const l=await this.authHeaders(e);let u=vn([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),A_()),this._options.defaultHeaders,o,e.headers,l]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=vn([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:R_(e)}:this.encoder({body:e,headers:o})}}Ho.DEFAULT_TIMEOUT=6e4;class me extends Ho{constructor(){super(...arguments),this.interactions=new Iu(this)}}Au=me;me.GeminiNextGenAPIClient=Au;me.GeminiNextGenAPIClientError=qe;me.APIError=we;me.APIConnectionError=Vo;me.APIConnectionTimeoutError=au;me.APIUserAbortError=Ri;me.NotFoundError=fu;me.ConflictError=pu;me.RateLimitError=mu;me.BadRequestError=uu;me.AuthenticationError=cu;me.InternalServerError=gu;me.PermissionDeniedError=du;me.UnprocessableEntityError=hu;me.toFile=U_;me.Interactions=Iu;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y_(t,e){const n={},o=r(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function z_(t,e){const n={},o=r(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function X_(t,e){const n={},o=r(t,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function Q_(t,e){const n={},o=r(t,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function Z_(t,e,n){const o={};if(r(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=r(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&a(e,["displayName"],i),r(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=r(t,["epochCount"]);e!==void 0&&s!=null&&a(e,["tuningTask","hyperparameters","epochCount"],s);const l=r(t,["learningRateMultiplier"]);if(l!=null&&a(o,["tuningTask","hyperparameters","learningRateMultiplier"],l),r(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(r(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(r(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=r(t,["batchSize"]);e!==void 0&&u!=null&&a(e,["tuningTask","hyperparameters","batchSize"],u);const d=r(t,["learningRate"]);if(e!==void 0&&d!=null&&a(e,["tuningTask","hyperparameters","learningRate"],d),r(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(r(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function j_(t,e,n){const o={};let i=r(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const m=r(t,["validationDataset"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec"],Il(m))}else if(i==="PREFERENCE_TUNING"){const m=r(t,["validationDataset"]);e!==void 0&&m!=null&&a(e,["preferenceOptimizationSpec"],Il(m))}const s=r(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&a(e,["tunedModelDisplayName"],s);const l=r(t,["description"]);e!==void 0&&l!=null&&a(e,["description"],l);let u=r(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const m=r(t,["epochCount"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(u==="PREFERENCE_TUNING"){const m=r(t,["epochCount"]);e!==void 0&&m!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let d=r(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const m=r(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(d==="PREFERENCE_TUNING"){const m=r(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let c=r(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const m=r(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(c==="PREFERENCE_TUNING"){const m=r(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&a(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let f=r(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const m=r(t,["adapterSize"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(f==="PREFERENCE_TUNING"){const m=r(t,["adapterSize"]);e!==void 0&&m!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(r(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(r(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=r(t,["labels"]);e!==void 0&&p!=null&&a(e,["labels"],p);const h=r(t,["beta"]);return e!==void 0&&h!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),o}function eT(t,e){const n={},o=r(t,["baseModel"]);o!=null&&a(n,["baseModel"],o);const i=r(t,["preTunedModel"]);i!=null&&a(n,["preTunedModel"],i);const s=r(t,["trainingDataset"]);s!=null&&dT(s);const l=r(t,["config"]);return l!=null&&Z_(l,n),n}function tT(t,e){const n={},o=r(t,["baseModel"]);o!=null&&a(n,["baseModel"],o);const i=r(t,["preTunedModel"]);i!=null&&a(n,["preTunedModel"],i);const s=r(t,["trainingDataset"]);s!=null&&fT(s,n,e);const l=r(t,["config"]);return l!=null&&j_(l,n,e),n}function nT(t,e){const n={},o=r(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function oT(t,e){const n={},o=r(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function iT(t,e,n){const o={},i=r(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const s=r(t,["pageToken"]);e!==void 0&&s!=null&&a(e,["_query","pageToken"],s);const l=r(t,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),o}function sT(t,e,n){const o={},i=r(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const s=r(t,["pageToken"]);e!==void 0&&s!=null&&a(e,["_query","pageToken"],s);const l=r(t,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),o}function rT(t,e){const n={},o=r(t,["config"]);return o!=null&&iT(o,n),n}function lT(t,e){const n={},o=r(t,["config"]);return o!=null&&sT(o,n),n}function aT(t,e){const n={},o=r(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=r(t,["nextPageToken"]);i!=null&&a(n,["nextPageToken"],i);const s=r(t,["tunedModels"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>wu(u))),a(n,["tuningJobs"],l)}return n}function uT(t,e){const n={},o=r(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=r(t,["nextPageToken"]);i!=null&&a(n,["nextPageToken"],i);const s=r(t,["tuningJobs"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>Pi(u))),a(n,["tuningJobs"],l)}return n}function cT(t,e){const n={},o=r(t,["name"]);o!=null&&a(n,["model"],o);const i=r(t,["name"]);return i!=null&&a(n,["endpoint"],i),n}function dT(t,e){const n={};if(r(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=r(t,["examples"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),a(n,["examples","examples"],i)}return n}function fT(t,e,n){const o={};let i=r(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=r(t,["gcsUri"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=r(t,["gcsUri"]);e!==void 0&&l!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let s=r(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const l=r(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(s==="PREFERENCE_TUNING"){const l=r(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(r(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function wu(t,e){const n={},o=r(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=r(t,["name"]);i!=null&&a(n,["name"],i);const s=r(t,["state"]);s!=null&&a(n,["state"],Ba(s));const l=r(t,["createTime"]);l!=null&&a(n,["createTime"],l);const u=r(t,["tuningTask","startTime"]);u!=null&&a(n,["startTime"],u);const d=r(t,["tuningTask","completeTime"]);d!=null&&a(n,["endTime"],d);const c=r(t,["updateTime"]);c!=null&&a(n,["updateTime"],c);const f=r(t,["description"]);f!=null&&a(n,["description"],f);const p=r(t,["baseModel"]);p!=null&&a(n,["baseModel"],p);const h=r(t,["_self"]);return h!=null&&a(n,["tunedModel"],cT(h)),n}function Pi(t,e){const n={},o=r(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=r(t,["name"]);i!=null&&a(n,["name"],i);const s=r(t,["state"]);s!=null&&a(n,["state"],Ba(s));const l=r(t,["createTime"]);l!=null&&a(n,["createTime"],l);const u=r(t,["startTime"]);u!=null&&a(n,["startTime"],u);const d=r(t,["endTime"]);d!=null&&a(n,["endTime"],d);const c=r(t,["updateTime"]);c!=null&&a(n,["updateTime"],c);const f=r(t,["error"]);f!=null&&a(n,["error"],f);const p=r(t,["description"]);p!=null&&a(n,["description"],p);const h=r(t,["baseModel"]);h!=null&&a(n,["baseModel"],h);const m=r(t,["tunedModel"]);m!=null&&a(n,["tunedModel"],m);const y=r(t,["preTunedModel"]);y!=null&&a(n,["preTunedModel"],y);const T=r(t,["supervisedTuningSpec"]);T!=null&&a(n,["supervisedTuningSpec"],T);const E=r(t,["preferenceOptimizationSpec"]);E!=null&&a(n,["preferenceOptimizationSpec"],E);const S=r(t,["tuningDataStats"]);S!=null&&a(n,["tuningDataStats"],S);const M=r(t,["encryptionSpec"]);M!=null&&a(n,["encryptionSpec"],M);const A=r(t,["partnerModelTuningSpec"]);A!=null&&a(n,["partnerModelTuningSpec"],A);const I=r(t,["customBaseModel"]);I!=null&&a(n,["customBaseModel"],I);const F=r(t,["experiment"]);F!=null&&a(n,["experiment"],F);const B=r(t,["labels"]);B!=null&&a(n,["labels"],B);const G=r(t,["outputUri"]);G!=null&&a(n,["outputUri"],G);const X=r(t,["pipelineJob"]);X!=null&&a(n,["pipelineJob"],X);const V=r(t,["serviceAccount"]);V!=null&&a(n,["serviceAccount"],V);const z=r(t,["tunedModelDisplayName"]);z!=null&&a(n,["tunedModelDisplayName"],z);const ne=r(t,["veoTuningSpec"]);return ne!=null&&a(n,["veoTuningSpec"],ne),n}function pT(t,e){const n={},o=r(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=r(t,["name"]);i!=null&&a(n,["name"],i);const s=r(t,["metadata"]);s!=null&&a(n,["metadata"],s);const l=r(t,["done"]);l!=null&&a(n,["done"],l);const u=r(t,["error"]);return u!=null&&a(n,["error"],u),n}function Il(t,e){const n={},o=r(t,["gcsUri"]);o!=null&&a(n,["validationDatasetUri"],o);const i=r(t,["vertexDatasetResource"]);return i!=null&&a(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hT extends yt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Bt(mt.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),s=await this.tuneMldevInternal(i);let l="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?l=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(l=s.name.split("/operations/")[0]),{name:l,state:_i.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,i,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=oT(e);return u=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>Pi(f))}else{const c=nT(e);return u=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>wu(f))}}async listInternal(e){var n,o,i,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=lT(e);return u=k("tuningJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=uT(f),h=new Xr;return Object.assign(h,p),h})}else{const c=rT(e);return u=k("tunedModels",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=aT(f),h=new Xr;return Object.assign(h,p),h})}}async cancel(e){var n,o,i,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=z_(e);return u=k("{name}:cancel",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Q_(f),h=new Qr;return Object.assign(h,p),h})}else{const c=Y_(e);return u=k("{name}:cancel",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=X_(f),h=new Qr;return Object.assign(h,p),h})}}async tuneInternal(e){var n,o;let i,s="",l={};if(this.apiClient.isVertexAI()){const u=tT(e,e);return s=k("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),i.then(d=>Pi(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=eT(e);return s=k("tunedModels",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),i.then(d=>pT(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mT{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const gT=1024*1024*8,yT=3,vT=1e3,_T=2,To="x-goog-upload-status";async function TT(t,e,n){var o;const i=await Ru(t,e,n),s=await(i==null?void 0:i.json());if(((o=i==null?void 0:i.headers)===null||o===void 0?void 0:o[To])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function ET(t,e,n){var o;const i=await Ru(t,e,n),s=await(i==null?void 0:i.json());if(((o=i==null?void 0:i.headers)===null||o===void 0?void 0:o[To])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=La(s),u=new Zi;return Object.assign(u,l),u}async function Ru(t,e,n){var o,i;let s=0,l=0,u=new Ti(new Response),d="upload";for(s=t.size;l<s;){const c=Math.min(gT,s-l),f=t.slice(l,l+c);l+c>=s&&(d+=", finalize");let p=0,h=vT;for(;p<yT&&(u=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(c)}}}),!(!((o=u==null?void 0:u.headers)===null||o===void 0)&&o[To]));)p++,await ST(h),h=h*_T;if(l+=c,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[To])!=="active")break;if(s<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function CT(t){return{size:t.size,type:t.type}}function ST(t){return new Promise(e=>setTimeout(e,t))}class IT{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await TT(e,n,o)}async uploadToFileSearchStore(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ET(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await CT(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xT{create(e,n,o){return new AT(e,n,o)}}class AT{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xl="x-goog-api-key";class wT{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(xl)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(xl,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RT="gl-node/";class MT{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new me({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const o=Sh(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new wT(this.apiKey);this.apiClient=new C0({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:RT+"web",uploader:new IT,downloader:new mT}),this.models=new $0(this.apiClient),this.live=new U0(this.apiClient,i,new xT),this.batches=new Zm(this.apiClient),this.chats=new Dg(this.models,this.apiClient),this.caches=new bg(this.apiClient),this.files=new Bg(this.apiClient),this.operations=new q0(this.apiClient),this.authTokens=new i_(this.apiClient),this.tunings=new hT(this.apiClient),this.fileSearchStores=new f_(this.apiClient)}}const bT=()=>{const t="";return new MT({apiKey:t})},PT=async(t,e,n)=>{try{const o=bT(),i=`You are a helpful assistant for a Cricket Sports Facility called "CricBook Pro".
    Write a professional ${e} message template about "${t}".
    The tone should be ${n}.
    Keep it concise.
    Context: Cricket match bookings, tournament invites, membership renewals, or rain delays.
    If it is for WhatsApp, include placeholders like {{1}}, {{2}} for variables.
    If it is for SMS, keep it under 160 characters.`;return(await o.models.generateContent({model:"gemini-2.5-flash",contents:i})).text}catch(o){return console.error("AI Generation Error:",o),"Error generating content. Please check your API key."}},NT={class:"space-y-6"},DT={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},kT={key:0,class:"bg-white p-4 md:p-6 rounded-xl shadow-md border border-slate-100 animate-in slide-in-from-top-4 duration-300"},UT={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},FT={class:"space-y-4"},LT=["disabled"],VT={class:"bg-slate-50 p-4 rounded-lg border border-slate-200"},GT={class:"mt-6 flex justify-end space-x-3 pt-4 border-t border-slate-100"},HT={class:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-x-auto"},$T={class:"w-full text-left min-w-[500px]"},qT={class:"divide-y divide-slate-100"},BT={class:"px-4 md:px-6 py-4"},JT={class:"font-medium text-slate-800 text-sm"},OT={class:"text-[10px] text-slate-400"},KT={class:"px-4 md:px-6 py-4"},WT={class:"flex items-center space-x-2"},YT={class:"text-xs text-slate-600 capitalize"},zT={class:"px-4 md:px-6 py-4 text-[10px] text-slate-600"},XT={class:"text-blue-600 font-bold"},QT={__name:"CampaignManager",props:{campaigns:{type:Array,default:()=>[]}},setup(t){const e=t,n=pe(!1),o=pe(""),i=pe(""),s=pe(!1),l=De(()=>e.campaigns&&e.campaigns.length?e.campaigns:gi),u=async()=>{s.value=!0;const d=await PT(o.value,"WhatsApp","Exciting and Sports-focused");d&&(i.value=d),s.value=!1};return(d,c)=>(L(),$("div",NT,[g("div",DT,[c[5]||(c[5]=g("h2",{class:"text-xl md:text-2xl font-bold text-slate-800"},"Broadcasts",-1)),g("button",{class:"w-full sm:w-auto px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium text-xs md:text-sm",onClick:c[0]||(c[0]=f=>n.value=!n.value)},[...c[4]||(c[4]=[g("span",null,"+ New Announcement",-1)])])]),n.value?(L(),$("div",kT,[g("div",UT,[g("div",FT,[c[7]||(c[7]=g("div",null,[g("label",{class:"block text-xs font-medium text-slate-700 mb-1"},"Campaign Name"),g("input",{type:"text",class:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none text-sm",placeholder:"e.g., Trial Matches"})],-1)),g("div",null,[c[6]||(c[6]=g("label",{class:"block text-xs font-medium text-slate-700 mb-1"},"Topic for AI",-1)),Lt(g("textarea",{"onUpdate:modelValue":c[1]||(c[1]=f=>o.value=f),class:"w-full px-3 py-2 border rounded-lg h-24 focus:ring-2 focus:ring-emerald-500 outline-none resize-none text-sm",placeholder:" renovation next week..."},null,512),[[tn,o.value]]),g("button",{class:"mt-2 text-[10px] md:text-xs text-purple-600 font-medium hover:text-purple-700",disabled:s.value,onClick:u},J(s.value?"Drafting...":" Generate with Gemini"),9,LT)])]),g("div",VT,[c[8]||(c[8]=g("label",{class:"block text-[10px] font-bold text-slate-500 uppercase mb-2"},"Preview",-1)),Lt(g("textarea",{"onUpdate:modelValue":c[2]||(c[2]=f=>i.value=f),class:"w-full h-full bg-transparent border-none outline-none text-slate-700 font-mono text-xs resize-none min-h-[120px]",placeholder:"AI content..."},null,512),[[tn,i.value]])])]),g("div",GT,[g("button",{class:"px-4 py-2 text-xs text-slate-600",onClick:c[3]||(c[3]=f=>n.value=!1)},"Cancel"),c[9]||(c[9]=g("button",{class:"px-6 py-2 bg-slate-900 text-white rounded-lg text-xs"},"Send Blast",-1))])])):$t("",!0),g("div",HT,[g("table",$T,[c[11]||(c[11]=g("thead",{class:"bg-slate-50 border-b border-slate-200"},[g("tr",null,[g("th",{class:"px-4 md:px-6 py-4 text-[10px] font-semibold text-slate-500 uppercase"},"Campaign"),g("th",{class:"px-4 md:px-6 py-4 text-[10px] font-semibold text-slate-500 uppercase"},"Status"),g("th",{class:"px-4 md:px-6 py-4 text-[10px] font-semibold text-slate-500 uppercase"},"Stats")])],-1)),g("tbody",qT,[(L(!0),$(ce,null,Ne(l.value,f=>(L(),$("tr",{key:f.id,class:"hover:bg-slate-50"},[g("td",BT,[g("p",JT,J(f.name),1),g("p",OT,J(f.channel),1)]),g("td",KT,[g("div",WT,[g("div",{class:ue(["w-1.5 h-1.5 rounded-full",f.status==="ACTIVE"?"bg-emerald-500 animate-pulse":"bg-slate-400"])},null,2),g("span",YT,J(f.status.toLowerCase()),1)])]),g("td",zT,[g("span",XT,J(f.stats.sent),1),c[10]||(c[10]=No(" Sent ",-1))])]))),128))])])])]))}},ZT={class:"space-y-6"},jT={class:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-x-auto"},eE={class:"w-full text-left min-w-[600px]"},tE={class:"divide-y divide-slate-100"},nE={class:"px-6 py-4 text-xs text-slate-500"},oE={class:"px-6 py-4 text-xs font-medium text-slate-800"},iE={class:"px-6 py-4 text-xs text-slate-600"},sE={__name:"AuditTrail",props:{auditLogs:{type:Array,default:()=>[]}},setup(t){const e=t,n=De(()=>e.auditLogs&&e.auditLogs.length?e.auditLogs:yi);return(o,i)=>(L(),$("div",ZT,[i[1]||(i[1]=g("h2",{class:"text-xl md:text-2xl font-bold text-slate-800"},"Audit Trail",-1)),g("div",jT,[g("table",eE,[i[0]||(i[0]=g("thead",{class:"bg-slate-50 border-b border-slate-200"},[g("tr",null,[g("th",{class:"px-6 py-4 text-[10px] font-semibold text-slate-500 uppercase"},"Timestamp"),g("th",{class:"px-6 py-4 text-[10px] font-semibold text-slate-500 uppercase"},"User"),g("th",{class:"px-6 py-4 text-[10px] font-semibold text-slate-500 uppercase"},"Action")])],-1)),g("tbody",tE,[(L(!0),$(ce,null,Ne(n.value,s=>(L(),$("tr",{key:s.id,class:"hover:bg-slate-50"},[g("td",nE,J(new Date(s.timestamp).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})),1),g("td",oE,J(s.userId),1),g("td",iE,J(s.details),1)]))),128))])])])]))}},rE={class:"min-h-screen bg-slate-900 flex items-center justify-center p-4"},lE={class:"bg-white w-full max-w-md rounded-2xl p-6 md:p-8 shadow-2xl relative overflow-hidden"},aE={class:"space-y-4"},uE={class:"bg-slate-50 p-4 rounded-lg border border-slate-200 text-center"},cE={class:"grid grid-cols-2 gap-2"},dE={__name:"Login",emits:["login"],setup(t,{emit:e}){const n=e;return(o,i)=>(L(),$("div",rE,[g("div",lE,[i[7]||(i[7]=g("div",{class:"absolute top-0 left-0 w-full h-2 bg-emerald-500"},null,-1)),i[8]||(i[8]=g("div",{class:"text-center mb-8"},[g("h1",{class:"text-2xl md:text-3xl font-bold text-slate-900"},"CricBook Pro"),g("p",{class:"text-sm text-slate-500"},"Facility Management Login")],-1)),g("div",aE,[i[5]||(i[5]=g("div",null,[g("label",{class:"block text-xs font-medium text-slate-700 mb-1"},"Email"),g("input",{type:"email",class:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none text-sm",placeholder:"coach@cricbook.com"})],-1)),i[6]||(i[6]=g("div",null,[g("label",{class:"block text-xs font-medium text-slate-700 mb-1"},"Password"),g("input",{type:"password",class:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none text-sm",placeholder:""})],-1)),g("div",uE,[i[4]||(i[4]=g("p",{class:"text-[10px] text-slate-500 mb-2 uppercase font-bold tracking-wider"},"Simulate Role",-1)),g("div",cE,[g("button",{class:"px-3 py-1.5 bg-purple-600 text-white text-[10px] rounded hover:bg-purple-700 font-bold uppercase",onClick:i[0]||(i[0]=s=>n("login",dt(Be).SUPER_ADMIN))}," Admin "),g("button",{class:"px-3 py-1.5 bg-blue-600 text-white text-[10px] rounded hover:bg-blue-700 font-bold uppercase",onClick:i[1]||(i[1]=s=>n("login",dt(Be).MANAGER))}," Manager "),g("button",{class:"px-3 py-1.5 bg-emerald-600 text-white text-[10px] rounded hover:bg-emerald-700 font-bold uppercase",onClick:i[2]||(i[2]=s=>n("login",dt(Be).STAFF))}," Staff "),g("button",{class:"px-3 py-1.5 bg-orange-500 text-white text-[10px] rounded hover:bg-orange-600 font-bold uppercase",onClick:i[3]||(i[3]=s=>n("login",dt(Be).MEMBER))}," Member ")])])])])]))}},fE="http://localhost:8000/api",Nt=async(t,e)=>{const n=await fetch(`${fE}${t}`,{headers:{"Content-Type":"application/json"},...e});if(!n.ok)throw new Error(`API ${n.status}`);return await n.json()},Ot={login:t=>Nt("/login",{method:"POST",body:JSON.stringify({role:t})}),members:()=>Nt("/members"),bookings:()=>Nt("/bookings"),createBooking:t=>Nt("/bookings",{method:"POST",body:JSON.stringify(t)}),campaigns:()=>Nt("/campaigns"),chat:t=>Nt(t?`/chat?memberId=${t}`:"/chat"),audit:()=>Nt("/audit")},pE={key:1,class:"flex bg-slate-50 min-h-screen font-sans text-slate-900 overflow-x-hidden"},hE={class:"flex justify-between items-center mb-6 md:mb-8"},mE={class:"flex items-center space-x-3"},gE={class:"text-xl"},yE={class:"hidden sm:block"},vE={class:"text-xl md:text-2xl font-bold text-slate-800 capitalize leading-tight"},_E={class:"text-xs text-slate-500"},TE={class:"flex items-center space-x-3 md:space-x-4"},EE={class:"text-right hidden md:block"},CE={class:"text-sm font-bold text-slate-800"},SE={class:"text-[10px] text-slate-500 uppercase font-bold tracking-tight"},IE={class:"w-10 h-10 rounded-full bg-slate-200 overflow-hidden border-2 border-white shadow-sm shrink-0"},xE=["src"],AE={class:"mx-auto"},wE={key:6,class:"flex flex-col items-center justify-center h-64 md:h-96 border-2 border-dashed border-slate-300 rounded-xl text-slate-400"},RE={__name:"App",setup(t){const e=pe(null),n=pe("dashboard"),o=pe(!0),i=pe(qt),s=pe(po),l=pe(gi),u=pe(ho),d=pe(yi),c=()=>{o.value=window.innerWidth>=1024};la(()=>{c(),p(),window.addEventListener("resize",c)}),aa(()=>{window.removeEventListener("resize",c)});const f=async m=>{try{const y=await Ot.login(m);e.value=y}catch(y){console.warn("API login failed, using mock user",y);const T=Ks.find(E=>E.role===m)||Ks[0];e.value=T}n.value=m===Be.MEMBER?"bookings":"dashboard"},p=async()=>{try{i.value=await Ot.members()}catch(m){console.warn("Members fallback to mock",m),i.value=qt}try{s.value=await Ot.bookings()}catch(m){console.warn("Bookings fallback to mock",m),s.value=po}try{l.value=await Ot.campaigns()}catch(m){console.warn("Campaigns fallback to mock",m),l.value=gi}try{u.value=await Ot.chat()}catch(m){console.warn("Chat fallback to mock",m),u.value=ho}try{d.value=await Ot.audit()}catch(m){console.warn("Audit fallback to mock",m),d.value=yi}},h=()=>{e.value=null};return(m,y)=>e.value?(L(),$("div",pE,[xe(Yf,{"current-tab":n.value,"user-role":e.value.role,"is-open":o.value,"onUpdate:tab":y[0]||(y[0]=T=>n.value=T),"onUpdate:open":y[1]||(y[1]=T=>o.value=T),onLogout:h},null,8,["current-tab","user-role","is-open"]),g("main",{class:ue(["flex-1 transition-all duration-300 ease-in-out p-4 md:p-8",o.value?"md:ml-64":"md:ml-20"])},[g("header",hE,[g("div",mE,[g("button",{class:"p-2 bg-white rounded-lg border border-slate-200 shadow-sm hover:bg-slate-50 transition-colors","aria-label":"Toggle Sidebar",onClick:y[2]||(y[2]=T=>o.value=!o.value)},[g("span",gE,J(o.value?"":""),1)]),g("div",yE,[g("h1",vE,J(n.value.replace("-"," ")),1),g("p",_E,"Welcome, "+J(e.value.name),1)])]),g("div",TE,[g("div",EE,[g("p",CE,J(e.value.name),1),g("p",SE,J(e.value.role),1)]),g("div",IE,[g("img",{src:e.value.avatarUrl,alt:"User",class:"w-full h-full object-cover"},null,8,xE)])])]),g("div",AE,[n.value==="dashboard"?(L(),lt(gp,{key:0,bookings:s.value,campaigns:l.value},null,8,["bookings","campaigns"])):n.value==="bookings"?(L(),lt(Op,{key:1,"initial-bookings":s.value,members:i.value},null,8,["initial-bookings","members"])):n.value==="members"?(L(),lt(nh,{key:2,members:i.value},null,8,["members"])):n.value==="campaigns"?(L(),lt(QT,{key:3,campaigns:l.value},null,8,["campaigns"])):n.value==="chat"?(L(),lt(vh,{key:4,members:i.value,messages:u.value},null,8,["members","messages"])):n.value==="audit"&&e.value.role===dt(Be).SUPER_ADMIN?(L(),lt(sE,{key:5,"audit-logs":d.value},null,8,["audit-logs"])):n.value==="reports"||n.value==="settings"?(L(),$("div",wE,[...y[3]||(y[3]=[g("span",{class:"text-4xl mb-2"},"",-1),g("p",{class:"font-medium text-sm md:text-base"},"Settings & Reports Module",-1),g("p",{class:"text-[10px] md:text-xs"},"Configure Twilio & Mailgun API keys here.",-1)])])):$t("",!0)])],2)])):(L(),lt(dE,{key:0,onLogin:f}))}},ME={url:"http://localhost",port:null,defaults:{},routes:{}};ef(RE).use(Vf,ME).mount("#app");
